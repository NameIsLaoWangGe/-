{
  "code": "import { LwgTimer } from \"../../Lwg/Lwg\";\r\nimport { _Game } from \"../_GameData\";\r\nimport BloodBase from \"./BloodBase\";\r\nimport { HeroAttack } from \"./HeroAttack\";\r\nexport default class Hero extends BloodBase {\r\n    lwgOnAwake() {\r\n        this.bloodInit(5000);\r\n        this.attackInterval = 10;\r\n        this._HeroAttack = new HeroAttack(this._SceneImg('WeaponParent'), this._Owner);\r\n        this._HeroAttack.ballisticNum = 1;\r\n    }\r\n    lwgOnStart() {\r\n        LwgTimer._frameLoop(this.attackInterval, this, () => {\r\n            if (this.mouseP) {\r\n                this._HeroAttack.attack_S();\r\n            }\r\n        });\r\n    }\r\n    deathFunc() {\r\n        this._openScene('Defeated', false);\r\n    }\r\n    lwgEvent() {\r\n        this._evReg(_Game._Event.checkEnemyBullet, (Bullet, numBlood) => {\r\n            this.checkOtherRule(Bullet, 40, numBlood);\r\n        });\r\n        this._evReg(_Game._Event.checkBuff, (type) => {\r\n            switch (type) {\r\n                case 0:\r\n                    this._HeroAttack.ballisticNum++;\r\n                    break;\r\n                case 1:\r\n                    break;\r\n                case 2:\r\n                    break;\r\n                case 3:\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n    move(e) {\r\n        if (this.mouseP) {\r\n            let diffX = e.stageX - this.mouseP.x;\r\n            let diffY = e.stageY - this.mouseP.y;\r\n            this._Owner.x += diffX;\r\n            this._Owner.y += diffY;\r\n            this.mouseP = new Laya.Point(e.stageX, e.stageY);\r\n            if (this._Owner.x > Laya.stage.width) {\r\n                this._Owner.x = Laya.stage.width;\r\n            }\r\n            if (this._Owner.x < 0) {\r\n                this._Owner.x = 0;\r\n            }\r\n            if (this._Owner.y <= 0) {\r\n                this._Owner.y = 0;\r\n            }\r\n            if (this._Owner.y > Laya.stage.height) {\r\n                this._Owner.y = Laya.stage.height;\r\n            }\r\n        }\r\n    }\r\n    ;\r\n    lwgOnStageDown(e) {\r\n        this.mouseP = new Laya.Point(e.stageX, e.stageY);\r\n    }\r\n    lwgOnStageMove(e) {\r\n        this.move(e);\r\n    }\r\n    lwgOnStageUp() {\r\n        this.mouseP = null;\r\n    }\r\n}\r\n",
  "references": [
    "D:/Work/RescueFlowerGirl/RescueFlowerGirl_2.5.0/src/script/Lwg/Lwg.ts",
    "D:/Work/RescueFlowerGirl/RescueFlowerGirl_2.5.0/src/script/Game/_GameData.ts",
    "D:/Work/RescueFlowerGirl/RescueFlowerGirl_2.5.0/src/script/Game/Role/BloodBase.ts",
    "D:/Work/RescueFlowerGirl/RescueFlowerGirl_2.5.0/src/script/Game/Role/HeroAttack.ts"
  ]
}
