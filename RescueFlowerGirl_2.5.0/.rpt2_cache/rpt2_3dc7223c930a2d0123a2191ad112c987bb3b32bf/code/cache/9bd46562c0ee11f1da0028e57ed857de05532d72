{
  "code": "import { LwgScene, LwgTimer, LwgTools } from \"../Lwg/Lwg\";\r\nimport { _Game } from \"./General/_GameGlobal\";\r\nexport class Levels_HeroWeapon extends LwgScene._ObjectBase {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.launchAcc = 0;\r\n        this.dropAcc = 0;\r\n        this.stateType = {\r\n            launch: 'launch',\r\n            free: 'free',\r\n        };\r\n    }\r\n    get state() {\r\n        return this['Statevalue'] ? this['Statevalue'] : 'launch';\r\n    }\r\n    ;\r\n    set state(_state) {\r\n        this['Statevalue'] = _state;\r\n    }\r\n    ;\r\n    getSpeed() {\r\n        return 15 + 0.1;\r\n    }\r\n    getDropSpeed() {\r\n        return this.dropAcc += 0.5;\r\n    }\r\n    lwgOnAwake() {\r\n        LwgTimer.frameLoop(1, this, () => {\r\n            this.move();\r\n        });\r\n    }\r\n    move() {\r\n        if (this.getSpeed() > 0) {\r\n            let p = LwgTools.Point.angleAndLenByPoint(this._Owner.rotation - 90, this.getSpeed());\r\n            this._Owner.x += p.x;\r\n            this._Owner.y += p.y;\r\n        }\r\n        else {\r\n            this._Owner.y += this.getDropSpeed();\r\n        }\r\n        const leave = LwgTools.Node.leaveStage(this._Owner, () => {\r\n            this._Owner.destroy();\r\n        });\r\n        if (!leave) {\r\n            this._evNotify(_Game._Event.treeCheckWeapon, [this._Owner, 1]);\r\n            this._evNotify(_Game._Event.enemyCheckWeapon, [this._Owner, 1]);\r\n            this._evNotify(_Game._Event.enemyLandCheckWeapon, [this._Owner, 1]);\r\n            this._evNotify(_Game._Event.enemyHouseCheckWeapon, [this._Owner, 1]);\r\n            this._evNotify(_Game._Event.heroineCheckWeapon, [this._Owner, 1]);\r\n            this._evNotify(_Game._Event.bossCheckWeapon, [this._Owner, 1]);\r\n        }\r\n    }\r\n    drop() {\r\n        this.state = this.stateType.free;\r\n        Laya.timer.clearAll(this);\r\n        LwgTimer.frameLoop(1, this, () => {\r\n            this._Owner.y += 40;\r\n            this._Owner.rotation += 10;\r\n            LwgTools.Node.leaveStage(this._Owner, () => {\r\n                this._Owner.destroy();\r\n            });\r\n        });\r\n    }\r\n}\r\n",
  "references": [
    "D:/Work/Game/RescueFlowerGirl/Project/RescueFlowerGirl_2.5.0/src/script/Lwg/Lwg.ts",
    "D:/Work/Game/RescueFlowerGirl/Project/RescueFlowerGirl_2.5.0/src/script/Game/General/_GameGlobal.ts"
  ]
}
