{
  "code": "import { Admin, DataAdmin, TimerAdmin, Tools } from \"../Frame/Lwg\";\r\nimport { _LwgEvent } from \"../Frame/LwgEvent\";\r\nimport { _Res } from \"../Frame/_PreLoad\";\r\nexport class _BuffData extends DataAdmin._Table {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.type = {\r\n            ballisticNum: 'ballisticNum',\r\n        };\r\n    }\r\n    static _ins() {\r\n        if (!this.ins) {\r\n            this.ins = new _BuffData();\r\n        }\r\n        return this.ins;\r\n    }\r\n    createBuff(type, Parent, x, y) {\r\n        const Buff = Tools._Node.createPrefab(_Res._list.prefab2D.Buff.prefab, Parent, [x, y]);\r\n        Buff['buffType'] = type;\r\n        Buff.addComponent(_Buff);\r\n        return Buff;\r\n    }\r\n}\r\nexport default class _Buff extends Admin._ObjectBase {\r\n    lwgOnStart() {\r\n        this.checkHero();\r\n    }\r\n    checkHero() {\r\n        TimerAdmin._frameLoop(1, this, () => {\r\n            this._Owner.y += 5;\r\n            !Tools._Node.leaveStage(this._Owner, () => {\r\n                this._Owner.removeSelf();\r\n            }) && Tools._Node.checkTwoDistance(this._Owner, this._SceneImg('Hero'), 60, () => {\r\n                this._Owner.removeSelf();\r\n                this._evNotify(_LwgEvent.Game.addBuff, [this._Owner['buffType']]);\r\n            });\r\n        });\r\n    }\r\n}\r\nexport class Tree extends Admin._ObjectBase {\r\n    lwgOnAwake() {\r\n        this.Pic = this._Owner.getChildByName('Blood').getChildByName('Pic');\r\n        this.bloodNum = 20;\r\n        this.proWidth = this.Pic.width;\r\n    }\r\n    lwgEvent() {\r\n        this._evReg(_LwgEvent.Game.treeBlood, (Tree) => {\r\n            if (Tree === this._Owner) {\r\n                this.bloodNum -= 1;\r\n                this.Pic.width = this.Pic.width - this.proWidth / this.bloodNum;\r\n                if (this.proWidth <= 0) {\r\n                    _BuffData._ins().createBuff(0, this._Scene, this._gPoint.x, this._gPoint.y);\r\n                    this._Owner.destroy();\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n",
  "references": [
    "F:/Work/Game/07_RescueFlowerGirl_2.5.0/Project/RescueFlowerGirl_2.5.0/src/script/Frame/Lwg.ts",
    "F:/Work/Game/07_RescueFlowerGirl_2.5.0/Project/RescueFlowerGirl_2.5.0/src/script/Frame/LwgEvent.ts",
    "F:/Work/Game/07_RescueFlowerGirl_2.5.0/Project/RescueFlowerGirl_2.5.0/src/script/Frame/_PreLoad.ts"
  ]
}
