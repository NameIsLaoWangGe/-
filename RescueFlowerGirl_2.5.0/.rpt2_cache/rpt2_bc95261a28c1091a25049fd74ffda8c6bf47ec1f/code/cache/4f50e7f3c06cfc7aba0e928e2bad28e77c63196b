{
  "code": "import { LwgTimer, LwgTools } from \"../Lwg/Lwg\";\r\nimport { EnemyAttackControl } from \"./EnemyAttack/EnemyAttackControl\";\r\nimport { _GameEvent } from \"./General/_GameEvent\";\r\nimport { _Res } from \"./General/_Res\";\r\nimport { Levels_Heroine } from \"./Levels_Heroine\";\r\nimport Levels_RoleBase from \"./Levels_RoleBase\";\r\nexport default class Levels_Enemy extends Levels_RoleBase {\r\n    lwgOnAwake() {\r\n        this.generalProInit();\r\n        this.bloodInit(this._Owner['_EnemyData']['blood']);\r\n        this.ranAttackNum = LwgTools.Num.randomOneBySection(1, 3, true);\r\n    }\r\n    generalProInit() {\r\n        this._Owner.pos(Laya.stage.width / 2, 300);\r\n        this._ImgChild('Shell').removeSelf();\r\n        if (this._Owner['_EnemyData']['color']) {\r\n            this._ImgChild('Pic').skin = `Game/UI/Game/Enemy/enemy_01_${this._Owner['_EnemyData']['color']}.png`;\r\n        }\r\n        const angle = this._Owner['_EnemyData']['angle'];\r\n        this._Owner.rotation = angle;\r\n        this.speed = this._Owner['_EnemyData']['speed'];\r\n        this.groundRadius = 200;\r\n    }\r\n    lwgOnStart() {\r\n        this.attack();\r\n        this.appear(() => {\r\n            this.move();\r\n        });\r\n    }\r\n    appear(func) {\r\n        let radius = 0;\r\n        const radiusSpeed = 2;\r\n        const time = 220 / radiusSpeed;\r\n        LwgTimer.frameNumLoop(1, time, this, () => {\r\n            radius += radiusSpeed;\r\n            let point = LwgTools.Point.getRoundPosNew(this._Owner.rotation, radius, new Laya.Point(this._SceneImg('Land').width / 2, this._SceneImg('Land').height / 2));\r\n            this._Owner.x = point.x;\r\n            this._Owner.y = point.y;\r\n        }, () => {\r\n            func();\r\n        });\r\n    }\r\n    attack() {\r\n        EnemyAttackControl.Level1.enemy(this._Owner);\r\n    }\r\n    move() {\r\n        LwgTimer.frameLoop(1, this, () => {\r\n            let point = LwgTools.Point.getRoundPosNew(this._Owner.rotation += this.speed, 220, new Laya.Point(this._SceneImg('Land').width / 2, this._SceneImg('Land').height / 2));\r\n            this._Owner.x = point.x;\r\n            this._Owner.y = point.y;\r\n        });\r\n    }\r\n    lwgEvent() {\r\n        this._evReg(_GameEvent.enemyCheckWeapon, (Weapon, numBlood) => {\r\n            this.checkOtherRule(Weapon, 30, numBlood);\r\n        });\r\n    }\r\n    deathFunc() {\r\n        if (this._Owner.name === 'Boss') {\r\n            LwgTools.Node.createPrefab(_Res.$prefab2D.Heroine.prefab2D, this._Parent, [this._Owner.x, this._Owner.y], Levels_Heroine);\r\n        }\r\n        else {\r\n            this._evNotify(_GameEvent.addEnemy);\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "D:/Work/Game/RescueFlowerGirl/Project/RescueFlowerGirl_2.5.0/src/script/Lwg/Lwg.ts",
    "D:/Work/Game/RescueFlowerGirl/Project/RescueFlowerGirl_2.5.0/src/script/Game/EnemyAttack/EnemyAttackControl.ts",
    "D:/Work/Game/RescueFlowerGirl/Project/RescueFlowerGirl_2.5.0/src/script/Game/General/_GameEvent.ts",
    "D:/Work/Game/RescueFlowerGirl/Project/RescueFlowerGirl_2.5.0/src/script/Game/General/_Res.ts",
    "D:/Work/Game/RescueFlowerGirl/Project/RescueFlowerGirl_2.5.0/src/script/Game/Levels_Heroine.ts",
    "D:/Work/Game/RescueFlowerGirl/Project/RescueFlowerGirl_2.5.0/src/script/Game/Levels_RoleBase.ts"
  ]
}
