{
  "code": "import { LwgTimer, LwgTools } from \"../../Lwg/Lwg\";\r\nimport { CreateBullet } from \"./_CreateBullet\";\r\nexport class Level1 {\r\n    static _ins() {\r\n        if (!this.ins)\r\n            this.ins = new Level1;\r\n        return this.ins;\r\n    }\r\n    enemy(enemy) {\r\n        const angleSpacing = 15;\r\n        const speed = 5;\r\n        LwgTimer._frameRandomLoop(120, 300, enemy, () => {\r\n            for (let index = 0; index < 3; index++) {\r\n                const bullet = CreateBullet.create(enemy);\r\n                let _speedAdd = 0;\r\n                LwgTimer._frameLoop(1, bullet, () => {\r\n                    const point = LwgTools._Point.getRoundPosNew(index * angleSpacing + 90 - angleSpacing, _speedAdd += speed, enemy._lwg.gPoint);\r\n                    bullet.pos(point.x, point.y);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    enemyLand(enemy) {\r\n        let time = 0;\r\n        const speed = 5;\r\n        LwgTimer._frameLoop(30, enemy, () => {\r\n            time++;\r\n            let num = 5;\r\n            if (time % 3 == 0) {\r\n                num = 18;\r\n            }\r\n            else if (time % 2 == 0) {\r\n                num = 10;\r\n            }\r\n            for (let index = 0; index < num; index++) {\r\n                const bullet = CreateBullet.create(enemy);\r\n                let _speedAdd = 0;\r\n                LwgTimer._frameLoop(1, bullet, () => {\r\n                    const unit = 180 / num;\r\n                    const point = LwgTools._Point.getRoundPosNew(unit * index + unit / 2, _speedAdd += speed, enemy._lwg.gPoint);\r\n                    bullet.pos(point.x, point.y);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    house(enemy) {\r\n        const speed = 5;\r\n        const num = 8;\r\n        const spacing = 20;\r\n        let angle = 0;\r\n        LwgTimer._frameLoop(20, enemy, () => {\r\n            let dir = 'add';\r\n            if (angle > 180 - (num - 1) * 20) {\r\n                dir = 'sub';\r\n            }\r\n            else if (angle <= 0) {\r\n                dir = 'add';\r\n            }\r\n            if (dir === 'add') {\r\n                angle += 10;\r\n            }\r\n            else {\r\n                angle -= 10;\r\n            }\r\n            let timeAngle = angle;\r\n            const ep = new Laya.Point(enemy._lwg.gPoint.x, enemy._lwg.gPoint.y);\r\n            for (let index = 0; index < num; index++) {\r\n                const bullet = CreateBullet.create(enemy);\r\n                let _speedAdd = 0;\r\n                LwgTimer._frameLoop(1, bullet, () => {\r\n                    const point = LwgTools._Point.getRoundPosNew(spacing * index + timeAngle, _speedAdd += speed, ep);\r\n                    bullet.pos(point.x, point.y);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    boss(enemy) {\r\n        const speed = 6;\r\n        const num = 8;\r\n        LwgTimer._frameLoop(30, enemy, () => {\r\n            const unit = 180 / num;\r\n            const ep1 = new Laya.Point(enemy._lwg.gPoint.x + 100, enemy._lwg.gPoint.y);\r\n            const ep2 = new Laya.Point(enemy._lwg.gPoint.x - 100, enemy._lwg.gPoint.y);\r\n            for (let index = 0; index < num; index++) {\r\n                const bullet = CreateBullet.create(enemy);\r\n                let _speedAdd = 0;\r\n                LwgTimer._frameLoop(1, bullet, () => {\r\n                    const point = LwgTools._Point.getRoundPosNew(unit * index + unit / 2, _speedAdd += speed, ep1);\r\n                    bullet.pos(point.x, point.y);\r\n                });\r\n            }\r\n            for (let index = 0; index < num; index++) {\r\n                const bullet = CreateBullet.create(enemy);\r\n                let _speedAdd = 0;\r\n                LwgTimer._frameLoop(1, bullet, () => {\r\n                    const point = LwgTools._Point.getRoundPosNew(unit * index + unit / 2, _speedAdd += speed, ep2);\r\n                    bullet.pos(point.x, point.y);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    heroine(enemy) {\r\n        const speed = 10;\r\n        const num = 6;\r\n        const spacing = 8;\r\n        LwgTimer._frameLoop(30, enemy, () => {\r\n            const fA = LwgTools._Number.randomOneInt(360);\r\n            const ep = new Laya.Point(enemy._lwg.gPoint.x, enemy._lwg.gPoint.y);\r\n            for (let index = 0; index < num; index++) {\r\n                const bullet = CreateBullet.create(enemy);\r\n                let _speedAdd = 0;\r\n                LwgTimer._frameLoop(1, bullet, () => {\r\n                    const point = LwgTools._Point.getRoundPosNew(fA + spacing * index, _speedAdd += speed, ep);\r\n                    bullet.pos(point.x, point.y);\r\n                });\r\n            }\r\n            for (let index = 0; index < num; index++) {\r\n                const bullet = CreateBullet.create(enemy);\r\n                let _speedAdd = 0;\r\n                LwgTimer._frameLoop(1, bullet, () => {\r\n                    const point = LwgTools._Point.getRoundPosNew(fA + spacing * index + 120, _speedAdd += speed, ep);\r\n                    bullet.pos(point.x, point.y);\r\n                });\r\n            }\r\n            for (let index = 0; index < num; index++) {\r\n                const bullet = CreateBullet.create(enemy);\r\n                let _speedAdd = 0;\r\n                LwgTimer._frameLoop(1, bullet, () => {\r\n                    const point = LwgTools._Point.getRoundPosNew(fA + spacing * index + 240, _speedAdd += speed, ep);\r\n                    bullet.pos(point.x, point.y);\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n",
  "references": [
    "D:/Work/RescueFlowerGirl/RescueFlowerGirl_2.5.0/src/script/Lwg/Lwg.ts",
    "D:/Work/RescueFlowerGirl/RescueFlowerGirl_2.5.0/src/script/Game/EnemyAttack/_CreateBullet.ts",
    "D:/Work/RescueFlowerGirl/RescueFlowerGirl_2.5.0/src/script/Game/EnemyAttack/_EnemyAttack.ts"
  ]
}
