{
  "code": "import { LwgScene, LwgAni2D, LwgEff2D, LwgTimer, LwgTools } from \"../../Lwg/Lwg\";\r\nimport { GameAni } from \"./_GameAni\";\r\nexport default class _Guide extends LwgScene.SceneBase {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.btnComX = Laya.stage.width - 250;\r\n        this.btnComY = 70;\r\n        this.bgType = {\r\n            present: 'present',\r\n            vanish: 'vanish',\r\n            appear: 'appear',\r\n        };\r\n    }\r\n    lwgOpenAni() {\r\n        return 200;\r\n    }\r\n    lwgOnAwake() {\r\n        this._ImgVar('Hand').scale(0, 0);\r\n        this._ImgVar('Slide').scale(0, 0);\r\n    }\r\n    clickEffcet() {\r\n        LwgEff2D.Aperture.continuous(this._Owner, [this._ImgVar('Hand').x, this._ImgVar('Hand').y + 28], [6, 6], null, null, [LwgEff2D.SkinUrl.圆形小光环], null, this._ImgVar('Hand').zOrder - 1, [1.2, 1.2], [0.6, 0.6], [0.01, 0.01]);\r\n    }\r\n    boreholeCircle(arr, handX, handY, func) {\r\n        for (let index = 0; index < arr.length; index++) {\r\n            const time = 80 / 8;\r\n            let radiusBase = 15;\r\n            const element = arr[index];\r\n            const speed = (arr[index][2] - radiusBase) / time;\r\n            LwgTimer.frameNumLoop(1, time, this, () => {\r\n                radiusBase += speed;\r\n                element[2] = radiusBase;\r\n                LwgTools.Draw.reverseCircleMask(this._ImgVar('Background'), arr, true);\r\n            }, () => {\r\n                func && func();\r\n            }, true);\r\n        }\r\n        handX && this._ImgVar('Hand').pos(handX, handY - 30);\r\n    }\r\n    boreholeRoundrect(arr, handX, handY, func) {\r\n        handX && this._ImgVar('Hand').pos(handX, handY);\r\n        for (let index = 0; index < arr.length; index++) {\r\n            let widthBase = 0;\r\n            let heightBase = 0;\r\n            let radiuBase = 0;\r\n            const element = arr[index];\r\n            const time = 20;\r\n            const speedX = (element[2] - widthBase) / time;\r\n            const speedY = (element[3] - heightBase) / time;\r\n            const speedR = (element[4] - radiuBase) / time;\r\n            LwgTimer.frameNumLoop(1, time, this, () => {\r\n                widthBase += speedX;\r\n                heightBase += speedY;\r\n                radiuBase += speedR;\r\n                element[2] = widthBase;\r\n                element[3] = heightBase;\r\n                element[4] = radiuBase;\r\n                LwgTools.Draw.reverseRoundrectMask(this._ImgVar('Background'), arr, true);\r\n            }, () => {\r\n                func && func();\r\n            }, true);\r\n        }\r\n        handX && this._ImgVar('Hand').pos(handX, handY);\r\n    }\r\n    handAppear(delay, func) {\r\n        const time = 200;\r\n        LwgAni2D.scale(this._ImgVar('Hand'), 0, 0, 1, 1, time, delay ? delay : 0, () => {\r\n            func && func();\r\n        });\r\n        this._ImgVar('HandPic').rotation = -17;\r\n    }\r\n    bgAppear(delay, func) {\r\n        LwgTools.Node.destroyAllChildren(this._ImgVar('Background'));\r\n        const time = 300;\r\n        this._ImgVar('HandPic').rotation = -17;\r\n        LwgAni2D.fadeOut(this._ImgVar('Background'), 0, 1, time, delay ? delay : 0, () => {\r\n            func && func();\r\n        });\r\n    }\r\n    handVanish(delay, func) {\r\n        const time = 300;\r\n        this._ImgVar('HandPic').rotation = -17;\r\n        LwgAni2D.scale(this._ImgVar('Hand'), 1, 1, 0, 0, time, delay ? delay : 0, () => {\r\n            func && func();\r\n        });\r\n    }\r\n    bgVanish(delay, func) {\r\n        const time = 300;\r\n        LwgAni2D.fadeOut(this._ImgVar('Background'), 1, 0, time, delay ? delay : 0, () => {\r\n            func && func();\r\n        });\r\n    }\r\n    handMove(x, y, func, bgType) {\r\n        this.handClear();\r\n        const _y = y - 30;\r\n        const point = new Laya.Point(this._ImgVar('Hand').x, this._ImgVar('Hand').y);\r\n        const time = point.distance(x, _y);\r\n        LwgAni2D.move(this._ImgVar('Hand'), x, _y, time, () => {\r\n            func && func();\r\n        });\r\n        this._ImgVar('Hand').scale(1, 1);\r\n        LwgAni2D.move(this._ImgVar('HandPic'), 75, 56, time);\r\n        switch (bgType) {\r\n            case this.bgType.vanish:\r\n                this.bgVanish();\r\n                break;\r\n            case this.bgType.appear:\r\n                this.bgAppear();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    handClear() {\r\n        LwgTimer.clearAll([this._ImgVar('Hand')]);\r\n        LwgAni2D.clearAll([this._ImgVar('Hand')]);\r\n        this._AniVar('Frame').stop();\r\n        this._AniVar('Click').stop();\r\n        this._AniVar('ClickOne').stop();\r\n        this._ImgVar('Hand').visible = true;\r\n        this._ImgVar('HandPic').scale(1, 1);\r\n        this._ImgVar('HandPic').rotation = -17;\r\n        this._ImgVar('Hand').pos(this._ImgVar('HandPic')._lwg.gPoint.x - 75, this._ImgVar('HandPic')._lwg.gPoint.y - 56);\r\n        this._ImgVar('HandPic').pos(75, 56);\r\n    }\r\n    slideUpAppear(x, y, width, height, radius, delay) {\r\n        this.bgAppear(delay ? delay : 0, () => {\r\n            this.boreholeRoundrect([[x, y, width, height, radius]], null, null, () => {\r\n                this._ImgVar('Hand').scale(0, 0);\r\n                this._ImgVar('Slide').scale(1, 1);\r\n                this._ImgVar('Slide').pos(x, y);\r\n                this._AniVar('SlideUp').play();\r\n            });\r\n        });\r\n    }\r\n    noMoveRoundrect(x, y, width, height, radius, delay, handX, handY) {\r\n        this.bgAppear(delay ? delay : 0, () => {\r\n            this.boreholeRoundrect([[x, y, width, height, radius]], handX ? handX : x, handY ? handY : y - 30, () => {\r\n                this.handAppear(null, () => {\r\n                    this._AniVar('Click').play();\r\n                });\r\n            });\r\n        });\r\n    }\r\n    moveRoundrectNoBg(x, y, width, height, radius) {\r\n        this.boreholeRoundrect([[x, y, width, height, radius]], null, null, () => {\r\n            this.handMove(x, y, () => {\r\n                this._AniVar('Click').play();\r\n            });\r\n        });\r\n    }\r\n    noMoveCircle(x, y, radius) {\r\n        this.bgAppear(0, () => {\r\n            this.boreholeCircle([[x, y, radius]], x, y, () => {\r\n                this.handAppear(200, () => {\r\n                    this._AniVar('Click').play();\r\n                });\r\n            });\r\n        });\r\n    }\r\n    moveCircleBg(x, y, radius) {\r\n        this.bgAppear(0, () => {\r\n            this.boreholeCircle([[x, y, radius]], null, null, () => {\r\n                this.handMove(x, y, () => {\r\n                    this._AniVar('Click').play();\r\n                });\r\n            });\r\n        });\r\n    }\r\n    moveCircleNoBg(x, y, radius) {\r\n        this.boreholeCircle([[x, y, radius]], null, null, () => {\r\n            this.handMove(x, y, () => {\r\n                this._AniVar('Click').play();\r\n            });\r\n        });\r\n    }\r\n    lwgEvent() {\r\n    }\r\n    lwgCloseAni() {\r\n        return GameAni._dialogCloseFadeOut(this._ImgVar('Hand'), this._ImgVar('Background'));\r\n    }\r\n    lwgOnDisable() {\r\n        this._ImgVar('Background').destroy();\r\n    }\r\n}\r\n",
  "references": [
    "D:/Work/Game/RescueFlowerGirl/Project/RescueFlowerGirl_2.5.0/src/script/Lwg/Lwg.ts",
    "D:/Work/Game/RescueFlowerGirl/Project/RescueFlowerGirl_2.5.0/src/script/Game/General/_GameAni.ts"
  ]
}
