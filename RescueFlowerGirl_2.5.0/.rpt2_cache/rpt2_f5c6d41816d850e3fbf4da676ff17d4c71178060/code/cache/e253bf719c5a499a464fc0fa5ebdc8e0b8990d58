{
  "code": "import { LwgEvent, LwgTimer, LwgTools } from \"../../Lwg/Lwg\";\r\nimport { _Game } from \"../_GameData\";\r\nimport { _Res } from \"../_Res\";\r\nexport class _EnemyBullet {\r\n    static clearBullet(Bullet) {\r\n        Laya.timer.clearAll(Bullet);\r\n        Laya.Tween.clearAll(Bullet);\r\n        Bullet.destroy(true);\r\n    }\r\n    static checkStageAndHero(Bullet, checkHero = true) {\r\n        LwgTimer._frameLoop(1, Bullet, () => {\r\n            const bool = LwgTools._Node.leaveStage(Bullet, () => {\r\n                this.clearBullet(Bullet);\r\n            });\r\n            if (!bool && checkHero) {\r\n                LwgEvent._notify(_Game._Event.checkEnemyBullet, [Bullet, 1]);\r\n            }\r\n        });\r\n    }\r\n    static checkNumChild(Bullet) {\r\n        LwgTimer._frameLoop(1, Bullet, () => {\r\n            if (Bullet.numChildren === 0) {\r\n                console.log('清除自身');\r\n                this.clearBullet(Bullet);\r\n            }\r\n        });\r\n    }\r\n    ;\r\n    static checkHeroByChild(bullet) {\r\n        this.checkStageAndHero(bullet, false);\r\n        for (let index = 0; index < bullet.numChildren; index++) {\r\n            const element = bullet.getChildAt(index);\r\n            this.checkStageAndHero(element);\r\n            element.name = this.Type.single;\r\n        }\r\n    }\r\n    static createBase(enemy, type, checkType) {\r\n        let prefab = _Res.$prefab2D[type]['prefab2D'];\r\n        const bullet = LwgTools._Node.createPrefab(prefab, this.Parent, [enemy._lwg.gPoint.x, enemy._lwg.gPoint.y]);\r\n        bullet.name = type;\r\n        switch (checkType) {\r\n            case this.ChekType.bullet:\r\n                this.checkStageAndHero(bullet);\r\n                break;\r\n            case this.ChekType.child:\r\n                this.checkHeroByChild(bullet);\r\n                break;\r\n            case this.ChekType.bulletAndchild:\r\n                this.checkStageAndHero(bullet);\r\n                this.checkHeroByChild(bullet);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return bullet;\r\n    }\r\n    static EB_single(enemy) {\r\n        const bullet = this.createBase(enemy, this.Type.single, this.ChekType.bullet);\r\n        return bullet;\r\n    }\r\n    static EB_two(enemy) {\r\n        const bullet = this.createBase(enemy, this.Type.two, this.ChekType.child);\r\n        return bullet;\r\n    }\r\n    static EB_three_Triangle(enemy) {\r\n        const bullet = this.createBase(enemy, this.Type.three_Triangle, this.ChekType.child);\r\n        return bullet;\r\n    }\r\n    static EB_three_Across(enemy) {\r\n        const bullet = this.createBase(enemy, this.Type.three_Across, this.ChekType.child);\r\n        return bullet;\r\n    }\r\n    static EB_three_Vertical(enemy) {\r\n        const bullet = this.createBase(enemy, this.Type.three_Vertical, this.ChekType.child);\r\n        return bullet;\r\n    }\r\n    static EB_Four_Square(enemy) {\r\n        const bullet = this.createBase(enemy, this.Type.four_Square, this.ChekType.child);\r\n        return bullet;\r\n    }\r\n}\r\n_EnemyBullet.Type = {\r\n    single: 'EB_single',\r\n    two: 'EB_two',\r\n    three_Triangle: 'EB_three_Triangle',\r\n    three_Across: 'EB_three_Across',\r\n    three_Vertical: 'EB_three_Vertical',\r\n    four_Square: 'EB_Four_Square',\r\n};\r\n_EnemyBullet.ChekType = {\r\n    bullet: 'bullet',\r\n    child: 'child',\r\n    bulletAndchild: 'bulletAndchild',\r\n};\r\n",
  "references": [
    "F:/Work/Game/07_RescueFlowerGirl_2.5.0/Project/RescueFlowerGirl_2.5.0/src/script/Lwg/Lwg.ts",
    "F:/Work/Game/07_RescueFlowerGirl_2.5.0/Project/RescueFlowerGirl_2.5.0/src/script/Game/_GameData.ts",
    "F:/Work/Game/07_RescueFlowerGirl_2.5.0/Project/RescueFlowerGirl_2.5.0/src/script/Game/_Res.ts"
  ]
}
