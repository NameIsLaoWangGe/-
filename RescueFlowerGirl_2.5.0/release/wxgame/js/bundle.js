!function(){"use strict";var e,t,a,n,o,r,i,l,s,c,h,u,d,m,y,g,f,p,_,L,w,S,O,v,b,N,x,C,B,P,A,T=Laya.View,I=Laya.ClassUtils.regClass;!function(e){!function(e){class t extends T{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Prefab/_Gold")}}e._GoldUI=t,I("ui.Prefab._GoldUI",t);class a extends T{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Prefab/_ReturnButton")}}e._ReturnButtonUI=a,I("ui.Prefab._ReturnButtonUI",a)}(e.Prefab||(e.Prefab={}))}(e||(e={})),function(e){!function(e){class t extends T{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Scene/Defeated")}}e.DefeatedUI=t,I("ui.Scene.DefeatedUI",t);class a extends T{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Scene/Levels")}}e.LevelsUI=a,I("ui.Scene.LevelsUI",a);class n extends T{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Scene/Start")}}e.StartUI=n,I("ui.Scene.StartUI",n);class o extends T{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Scene/Victory")}}e.VictoryUI=o,I("ui.Scene.VictoryUI",o);class r extends T{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Scene/_Dialog_Check")}}e._Dialog_CheckUI=r,I("ui.Scene._Dialog_CheckUI",r);class i extends T{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Scene/_Dialog_Double")}}e._Dialog_DoubleUI=i,I("ui.Scene._Dialog_DoubleUI",i);class l extends T{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Scene/_Dialog_Single")}}e._Dialog_SingleUI=l,I("ui.Scene._Dialog_SingleUI",l);class s extends T{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Scene/_Guide")}}e._GuideUI=s,I("ui.Scene._GuideUI",s);class c extends T{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Scene/_Init")}}e._InitUI=c,I("ui.Scene._InitUI",c);class h extends T{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Scene/_Parameter")}}e._ParameterUI=h,I("ui.Scene._ParameterUI",h);class u extends T{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Scene/_PreLoad")}}e._PreLoadUI=u,I("ui.Scene._PreLoadUI",u);class d extends T{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Scene/_PreLoadCutIn")}}e._PreLoadCutInUI=d,I("ui.Scene._PreLoadCutInUI",d)}(e.Scene||(e.Scene={}))}(e||(e={})),function(e){e.Tpye={Bytedance:"Bytedance",WeChat:"WeChat",OPPO:"OPPO",OPPOTest:"OPPOTest",VIVO:"VIVO",General:"General",Web:"Web",WebTest:"WebTest",Research:"Research"},e.Ues={get value(){return this["_platform/name"]?this["_platform/name"]:null},set value(t){switch(this["_platform/name"]=t,t){case e.Tpye.WebTest:Laya.LocalStorage.clear(),l.Gold.num.value=5e3;break;case e.Tpye.Research:l.Gold.num.value=5e13}}}}(t||(t={})),function(e){e.onOff=!0,e.pause={get value(){return e.onOff},set value(t){t?(e.onOff=!1,h.onOff=!1,_.filter.value=_.filterType.all):(e.onOff=!0,h.onOff=!0,_.filter.value=_.filterType.none)}},e.level={get value(){return Laya.LocalStorage.getItem("_Game/Level")?Number(Laya.LocalStorage.getItem("_Game/Level")):1},set value(e){let t=e-this.level;t>0&&(this.maxLevel+=t),e>this.loopLevel&&-1!=this.loopLevel?Laya.LocalStorage.setItem("_Game/Level",1..toString()):Laya.LocalStorage.setItem("_Game/Level",e.toString())}},e.maxLevel={get value(){return Laya.LocalStorage.getItem("_Game/maxLevel")?Number(Laya.LocalStorage.getItem("_Game/maxLevel")):this.level},set value(e){Laya.LocalStorage.setItem("_Game/maxLevel",e.toString())}},e.loopLevel={get value(){return this["_Game/loopLevel"]?this["_Game/loopLevel"]:-1},set value(e){this["_Game/loopLevel"]=e}},e._createLevel=function(e,t,a){let n;Laya.loader.load("prefab/LevelNode.json",Laya.Handler.create(this,function(o){const r=new Laya.Prefab;r.json=o,n=Laya.Pool.getItemByCreateFun("prefab",r.create,r),e.addChild(n),n.pos(t,a),n.zOrder=0,n.getChildByName("level"),this.LevelNode=n}))}}(a||(a={})),function(e){e.sceneControl={},e.sceneScript={},e.openSceneRecord=[];class t{}function sceneZOderUp(t){let a=0;for(const t in e.sceneControl)if(Object.prototype.hasOwnProperty.call(e.sceneControl,t)){const n=e.sceneControl[t];n.parent&&(n.zOrder=0,a++)}t&&(t.zOrder=a)}function addToStage(t){if(t){Laya.stage.addChild(t);let a=!1;for(const n in e.sceneScript)if(Object.prototype.hasOwnProperty.call(e.sceneScript,n)){const o=e.sceneScript[n];n===t.name&&(t.getComponent(o)||(t.addComponent(o),a=!0))}a||console.log(`${t.name}场景没有同名脚本！,需在LwgInit脚本中导入该脚本！`)}}function aniFlow(e,t){let a,n=0;t&&(sceneZOderUp(t),(a=t[t.name])&&null===(n=a.lwgCloseAni())&&d.closeSwitch.value&&(n=d._commonCloseAni(t))),Laya.timer.once(n,this,()=>{if(t&&(a&&a.lwgBeforeCloseAni(),t.close()),_.filter.value=_.filterType.all,e){_.filter.value=_.filterType.none,sceneZOderUp(e);let t=0;const a=e[e.name];a&&(null===(t=a.lwgOpenAni())&&(t=d.openSwitch.value?d._commonOpenAni(e):0),Laya.timer.once(t,this,()=>{a.lwgOpenAniAfter(),a.lwgButton(),_.filter.value=_.filterType.all}))}})}function openScene(t,a,n,o){_.filter.value=_.filterType.none,Laya.Scene.load("Scene/"+t+".json",Laya.Handler.create(this,function(r){let i=v.Node.checkChildren(Laya.stage,t);i&&(i.close(),console.log(`场景${t}重复出现！前一个场景被关闭！`)),(i=e.sceneControl[r.name=t]=r)._openData=a,o||e.openSceneRecord.push(t),console.log(e.openSceneRecord),addToStage(i),aniFlow(i,e.sceneControl[n])}))}t._LwgInit="_LwgInit",t._PreLoad="_PreLoad",t._PreLoadCutIn="_PreLoadCutIn",t._Guide="_Guide",t._CommonDialog="_CommonDialog",t._Parameter="_Parameter",t.Start="Start",t.SelectLevel="SelectLevel",t.Settle="Settle",t.Victory="Victory",t.Defeated="Defeated",t.Share="Share",t.CheckIn="CheckIn",t.Ranking="Ranking",t.Set="Set",t.Shop="Shop",t.Task="Task",e._BaseName=t,e.ReturnToThePreviousScene=function(){e.openSceneRecord.length>=2&&e.openSceneRecord[e.openSceneRecord.length-2]!==t._PreLoad&&(openScene(e.openSceneRecord[e.openSceneRecord.length-2],null,e.openSceneRecord[e.openSceneRecord.length-1],!0),e.openSceneRecord.splice(e.openSceneRecord.length-1,1))},e.sceneZOderUp=sceneZOderUp,e.addToStage=addToStage,e.aniFlow=aniFlow,e._PreLoadCutIn={openName:null,closeName:null},e.preLoadOpenScene=function(a,n,o){e._PreLoadCutIn.openName=a,e._PreLoadCutIn.closeName=o,openScene(t._PreLoadCutIn,n,o)},e.openScene=openScene,e.closeScene=function(t,a){const n=e.sceneControl[t];n?aniFlow(null,n):console.log(`场景${t}关闭失败，可能不存在！`)};class a extends Laya.Script{constructor(){super(...arguments),this.ownerSceneName=""}get ownerName(){return this.owner.name}getFind(e,t){if(this[`_Scene${t}${e}`])return this[`_Scene${t}${e}`];{let a=v.Node.findChild2D(this.owner.scene,e);if(a)return o._addProperty(a),this[`_Scene${t}${e}`]=a;console.log(`场景内不存在节点${e}`)}}_FindImg(e){return this.getFind(e,"_FindImg")}_FindSp(e){return this.getFind(e,"_FindSp")}_FindBox(e){return this.getFind(e,"_FindBox")}_FindTap(e){return this.getFind(e,"_FindTap")}_FindLabel(e){return this.getFind(e,"_FindLabel")}_FindList(e){return this.getFind(e,"_FindList")}_storeNum(e,t,a){return m.num(`${this.ownerSceneName}/${e}`,t,a)}_storeStr(e,t,a){return m.str(`${this.ownerSceneName}/${e}`,t,a)}_storeBool(e,t,a){return m.bool(`${this.ownerSceneName}/${e}`,t,a)}_storeArray(e,t,a){return m.array(`${this.ownerSceneName}/${e}`,t,a)}lwgOnAwake(){}lwgAdaptive(){}lwgEvent(){}_evReg(e,t){s.register(e,this,t)}_evRegOne(e,t){s.registerOnce(e,this,t)}_evNotify(e,t){s.notify(e,t)}lwgOnEnable(){}lwgOnStart(){}lwgButton(){}checkBtnClick(e,t,a){if(_.absolute)switch(_.filter.value){case _.filterType.all||_.filterType.button:t&&t(a);break;case _.filterType.someBtnIncludeStage||_.filterType.someBtnExcludeStage:_.checkTarget(e.name)&&t&&t(a)}}_btnDown(e,t,a){_.on(null==a?_.Use.value:a,e,this,a=>{this.checkBtnClick(e,t,a)},null,null,null)}_btnMove(e,t,a){_.on(null==a?_.Use.value:a,e,this,null,a=>{this.checkBtnClick(e,t,a)},null,null)}_btnUp(e,t,a){_.on(null==a?_.Use.value:a,e,this,null,null,a=>{this.checkBtnClick(e,t,a)},null)}_btnOut(e,t,a){_.on(null==a?_.Use.value:a,e,this,null,null,null,a=>{this.checkBtnClick(e,t,a)})}_btnFour(e,t,a,n,o,r){_.on(null==r?r:_.Use.value,e,this,a=>{this.checkBtnClick(e,t,a)},t=>{this.checkBtnClick(e,a,t)},t=>{this.checkBtnClick(e,n,t)},t=>{this.checkBtnClick(e,o,t)})}_openScene(t,a,n,o,r){let i;void 0!==n&&!0!==n||(i=this.ownerSceneName),o?e.preLoadOpenScene(t,a,i):e.openScene(t,a,i)}_closeScene(t=this.ownerSceneName,a){if(t!==this.ownerSceneName){const a=e.sceneControl[t],n=a[t].lwgCloseAni();Laya.timer.once(n||0,this,()=>{a.close()})}else e.closeScene(this.ownerSceneName,a)}lwgOnUpdate(){}lwgOnDisable(){}onStageMouseDown(e){_.checkStage()&&this.lwgOnStageDown(e)}onStageMouseMove(e){_.checkStage()&&this.lwgOnStageMove(e)}onStageMouseUp(e){_.checkStage()&&this.lwgOnStageUp(e)}lwgOnStageDown(e){}lwgOnStageMove(e){}lwgOnStageUp(e){}}e.ScriptBase=a;e.SceneBase=class extends a{constructor(){super()}get _Owner(){return this.owner}getVar(e,t){return this[`_Scene${t}${e}`]?this[`_Scene${t}${e}`]:this._Owner[e]?(o._addProperty(this._Owner[e]),this[`_Scene${t}${e}`]=this._Owner[e]):void console.log("场景内不存在var节点：",e)}_SpriteVar(e){return this.getVar(e,"_SpriteVar")}_AniVar(e){return this.getVar(e,"_AniVar")}_SkVar(e){return this.getVar(e,"_SkVar")}_BtnVar(e){return this.getVar(e,"_BtnVar")}_BoxVar(e){return this.getVar(e,"_BoxVar")}_ImgVar(e){return this.getVar(e,"_ImgVar")}_LabelVar(e){return this.getVar(e,"_LabelVar")}_ListVar(e){return this.getVar(e,"_ListVar")}_TapVar(e){return this.getVar(e,"_TapVar")}_TextVar(e){return this.getVar(e,"_TextVar")}_TextInputVar(e){return this.getVar(e,"_TextInputVar")}_FontClipVar(e){return this.getVar(e,"_FontClipVar")}_FontBox(e){return this.getVar(e,"_FontBox")}_FontTextInput(e){return this.getVar(e,"_FontInput")}onAwake(){this._openData=this._Owner._openData,this._Owner.width=Laya.stage.width,this._Owner.height=Laya.stage.height,this._Owner.getChildByName("background")&&(this._Owner.getChildByName("background").width=Laya.stage.width,this._Owner.getChildByName("background").height=Laya.stage.height),this._Owner.name?(this.ownerSceneName=this._Owner.name,this._Owner[this._Owner.name]=this):console.log("场景名称失效，脚本赋值失败"),this.moduleOnAwake(),this.lwgOnAwake(),this.lwgAdaptive()}moduleOnAwake(){}onEnable(){this.moduleEvent(),this.lwgEvent(),this.moduleOnEnable(),this.lwgOnEnable()}moduleOnEnable(){}moduleEvent(){}onStart(){this.moduleOnStart(),this.lwgOnStart()}moduleOnStart(){}lwgOpenAni(){return null}lwgOpenAniAfter(){}_adaHeight(e){u.stageHeight(e)}_adaWidth(e){u._stageWidth(e)}_adaptiveCenter(e){u.center(e,Laya.stage)}onUpdate(){this.lwgOnUpdate()}lwgBeforeCloseAni(){}lwgCloseAni(){return null}onDisable(){Laya.Tween.clearAll(this),Laya.Tween.clearAll(this._Owner),Laya.timer.clearAll(this),Laya.timer.clearAll(this._Owner),s.offCaller(this),s.offCaller(this._Owner),this.lwgOnDisable()}};e.ObjectBase=class extends a{constructor(){super()}_lwgDestroyAndClear(){this._Owner.destroy(),this.clear()}get _Owner(){return this.owner}get _point(){return new Laya.Point(this._Owner.x,this._Owner.y)}get _Scene(){return this.owner.scene}get _Parent(){if(this._Owner.parent)return this.owner.parent}get _RigidBody(){return this._Owner._OwnerRigidBody||(this._Owner._OwnerRigidBody=this._Owner.getComponent(Laya.RigidBody)),this._Owner._OwnerRigidBody}get _BoxCollier(){return this._Owner._OwnerBoxCollier||(this._Owner._OwnerBoxCollier=this._Owner.getComponent(Laya.BoxCollider)),this._Owner._OwnerBoxCollier}get _CilrcleCollier(){return this._Owner._OwnerCilrcleCollier?this._Owner._OwnerCilrcleCollier:this._Owner._OwnerCilrcleCollier=this._Owner.getComponent(Laya.BoxCollider)}get _PolygonCollier(){return this._Owner._OwnerPolygonCollier?this._Owner._OwnerPolygonCollier:this._Owner._OwnerPolygonCollier=this._Owner.getComponent(Laya.BoxCollider)}getSceneVar(e,t){return this[`_Scene${t}${e}`]?this[`_Scene${t}${e}`]:this._Scene[e].parent?(o._addProperty(this._Scene[e]),this[`_Scene${t}${e}`]=this._Scene[e]):void console.log(`场景内不存在var节点${e}`)}_SceneSprite(e){return this.getSceneVar(e,"_SceneSprite")}_SceneAni(e){return this.getSceneVar(e,"_SceneAni")}_SceneImg(e){return this.getSceneVar(e,"_SceneImg")}_SceneLabel(e){return this.getSceneVar(e,"_SceneLabel")}_SceneList(e){return this.getSceneVar(e,"_SceneList")}_SceneTap(e){return this.getSceneVar(e,"_SceneTap")}_SceneText(e){return this.getSceneVar(e,"_SceneText")}_SceneFontClip(e){return this.getSceneVar(e,"_SceneFontClip")}_SceneBox(e){return this.getSceneVar(e,"_SceneBox")}getChild(e,t){if(this[`${t}${e}`])return this[`${t}${e}`];{const a=this._Owner.getChildByName(e);return a?(o._addProperty(a),this[`${t}${e}`]=a):null}}_ImgChild(e){return this.getChild(e,"_ImgChild")}_BoxChild(e){return this.getChild(e,"_ImgBox")}_SpriteChild(e){return this.getChild(e,"_SpriteChild")}_LableChild(e){return this.getChild(e,"_LableChild")}_ListChild(e){return this.getChild(e,"_ListChild")}_TapChild(e){return this.getChild(e,"_TapChild")}_FontClipChild(e){return this.getChild(e,"_TapFontClip")}_SKChild(e){return this.getChild(e,"_TapFontClip")}onAwake(){o._addProperty(this._Owner),this._Owner[this._Owner.name]=this,this.ownerSceneName=this._Scene.name,this.lwgOnAwake(),this.lwgAdaptive()}onEnable(){this.lwgButton(),this.lwgEvent(),this.lwgOnEnable()}onStart(){this.lwgOnStart()}onUpdate(){this.lwgOnUpdate()}clear(){Laya.Tween.clearAll(this),Laya.Tween.clearAll(this._Owner),Laya.timer.clearAll(this),Laya.timer.clearAll(this._Owner),s.offCaller(this),s.offCaller(this._Owner)}onDisable(){this.clear(),this.lwgOnDisable()}}}(n||(n={})),function(e){e.Sprite=class extends Laya.Sprite{};e.Image=class extends Laya.Image{};e._Box=class extends Laya.Box{},e._addProperty=function(e,t){if(!e)return;let a,n=()=>e.parent?e.parent.localToGlobal(new Laya.Point(e.x,e.y)):null;a={get gPoint(){return n()},fPoint:new Laya.Point(e.x,e.y),fGPoint:n(),fRotation:e.rotation,disByNode(t){const a=n();if(a&&t.parent){let n=t.parent.localToGlobal(new Laya.Point(e.x,e.y));return a.distance(n.x,n.y)}return null},globleDisByPoint:e=>n().distance(e.x,e.y),localDisByPoint:t=>new Laya.Point(e.x,e.y).distance(t.x,t.y),childGPoint(t){const a=new Laya.Point(t.x,t.y);return e.localToGlobal(a)}},e._lwg=a}}(o||(o={})),function(e){let t,a,n,o;function getDialogContent_Random(e){let t=[],a=getUseWhere(e),n=Math.floor(Math.random()*a.length);for(const e in a[n])if(a[n].hasOwnProperty(e)){const o=a[n][e];"content"==e.substring(0,7)&&"-1"!==o&&t.push(o)}return t}function getUseWhere(t){let a=[];for(let n=0;n<e.dialogContent.Array.length;n++){const o=e.dialogContent.Array[n];o.useWhere==t&&a.push(o)}return a}!function(e){e.blackBord="Lwg/UI/rectangle_mask_07.png"}(t||(t={})),e.showCommonTips=function(e){const a=Laya.Pool.getItemByClass("CommonTips",Laya.Sprite);a.name="CommonTips",Laya.stage.addChild(a),a.width=Laya.stage.width,a.height=100,a.pivotY=a.height/2,a.pivotX=Laya.stage.width/2,a.x=Laya.stage.width/2,a.y=Laya.stage.height/2,a.zOrder=100;const n=new Laya.Image;a.addChild(n),n.skin=t.blackBord,n.width=Laya.stage.width,n.pivotX=Laya.stage.width/2,n.height=100,n.pivotY=n.height/2,n.y=a.height/2,n.x=Laya.stage.width/2,n.alpha=.6;const o=new Laya.Label;a.addChild(o),o.width=Laya.stage.width,o.text=e,o.pivotX=Laya.stage.width/2,o.x=Laya.stage.width/2,o.height=100,o.pivotY=50,o.y=a.height/2,o.bold=!0,o.fontSize=35,o.color="#ffffff",o.align="center",o.valign="middle",o.alpha=0,w.scale_Alpha(a,0,1,0,1,1,1,200,0,e=>{w.fadeOut(o,0,1,150,0,e=>{w.fadeOut(o,1,0,200,800,e=>{w.scale_Alpha(a,1,1,1,1,0,0,200,0,e=>{a.removeSelf()})})})})},e.dialogContent={get Array(){return null!==Laya.loader.getRes("GameData/LwgDialogue/LwgDialogue.json").RECORDS?Laya.loader.getRes("GameData/LwgDialogue/LwgDialogue.json").RECORDS:[]}},e.getDialogContent=function(t,a){let n;for(let o=0;o<e.dialogContent.Array.length;o++){const r=e.dialogContent.Array[o];if(r.useWhere==t&&r.name==a){n=r;break}}const o=[];for(const e in n)if(n.hasOwnProperty(e)){const t=n[e];"content"!=e.substring(0,7)&&-1===t||o.push(t)}return o},e.getDialogContent_Random=getDialogContent_Random,e.getUseWhere=getUseWhere,function(e){e.scene1="scene1",e.scene2="scene2",e.scene3="scene3"}(a=e.UseWhere||(e.UseWhere={})),function(e){e.name="name",e.useWhere="useWhere",e.content="content",e.max="max"}(n=e.DialogProperty||(e.DialogProperty={})),function(e){e.voluntarily="voluntarily",e.manual="manual",e.clickContent="clickContent"}(o=e.PlayMode||(e.PlayMode={})),e.createVoluntarilyDialogue=function(t,a,n,o,r,i,l){null==o&&(o=0),Laya.timer.once(o,this,()=>{let o;Laya.loader.load("Prefab/Dialogue_Common.json",Laya.Handler.create(this,function(s){let c=new Laya.Prefab;c.json=s,o=Laya.Pool.getItemByCreateFun("Pre_Dialogue",c.create,c),i?i.addChild(o):Laya.stage.addChild(o),o.x=t,o.y=a;let h,u=o.getChildByName("Content");void 0!==l?u.text=l[0]:(h=getDialogContent_Random(n),u.text=h[0]),o.zOrder=100,null==r&&(r=1e3),w.scale_Alpha(o,0,0,0,1,1,1,150,1e3,()=>{for(let e=0;e<h.length;e++)Laya.timer.once(e*r,this,()=>{u.text=h[e],e==h.length-1&&Laya.timer.once(r,this,()=>{w.scale_Alpha(o,1,1,1,0,0,0,150,1e3,()=>{o.removeSelf()})})})}),e.DialogueNode=o}))})},e.createCommonDialog=function(e,t,a,n){let o;Laya.loader.load("Prefab/Dialogue_Common.json",Laya.Handler.create(this,function(r){let i=new Laya.Prefab;i.json=r,o=Laya.Pool.getItemByCreateFun("Dialogue_Common",i.create,i),e.addChild(o),o.pos(t,a),o.getChildByName("Dialogue_Common").text=n}))}}(r||(r={})),function(t){t.showReturnButton=function(a=0,o=0){t.returnNode?t.returnNode.visible=!0:(t.returnNode=new e.Prefab._ReturnButtonUI,Laya.stage.addChild(t.returnNode),t.returnNode.zOrder=100,console.log(t.returnNode.x),_.on(_.Use.value,t.returnNode,this,null,null,()=>{n.ReturnToThePreviousScene(),t.returnNode.visible=!1})),t.returnNode.pos(a,o)}}(i||(i={})),function(t){let a,n;!function(e){e.num={get value(){return Laya.LocalStorage.getItem("LwgCurrency/DiamondNum")?Number(Laya.LocalStorage.getItem("LwgCurrency/DiamondNum")):0},set value(e){Laya.LocalStorage.setItem("LwgCurrency/DiamondNum",e.toString())}}}(a=t.Diamond||(t.Diamond={})),function(t){function appearAni(e,a,n){t.goldNode&&(t.goldNode.alpha=0,e?w.scale_Alpha(t.goldNode,0,1,1,1,1,1,e,0,()=>{t.goldNode.visible=!0}):t.goldNode.visible=!0,a&&(t.goldNode.x=a),n&&(t.goldNode.y=n))}let a;function createOne(e,n,o){const r=Laya.Pool.getItemByClass("addGold",Laya.Image);return r.name="addGold",r.alpha=1,r.zOrder=60,r.width=e,r.height=n,r.pivotX=e/2,r.pivotY=n/2,r.skin=o||a[0],t.goldNode&&(r.zOrder=t.goldNode.zOrder+10),r}t.num={get value(){return Laya.LocalStorage.getItem("LwgCurrency/GoldNum")?Number(Laya.LocalStorage.getItem("LwgCurrency/GoldNum")):0},set value(e){Laya.LocalStorage.setItem("LwgCurrency/GoldNum",e.toString())}},t.show=function(a=100,n=10,o=!1,i=Laya.stage){t.goldNode||(t.goldNode=new e.Prefab._GoldUI,t.goldNode.btnAdd.on(Laya.Event.CLICK,this,()=>{r.showCommonTips("看广告才可以获得金币!")})),t.goldNode.pos(a,n),i&&(i.addChild(t.goldNode),t.goldNode.zOrder=100),o&&appearAni()},t.addCountAndDisPlay=function(e){t.num.value+=Number(e),function(){const e=t.goldNode.getChildByName("Num");e.sheet?e.value=v._Format.formatNumber(t.num.value):e.text=v._Format.formatNumber(t.num.value)}()},t.addDisPlay=function(e){const a=t.goldNode.getChildByName("Num");a.sheet?a.value=(Number(a.value)+e).toString():a.text=(Number(a.text)+e).toString()},t.addCountNoDisPlay=function(e){t.num.value+=Number(e)},t.appearAni=appearAni,t.hintAni=function(e){t.goldNode&&(e?w.scale_Alpha(t.goldNode,1,1,1,1,1,0,e,0,()=>{t.goldNode.visible=!1}):t.goldNode.visible=!1)},t.move=function(e,a,n=200,o=0,r=null){w.move(t.goldNode,e,a||t.goldNode.y,n,()=>{r&&r()},o)},function(e){e[e["Lwg/UI/corner_12.png"]=0]="Lwg/UI/corner_12.png"}(a||(a={})),t.getAni_Single=function(e,t,a,n,o,r,i,l,s){for(let c=0;c<t;c++)Laya.timer.once(30*c,this,()=>{const h=createOne(a,n,o);e.addChild(h),w.move_Scale(h,1,r.x,r.y,i.x,i.y,1,350,0,null,()=>{O.playSound(O.voiceUrl.huodejinbi),c===t-1?Laya.timer.once(200,this,()=>{s&&s()}):l&&l(),h.removeSelf()})})},t.getAni_Heap=function(e,n,o,r,i,l,s,c,h){for(let u=0;u<n;u++){const d=createOne(o||100,r||100,i||a[0]);(e=e||Laya.stage).addChild(d),l=l||new Laya.Point(Laya.stage.width/2,Laya.stage.height/2),s=s||new Laya.Point(t.goldNode.x,t.goldNode.y);let m=1==Math.floor(2*Math.random())?l.x+100*Math.random():l.x-100*Math.random(),y=1==Math.floor(2*Math.random())?l.y+100*Math.random():l.y-100*Math.random();w.move_Scale(d,.5,l.x,l.y,m,y,1,300,100*Math.random()+100,Laya.Ease.expoIn,()=>{w.move_Scale(d,1,d.x,d.y,s.x,s.y,1,400,200*Math.random()+100,Laya.Ease.cubicOut,()=>{O.playSound(O.voiceUrl.huodejinbi),u===n-1?Laya.timer.once(200,this,()=>{h&&h()}):c&&c(),d.removeSelf()})})}}}(n=t.Gold||(t.Gold={}))}(l||(l={})),function(e){e.dispatcher=new Laya.EventDispatcher,e.register=function(t,a,n){a||console.error("事件的执行域必须存在!"),e.dispatcher.on(t.toString(),a,n)},e.registerOnce=function(t,a,n){a||console.error("事件的执行域必须存在!"),e.dispatcher.once(t.toString(),a,n)},e.notify=function(t,a){e.dispatcher.event(t.toString(),a)},e.off=function(t,a,n){e.dispatcher.off(t.toString(),a,n)},e.offAll=function(t){e.dispatcher.offAll(t.toString())},e.offCaller=function(t){e.dispatcher.offAllCaller(t)}}(s||(s={})),function(e){class t{static get year(){return(new Date).getFullYear()}static get month(){return(new Date).getMonth()}static get date(){return(new Date).getDate()}static get day(){return(new Date).getDay()}static get hours(){return(new Date).getHours()}static get minutes(){return(new Date).getMinutes()}static get seconds(){return(new Date).getSeconds()}static get milliseconds(){return(new Date).getMilliseconds()}static get toLocaleDateString(){return(new Date).toLocaleDateString()}static get toLocaleTimeString(){return(new Date).toLocaleTimeString()}static get time(){return(new Date).getTime()}static howHoursDiffFromLastTime(e){return hoursByTimestamp(e,this.time)}static howMinutsDiffFromLastTime(e){return minutesByTimestamp(e,this.time)}static howSecondsDiffFromLastTime(e){return secondsByTimestamp(e,this.time)}static howHoursDiffFromNextTime(e){return hoursByTimestamp(this.time,e)}static howMinutsDiffFromNextTime(e){return minutesByTimestamp(this.time,e)}static howSecondsDiffFromNextTime(e){return secondsByTimestamp(this.time,e)}}function changeTimestamp(e){return{hours:+parseInt(`${e/36e5}`).toString(),minutes:+parseInt(`${e%36e5/6e4}`).toString(),seconds:+parseInt(`${e%6e4/1e3}`).toString()}}function minutesByTimestamp(e,t){const a=changeTimestamp(1e3*(Math.floor(t/1e3)-Math.floor(e/1e3)));return 60*a.hours+a.minutes+a.seconds/60}function secondsByTimestamp(e,t){const a=changeTimestamp(1e3*(Math.floor(t/1e3)-Math.floor(e/1e3)));return 3600*a.hours+60*a.minutes+a.seconds}function hoursByTimestamp(e,t){const a=changeTimestamp(1e3*(Math.floor(t/1e3)-Math.floor(e/1e3)));return a.hours+60*a.minutes+3600*a.seconds}e.PresentDate=t,e.init=function(){const t=new Date;e.loginInfo=m.arrayArr("LwgDate/loginInfo"),e.loginInfo.value.push([t.getFullYear(),t.getMonth()+1,t.getDate(),t.getDay(),t.getHours(),t.getMinutes(),t.getSeconds()]);let a=[];if(e.loginInfo.value.length>0)for(let t=0;t<e.loginInfo.value.length;t++)a.push(e.loginInfo.value[t]);a.push([t.getFullYear(),t.getMonth()+1,t.getDate(),t.getDay(),t.getHours(),t.getMinutes(),t.getSeconds()]),e.loginInfo.value=a,e.loginCount=m.num("LwgDate/ loginCount"),e.loginCount.value++,e.loginToday.num++},e.loginToday={get num(){return Laya.LocalStorage.getItem("LwgDate/loginToday")?Number(Laya.LocalStorage.getItem("LwgDate/loginToday")):0},set num(a){t.date==e.loginInfo.value[e.loginInfo.value.length-1][2]&&Laya.LocalStorage.setItem("LwgDate/loginToday",a.toString())}},e.last={get date(){return e.loginInfo.value.length>1?e.loginInfo.value[e.loginInfo.value.length-2][2]:e.loginInfo.value[e.loginInfo.value.length-1][2]}},e.front={get date(){return e.loginInfo.value[e.loginInfo.value.length-1][2]}},e.changeTimestamp=changeTimestamp,e.differenceInTimestamp=function(e,t){const a=changeTimestamp(1e3*(Math.floor(t/1e3)-Math.floor(e/1e3)));return(a.hours<10?"0"+a.hours:a.hours.toString())+":"+(a.minutes<10?"0"+a.minutes:a.minutes.toString())+":"+(a.seconds<10?"0"+a.seconds:a.seconds.toString())},e.minutesByTimestamp=minutesByTimestamp,e.secondsByTimestamp=secondsByTimestamp,e.hoursByTimestamp=hoursByTimestamp}(c||(c={})),function(e){e.onOff=!0,e.frameLoop=function(t,a,n,o,r,i){o&&e.onOff&&n(),Laya.timer.frameLoop(t,a,()=>{e.onOff&&n()},r,i)},e.frameRandomLoop=function(t,a,n,o,r,i,l){r&&e.onOff&&o();var s=()=>{let r=v.Num.randomOneInt(t,a);Laya.timer.frameOnce(r,n,()=>{e.onOff&&(o(),s())},i,l)};s()},e.frameNumLoop=function(t,a,n,o,r,i,l,s){i&&e.onOff&&o();let c=0;var h=()=>{e.onOff&&(++c>=a?(o(),r&&r(),Laya.timer.clear(n,h)):o())};Laya.timer.frameLoop(t,n,h,l,s)},e.numRandomLoop=function(t,a,n,o,r,i,l,s,c){l&&e.onOff&&r();let h=0;var u=()=>{let l=v.Num.randomOneInt(t,a);Laya.timer.frameOnce(l,o,()=>{e.onOff&&(++h>=n?(r(),i()):(r(),u()))},s,c)};u()},e.frameNumRandomLoop=function(t,a,n,o,r,i,l,s,c){l&&e.onOff&&r();let h=0;var u=()=>{let l=v.Num.randomOneInt(t,a);Laya.timer.frameOnce(l,o,()=>{e.onOff&&(++h>=n?(r(),i&&i()):(r(),u()))},s,c)};u()},e.frameOnce=function(t,a,n,o,r,i){o&&o(),Laya.timer.frameOnce(t,a,()=>{e.onOff&&n()},r,i)},e._frameNumOnce=function(t,a,n,o,r,i,l){for(let s=0;s<a;s++)r&&r(),Laya.timer.frameOnce(t,n,()=>{e.onOff&&o()},i,l)},e._loop=function(t,a,n,o,r,i){o&&e.onOff&&n(),Laya.timer.loop(t,a,()=>{e.onOff&&n()},r,i)},e.randomLoop=function(t,a,n,o,r,i,l){r&&e.onOff&&o();var s=()=>{let r=v.Num.randomOneInt(t,a);Laya.timer.once(r,n,()=>{e.onOff&&(o(),s())},i,l)};s()},e.numLoop=function(t,a,n,o,r,i,l,s){i&&o();let c=0;var h=()=>{e.onOff&&(++c>a?(o(),r&&r(),Laya.timer.clear(n,h)):o())};Laya.timer.loop(t,n,h,l,s)},e.once=function(e,t,a,n,o,r){n&&n(),Laya.timer.once(e,t,()=>{a()},o,r)},e.clearAll=function(e){Laya.timer.clearAll(e)},e._clear=function(e,t){Laya.timer.clear(e,t)}}(h||(h={})),function(e){e.Use={get value(){return this["Adaptive/value"]?this["Adaptive/value"]:null},set value(e){this["Adaptive/value"]=e}},e._stageWidth=function(t){for(let a=0;a<t.length;a++){const n=t[a];0==n.pivotX&&n.width?n.x=n.x/e.Use.value[0]*Laya.stage.width+n.width/2:n.x=n.x/e.Use.value[0]*Laya.stage.width}},e.stageHeight=function(t){for(let a=0;a<t.length;a++){const n=t[a];0==n.pivotY&&n.height?n.y=n.y/e.Use.value[1]*n.scaleX*Laya.stage.height+n.height/2:n.y=n.y/e.Use.value[1]*n.scaleX*Laya.stage.height}},e.center=function(e,t){for(let a=0;a<e.length;a++){const n=e[a];n.width>0?n.x=t.width/2-(n.width/2-n.pivotX)*n.scaleX:n.x=t.width/2,n.height>0?n.y=t.height/2-(n.height/2-n.pivotY)*n.scaleY:n.y=t.height/2}}}(u||(u={})),function(e){let t,a,n;e.openSwitch={get value(){return!!this.openSwitch&&this.openSwitch},set value(t){t&&(e.closeSwitch.value=!1),this.openSwitch=t}},e.closeSwitch={get value(){return!!this.closeSwitch&&this.closeSwitch},set value(t){t&&(e.openSwitch.value=!1),this.closeSwitch=t}},e.Use={get value(){return this["SceneAnimation/use"]?this["SceneAnimation/use"]:null},set value(t){"Open"===t.class.name?e.openSwitch.value=!0:e.openSwitch.value=!1,this["SceneAnimation/use"]=t}},e.closeAniTime=0,e.openAniTime=0,e._commonOpenAni=function(t){return e.Use.value.class._paly(e.Use.value.type,t)},e._commonCloseAni=function(t){return e.Use.value.class._paly(e.Use.value.type,t)},function(t){let a=700,n=150;t.Close=class{static _paly(e,t){return function(e){e.Background&&w.fadeOut(e,1,0,75),w.fadeOut(e,1,0,150,50)}(t),n+a}};t.Open=class{static _paly(t,o){return function(e){e.Background&&w.fadeOut(e,0,1,200,300),w.fadeOut(e,0,1,400,0)}(o),e.closeAniTime=n+a}}}(t=e._fadeOut||(e._fadeOut={})),function(t){let a=10,n=700,o=150;function moveClose(e,t,a,o){w.scale(e,1,1,a,o,n,0,()=>{t.disposeBitmap(),t.destroy(),e.destroy()})}function moveOpen(e,t,a,o){w.scale(e,a,o,1,1,n,0,()=>{t.disposeBitmap(),t.destroy(),e.destroy()})}function moveRule(e,t,a,n){n?"x"===a?moveOpen(e,t,0,1):moveOpen(e,t,1,0):"x"===a?moveClose(e,t,0,1):moveClose(e,t,1,0)}function createNoMaskSp(e,t,a,n,o,r,i){const l=new Laya.Sprite;return Laya.stage.addChild(l),l.name="shutters",l.zOrder=1e3,l.pos(e,t),l.size(a,n),v.Node.changePivot(l,a/2,n/2),l.texture=o,moveRule(l,o,r,i),l}function createMaskSp(e,t,a){const n=new Laya.Sprite;Laya.stage.addChild(n);const o=Laya.stage.width,r=Laya.stage.height;n.size(o,r),n.pos(0,0),n.zOrder=1e3,n.name="shutters";const i=e.drawToTexture(o,r,0,0);return n.texture=i,moveRule(n,i,t,a),n}function createMask(e){const t=new Laya.Image;return t.skin="Lwg/UI/ui_orthogon_cycn.png",t.sizeGrid="12,12,12,12",e.mask=t,t.anchorX=t.anchorY=.5,t}function crosswise(e,t){for(let n=0;n<a;n++){const o=e.width/a,r=Laya.stage.height;createNoMaskSp(o*n,0,o,r,e.drawToTexture(o,r,-o*n,0),"x",t)}}function vertical(e,t){for(let t=0;t<a;t++){const n=e.width,o=Laya.stage.height/a;createNoMaskSp(0,o*t,n,o,e.drawToTexture(n,o,0,-o*t),"y",!1)}}function croAndVer(e,t){const n=a-2;for(let t=0;t<n;t++){const a=e.width/n,o=Laya.stage.height;createNoMaskSp(a*t,0,a,o,e.drawToTexture(a,o,-a*t,0),"x",!1)}for(let a=0;a<n;a++){const o=e.width,r=Laya.stage.height/n;createNoMaskSp(0,r*a,o,r,e.drawToTexture(o,r,0,-r*a),"y",t)}}function rSideling(e,t){for(let n=0;n<a;n++){let o=1e3;const r=createMaskSp(e,"x",t),i=createMask(r);i.size(Math.round(Laya.stage.width/a),Math.round(Laya.stage.height+o)),i.pos(Math.round(Laya.stage.width/a*n),Math.round(-o/2)),v.Node.changePivot(i,Math.round(i.width/2),Math.round(i.height/2)),v.Node.changePivot(r,Math.round(n*r.width/a+r.width/a/2),Math.round(r.height/2)),i.rotation=-10}}function lSideling(e,t){for(let n=0;n<a;n++){const o=createMaskSp(e,"x",t),r=createMask(o);r.size(Math.round(Laya.stage.width/a),Math.round(Laya.stage.height+1e3)),r.pos(Math.round(Laya.stage.width/a*n),-500),v.Node.changePivot(r,Math.round(r.width/2),Math.round(r.height/2)),v.Node.changePivot(o,Math.round(n*o.width/a+o.width/a/2),Math.round(o.height/2)),r.rotation=10}}function sidelingIntersection(e,t){for(let n=0;n<a;n++){let o=1e3;const r=createMaskSp(e,"x",t),i=createMask(r);i.width=Math.round(Laya.stage.width/a),i.height=Math.round(Laya.stage.height+o),i.pos(Math.round(Laya.stage.width/a*n),Math.round(-o/2)),v.Node.changePivot(i,Math.round(i.width/2),Math.round(i.height/2)),v.Node.changePivot(r,Math.round(n*r.width/a+r.width/a/2),Math.round(r.height/2)),i.rotation=-15;const l=createMaskSp(e,"x",t),s=createMask(l);s.width=Laya.stage.width/a,s.height=Laya.stage.height+o,s.pos(Laya.stage.width/a*n,-o/2),v.Node.changePivot(s,s.width/2,s.height/2),v.Node.changePivot(l,n*l.width/a+l.width/a/2,l.height/2),s.rotation=15}}t.crosswise=crosswise,t.vertical=vertical,t.croAndVer=croAndVer,t.rSideling=rSideling,t.lSideling=lSideling,t.sidelingIntersection=sidelingIntersection,t.randomCroAndVer=function(e,t){switch(v._Array.randomGetOne([0,1,2])){case 0:crosswise(e,t);break;case 1:vertical(e);break;case 2:croAndVer(e,t);break;default:crosswise(e,t)}},t.random=function(e,t){switch(v._Array.randomGetOne([0,1,2,3,4,5])){case 0:crosswise(e,t);break;case 1:vertical(e);break;case 2:croAndVer(e,t);break;case 3:sidelingIntersection(e,t);break;case 4:lSideling(e,t);break;case 5:rSideling(e,t);break;default:crosswise(e,t)}};class r{static _paly(a,r){return h.once(o,this,()=>{t[`${a}`](r,!1),r.visible=!1}),e.closeAniTime=o+n}}r._type={crosswise:"crosswise",vertical:"vertical",croAndVer:"croAndVer",rSideling:"rSideling",sidelingIntersection:"sidelingIntersection",randomCroAndVer:"randomCroAndVer",random:"random"},t.Close=r;class i{static _paly(a,r){return h.once(o,this,()=>{t[`_${a}`](r,!0),r.visible=!1,h.once(n,this,()=>{r.visible=!0})}),e.closeAniTime=n+o}}i._type={crosswise:"crosswise",vertical:"vertical",croAndVer:"croAndVer",_sidelingIntersection:"_sidelingIntersection",randomCroAndVer:"randomCroAndVer",random:"random"},t.Open=i}(a=e.Shutters||(e.Shutters={})),n=e.SickIn||(e.SickIn={})}(d||(d={})),function(e){class t{removeSelf(){}func(){}}e.NumVariable=class extends t{};e.StrVariable=class extends t{};e.BoolVariable=class extends t{};e.ArrayVariable=class extends t{};e.ArrayArrVariable=class extends t{};e._Object=class extends t{},e.num=function(e,t,a){if(!this[`_num${e}`]){const t={get value(){return Laya.LocalStorage.getItem(e)?Number(Laya.LocalStorage.getItem(e)):(a=a||0,Laya.LocalStorage.setItem(e,a.toString()),a)},set value(t){Laya.LocalStorage.setItem(e,t.toString()),this.func()},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){this._func&&this._func()}};this[`_num${e}`]=t}return t&&(this[`_num${e}`]._func=t),this[`_num${e}`]},e.str=function(e,t,a){return this[`_str${e}`]||(this[`_str${e}`]={get value(){return Laya.LocalStorage.getItem(e)?Laya.LocalStorage.getItem(e):(a=a||null,Laya.LocalStorage.setItem(e,a.toString()),a)},set value(t){Laya.LocalStorage.setItem(e,t.toString()),this.func()},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){this._func&&this._func()}}),t&&(this[`_str${e}`]._func=t),this[`_str${e}`]},e.bool=function(e,t,a){return this[`_bool${e}`]||(this[`_bool${e}`]={get value(){return Laya.LocalStorage.getItem(e)?"false"!==Laya.LocalStorage.getItem(e)&&("true"===Laya.LocalStorage.getItem(e)||void 0):(a?Laya.LocalStorage.setItem(e,"true"):Laya.LocalStorage.setItem(e,"false"),this.func(),a)},set value(t){t=t?"true":"false",Laya.LocalStorage.setItem(e,t.toString())},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){t&&t()}}),t&&(this[`_bool${e}`]._func=t),this[`_bool${e}`]},e.array=function(e,t,a){return this[`_array${e}`]||(this[`_array${e}`]={get value(){try{let t=Laya.LocalStorage.getJSON(e);return t?JSON.parse(t):(a=a||[],Laya.LocalStorage.setJSON(e,JSON.stringify(a)),this.func(),a)}catch(e){return[]}},set value(t){Laya.LocalStorage.setJSON(e,JSON.stringify(t))},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){t&&t()}}),t&&(this[`_array${e}`]._func=t),this[`_array${e}`]},e.obj=function(e,t,a){return this[`_obj${e}`]||(this[`_obj${e}`]={get value(){try{let t=Laya.LocalStorage.getJSON(e);return t?JSON.parse(t):(a=a||{},Laya.LocalStorage.setJSON(e,JSON.stringify(a)),this.func(),a)}catch(e){return{}}},set value(t){Laya.LocalStorage.setJSON(e,JSON.stringify(t))},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){t&&t()}}),t&&(this[`_obj${e}`]._func=t),this[`_obj${e}`]},e.arrayArr=function(e,t,a){return this[`arrayArr${e}`]||(this[`arrayArr${e}`]={get value(){try{let t=Laya.LocalStorage.getJSON(e);return t?JSON.parse(t):(a=a||[],Laya.LocalStorage.setItem(e,a.toString()),a)}catch(e){return[]}},set value(t){Laya.LocalStorage.setJSON(e,JSON.stringify(t)),this.func()},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){t&&t()}}),t&&(this[`arrayArr${e}`]._func=t),this[`arrayArr${e}`]}}(m||(m={})),function(e){class t{constructor(){this.name="name",this.serial="serial",this.gameLevel="level",this.level="level",this.chName="chName",this.classify="classify",this.unlockWay="unlockWay",this.otherUnlockWay="otherUnlockWay",this.conditionNum="conditionNum",this.otherConditionNum="otherConditionNum",this.degreeNum="degreeNum",this.otherDegreeNum="otherDegreeNum",this.rewardType="otherGetAward",this.otherRewardType="otherRewardType",this.complete="complete",this.otherComplete="otherComplete",this.getAward="getAward",this.otherGetAward="otherGetAward",this.pitch="pitch",this.price="price",this.EXP="EXP"}}e.BaseProperty=t,e._unlockWayType={ads:"ads",gold:"gold",diamond:"diamond",customs:"customs",check:"check",free:"free"};e.Item=class extends n.ObjectBase{constructor(){super(...arguments),this.$data=null,this.$unlockWayType=e._unlockWayType,this.buttonOn=!1}get $dataIndex(){return this["item/dataIndex"]}set $dataIndex(e){this["item/dataIndex"]=e}get $dataArrName(){return this["item/dataArrName"]}set $dataArrName(e){this["item/dataArrName"]=e}$render(){}$button(){}$onStart(){}lwgOnStart(){this.$onStart(),this.buttonOn||this.$button()}};e.Table=class{constructor(a,n=null,o=!0,r=!0,i,l){this._unlockWay=e._unlockWayType,this._tableName="Table",this._lastArr=[],this._localStorage=!1,this._property=new t,a&&(this._tableName=a,o?(this._localStorage=o,this._arr=r?function(e,t,a){try{Laya.LocalStorage.getJSON(t)}catch(a){return Laya.LocalStorage.setJSON(t,JSON.stringify(e)),e}let n;if(Laya.LocalStorage.getJSON(t)){if(n=JSON.parse(Laya.LocalStorage.getJSON(t)),!e||!n)return n;let o=v.ObjArray.diffProByTwo(e,n,a);console.log(`${t}新添加对象`,o),v._Array.addToarray(n,o)}else n=e;return Laya.LocalStorage.setJSON(t,JSON.stringify(n)),n}(n,a,this._property.name):function(e,t){try{Laya.LocalStorage.getJSON(t)}catch(a){return Laya.LocalStorage.setJSON(t,JSON.stringify(e)),e}let a;if(Laya.LocalStorage.getJSON(t)){if(a=JSON.parse(Laya.LocalStorage.getJSON(t)),!e||!a)return a}else a=e;return Laya.LocalStorage.setJSON(t,JSON.stringify(a)),a}(n,a),i&&(l?this._compareLastInforByPro(i,l):this._compareLastDefaultPro(i))):this._arr=n)}get _arr(){return this[`_${this._tableName}arr`]||console.log("非单例模式下，请手动初始化_arr"),this[`_${this._tableName}arr`]}set _arr(e){this[`_${this._tableName}arr`]=e,Laya.LocalStorage.setJSON(this._tableName,JSON.stringify(this[`_${this._tableName}arr`]))}get _ListScrollBarTouchScrollEnable(){return this._List.scrollBar.touchScrollEnable}set _ListScrollBarTouchScrollEnable(e){this._List.scrollBar.touchScrollEnable=e}get _List(){return this[`${this._tableName}_List`]}set _List(e){this[`${this._tableName}_List`]=e,e.array=this._arr,e.selectEnable=!1,e.vScrollBarSkin="",e.renderHandler=new Laya.Handler(this,(e,t)=>{if(this._listRenderScript){let a=e.getComponent(this._listRenderScript);a||(a=e.addComponent(this._listRenderScript)),a.$data=this._listArray[t],a.$dataIndex=t,a.$render(),a.buttonOn||a.$button()}}),e.selectHandler=new Laya.Handler(this,e=>{this._listSelect&&this._listSelect(e)}),this[`${this._tableName}_List`].refresh()}get _listArray(){return this._List.array}set _listArray(e){this._List.array=e,this._List.scrollTo(0),this._refreshAndStorage()}_refreshAndStorage(){this._localStorage&&Laya.LocalStorage.setJSON(this._tableName,JSON.stringify(this._arr)),this._List&&this._List.refresh()}_compareLastInforByPro(e,t){this._lastArr=this._getlastVersion(e);for(let e=0;e<this._lastArr.length;e++){const a=this._lastArr[e];for(let e=0;e<this._arr.length;e++){const n=this._arr[e];if(a.name===n.name)for(let e=0;e<t.length;e++){const o=t[e];n[o]=a[o]}}}this._refreshAndStorage()}_compareLastDefaultPro(e){if(this._lastArr=this._getlastVersion(e),this._lastArr.length>0)for(let e=0;e<this._lastArr.length;e++){const t=this._lastArr[e];for(let e=0;e<this._arr.length;e++){const a=this._arr[e];t.complete&&(a.complete=!0),t.getAward&&(a.getAward=!0),t.degreeNum>a.degreeNum&&(a.degreeNum=t.degreeNum)}}this._refreshAndStorage()}_getlastVersion(e){let t=[];try{Laya.LocalStorage.getJSON(e)&&(t=JSON.parse(Laya.LocalStorage.getJSON(e)))}catch(t){console.log(e+"前版本不存在！")}return t}_getProperty(e,t){let a;for(const n in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,n)){const o=this._arr[n];if(o.name===e){a=o[t];break}}return a}_geConditionNumByName(e,t){let a;for(const t in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,t)){const n=this._arr[t];if(n.name===e){a=n.conditionNum;break}}return a}_getPitchIndexInArr(){for(let e=0;e<this._arr.length;e++)if(this._arr[e].name===this._pitchName)return e}_sumProByCompelet(e){let t=0;for(let a=0;a<this._arr.length;a++){const n=this._arr[a];n.complete&&n[e]&&(t+=n[e])}return t}_sumProByAll(e){let t=0;for(let a=0;a<this._arr.length;a++){const n=this._arr[a];n[e]&&(t+=n[e])}return t}_getPitchIndexInListArr(){if(this._List)for(let e=0;e<this._List.array.length;e++)if(this._List.array[e].name===this._pitchName)return e}_listTweenToPitch(e,t){const a=this._getPitchIndexInListArr();a&&this._List.tweenTo(a,e,Laya.Handler.create(this,()=>{t&&t()}))}_listTweenToDiffIndexByPitch(e,t,a){const n=this._getPitchIndexInListArr();n&&this._List.tweenTo(n+e,t,Laya.Handler.create(this,()=>{a&&a()}))}_listScrollToFirstByLast(){const e=this._List.array.length-1;e&&this._List.scrollTo(e)}_setProperty(e,t,a){for(const n in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,n)){const o=this._arr[n];if(o.name==e){o[t]=a,this._refreshAndStorage();break}}return a}_setCompleteByNameArr(e){for(let t=0;t<this._arr.length;t++){const a=this._arr[t];for(let t=0;t<e.length;t++){const n=e[t];a.name===n&&(a.complete=!0)}}this._refreshAndStorage()}_getFirstObjByPro(e,t){for(const a in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,a)){const n=this._arr[a];if(n[e]===t)return n}}_getObjByName(e){for(const t in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,t)){const a=this._arr[t];if(a.name==e)return a}}_getFirstObjByLevel(e){for(const t in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,t)){const a=this._arr[t];if(a.level==e)return a}}_getObjArrByLevel(e){const t=[];for(const a in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,a)){const n=this._arr[a];n.level==e&&t.push(n)}return t}_getObjBySerial(e){for(const t in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,t)){const a=this._arr[t];if(a.serial===e)return a}}_setProSoleByClassify(e,t,a){const n=this._getObjByName(e),o=this._getArrByClassify(n[this._property.classify]);for(const n in o)if(Object.prototype.hasOwnProperty.call(o,n)){const r=o[n];r.name==e?r[t]=a:r[t]=!a}this._refreshAndStorage()}_setOneProForAll(e,t){for(let a=0;a<this._arr.length;a++)this._arr[a][e]=t;this._refreshAndStorage()}_setAllComplete(){this._setOneProForAll(this._property.complete,!0),this._refreshAndStorage()}_setCompleteByName(e){this._setProperty(e,this._property.complete,!0),this._refreshAndStorage()}_setCompleteByProName(e,t){for(let a=0;a<this._arr.length;a++){const n=this._arr[a];if(n[e]&&n[e]===t){n[this._property.complete]=!0;break}}this._refreshAndStorage()}_setOtherCompleteName(e){this._setProperty(e,this._property.otherComplete,!0),this._refreshAndStorage()}_setAllCompleteDelay(e,t,a,n){for(let o=0;o<this._arr.length;o++)h.once(e*o,this,()=>{const e=this._arr[o];t&&t(e.complete),e.complete=!0,a&&a(),o===this._arr.length-1&&n&&n(),this._refreshAndStorage()})}_setAllOtherComplete(){this._setOneProForAll(this._property.otherComplete,!0),this._refreshAndStorage()}_setAllOtherCompleteDelay(e,t,a,n){for(let o=0;o<this._arr.length;o++)h.once(e*o,this,()=>{const e=this._arr[o];t&&t(e[this._property.otherComplete]),e[this._property.otherComplete]=!0,a&&a(),o===this._arr.length-1&&n&&n(),this._refreshAndStorage()})}_addProValueForAll(e,t){for(let a=0;a<this._arr.length;a++)this._arr[a][e]+=t();this._refreshAndStorage()}_setPitchProperty(e,t){return this._getPitchObj()[e]=t,this._refreshAndStorage(),t}_getPitchProperty(e){return this._getPitchObj()[e]}_randomOneObjByPro(e,t){let a=[];for(const n in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,n)){const o=this._arr[n];t?o[e]&&o[e]==t&&a.push(o):o[e]&&a.push(o)}return 0==a.length?null:v._Array.randomGetOne(a)}_randomOneObj(){const e=v.Num.randomOneBySection(0,this._arr.length-1,!0);return this._arr[e]}_randomCountObj(e){const t=v.Num.randomCountBySection(0,this._arr.length-1,e,!0),a=[];for(let e=0;e<this._arr.length;e++)for(let n=0;n<t.length;n++)e===t[n]&&a.push(this._arr[e]);return a}_getArrByClassify(e){let t=[];for(const a in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,a)){const n=this._arr[a];n[this._property.classify]==e&&t.push(n)}return t}_getArrByCompelet(){let e=[];for(const t in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,t)){const a=this._arr[t];a[this._property.complete]&&e.push(a)}return e}_getArrByNoCompelet(){let e=[];for(const t in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,t)){const a=this._arr[t];a[this._property.complete]||e.push(a)}return e}_getArrByUnlockWay(e){let t=[];for(const a in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,a)){const n=this._arr[a];n.unlockWay===e&&t.push(n)}return t}_getArrByPitchClassify(){let e=[];for(const t in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,t)){const a=this._arr[t];a[this._property.classify]==this._pitchClassify&&e.push(a)}return e}_getArrByProperty(e,t){let a=[];for(const n in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,n)){const o=this._arr[n];o[e]&&o[e]==t&&a.push(o)}return a}_getPitchClassfiyName(){return this._getObjByName(this._pitchName)[this._property.classify]}_getArrByNoProperty(e,t){let a=[];for(const n in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,n)){const o=this._arr[n];o[e]&&o[e]!==t&&a.push(o)}return a}_setArrByPropertyName(e,t){let a=[];for(const t in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,t)){const n=this._arr[t];n[e]&&(n[e],a.push(n))}return this._refreshAndStorage(),a}_setPropertyByClassify(e,t,a){const n=this._getArrByClassify(e);for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e][t]=a);return this._refreshAndStorage(),n}_setCompleteByClassify(e){let t=this._getArrByClassify(e);for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].complete=!0);return this._refreshAndStorage(),t}_checkCondition(e,t,a){let n=null;t=null==t?1:t;let o=this._getProperty(e,this._property.degreeNum),r=this._getProperty(e,this._property.conditionNum);return this._getProperty(e,this._property.complete)?n=-1:r<=o+t?(this._setProperty(e,this._property.degreeNum,r),this._setProperty(e,this._property.complete,!0),n=!0):(this._setProperty(e,this._property.degreeNum,o+t),n=!1),a&&a(),n}_checkConditionUnlockWay(e,t){for(const a in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,a)){const n=this._arr[a];n.unlockWay===e&&this._checkCondition(n.name,t||1)}return[]}_checkAllCompelet(){let e=!0;for(let t=0;t<this._arr.length;t++)if(!this._arr[t].complete)return e=!1;return e}_eachArr(e){for(let t=0;t<this._arr.length;t++){const a=this._arr[t];e&&e(a)}}_eachArrByCompelet(e){for(let t=0;t<this._arr.length;t++){const a=this._arr[t];e&&e(a)}}_eachArrByNoCompelet(e){for(let t=0;t<this._arr.length;t++){const a=this._arr[t];a.complete||e&&e(a)}}get _pitchClassify(){return this._setAllOtherCompleteDelay,this[`${this._tableName}/pitchClassify`]?this[`${this._tableName}/pitchClassify`]:this._localStorage?Laya.LocalStorage.getItem(`${this._tableName}/pitchClassify`)?Laya.LocalStorage.getItem(`${this._tableName}/pitchClassify`):null:this[`${this._tableName}/pitchClassify`]=null}set _pitchClassify(e){this._lastPitchClassify=this[`${this._tableName}/pitchClassify`]?this[`${this._tableName}/pitchClassify`]:null,this[`${this._tableName}/pitchClassify`]=e,this._localStorage&&Laya.LocalStorage.setItem(`${this._tableName}/pitchClassify`,e.toString()),this._refreshAndStorage()}get _pitchName(){return this[`${this._tableName}/_pitchName`]?this[`${this._tableName}/_pitchName`]:this._localStorage?Laya.LocalStorage.getItem(`${this._tableName}/_pitchName`)?Laya.LocalStorage.getItem(`${this._tableName}/_pitchName`):null:this[`${this._tableName}/_pitchName`]=null}set _pitchName(e){this._lastPitchName=this[`${this._tableName}/_pitchName`],this[`${this._tableName}/_pitchName`]=e,this._localStorage&&Laya.LocalStorage.setItem(`${this._tableName}/_pitchName`,e.toString()),this._refreshAndStorage()}get _lastPitchClassify(){return this[`${this._tableName}/_lastPitchClassify`]?this[`${this._tableName}/_lastPitchClassify`]:this._localStorage?Laya.LocalStorage.getItem(`${this._tableName}/_lastPitchClassify`)?Laya.LocalStorage.getItem(`${this._tableName}/_lastPitchClassify`):null:this[`${this._tableName}/_lastPitchClassify`]=null}set _lastPitchClassify(e){this[`${this._tableName}/_lastPitchClassify`]=e,this._localStorage&&e&&Laya.LocalStorage.setItem(`${this._tableName}/_lastPitchClassify`,e.toString())}get _lastPitchName(){return this[`${this._tableName}/_lastPitchName`]?this[`${this._tableName}/_lastPitchName`]:this._localStorage?Laya.LocalStorage.getItem(`${this._tableName}/_lastPitchName`)?Laya.LocalStorage.getItem(`${this._tableName}/_lastPitchName`):null:this[`${this._tableName}/_lastPitchName`]=null}set _lastPitchName(e){this[`${this._tableName}/_lastPitchName`]=e,this._localStorage&&e&&Laya.LocalStorage.setItem(`${this._tableName}/_lastPitchName`,e.toString())}_setPitch(e){let t;for(let a=0;a<this._arr.length;a++){const n=this._arr[a];n.name==e?(n.pitch=!0,t=n[this._property.classify]):n.pitch=!1}this._pitchClassify=t,this._pitchName=e,this._refreshAndStorage()}_getPitchObj(){for(const e in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,e)){const t=this._arr[e];if(t.name===this._pitchName)return t}}_addObj(e){let t=v.ObjArray.objCopy(e);for(let e=0;e<this._arr.length;e++)this._arr[e].name===t.name&&this._arr[e];this._refreshAndStorage()}_addObjArr(e){const t=v.ObjArray.arrCopy(e);for(let e=0;e<t.length;e++){const a=t[e];for(let n=0;n<this._arr.length;n++){const o=this._arr[n];a&&a.name===o.name&&(this._arr[n]=a,t.splice(e,1),e--)}}for(let e=0;e<t.length;e++){const a=t[e];this._arr.push(a)}this._refreshAndStorage()}_deleteListObjByName(e){for(let t=0;t<this._arr.length;t++)this._arr[t].name===e&&this._List.deleteItem(t);this._refreshAndStorage()}_deleteListObjByPro(e,t){for(let a=0;a<this._arr.length;a++){const n=this._arr[a];n[e]&&n[e]===t&&this._List.deleteItem(a)}this._refreshAndStorage()}_sortByProperty(e,t,a){if(v.ObjArray.sortByProperty(this._arr,e),null==a||a){for(let e=this._arr.length-1;e>=0;e--)this._arr[e][t]=this._arr.length-e;this._arr.reverse()}else for(let e=0;e<this._arr.length;e++)this._arr[e][t]=e+1;this._refreshAndStorage()}}}(y||(y={})),function(e){e.RGBToHexString=function(e,t,a){return"#"+("00000"+(e<<16|t<<8|a).toString(16)).slice(-6)},e.hexStringToRGB=function(e){let t,a,n;return[t=(255<<16&e)>>16,a=(65280&e)>>8,n=255&e]},e.colour=function(e,t,a){let n=new Laya.ColorFilter;return e.blendMode="null",t?n.color(t[0],t[1],t[2],t[3]):n.color(v.Num.randomOneBySection(255,100,!0),v.Num.randomOneBySection(255,100,!0),v.Num.randomOneBySection(255,100,!0),1),e.filters=[n],a&&Laya.timer.once(a,this,()=>{for(let t=0;t<e.filters.length;t++)if(e.filters[t]==n){e.filters=[];break}}),n},e.changeOnce=function(e,t,a,n){if(!e)return;let o=new Laya.ColorFilter;o.color(0,0,0,0);let r=t[0]/a,i=t[1]/a,l=t[2]/a,s=0;t[3]&&(s=t[3]/a);let c={add:!0},u=0,d=0,m=0,y=0;h.frameLoop(1,c,()=>{u<t[0]&&c.add?(d+=i,m+=l,0!==s&&(y+=s),(u+=r)>=t[0]&&(c.add=!1)):(d-=i,m-=l,0!==s&&(y-=s),(u-=r)<=0&&(n&&n(),Laya.timer.clearAll(c))),o.color(u,d,m,y),e.filters=[o]})},e.changeConstant=function(e,t,a,n){let o,r=[];e.filters?(o=e.filters[0],r=[e.filters[0]._alpha[0],e.filters[0]._alpha[1],e.filters[0]._alpha[2],e.filters[0]._alpha[3]?e.filters[0]._alpha[3]:1]):((o=new Laya.ColorFilter).color(t[0],t[1],t[2],t[3]?t[3]:1),r=[t[0],t[1],t[2],t[3]?t[3]:1],e.filters=[o]);let i=[v.Num.randomCountBySection(t[0],a[0])[0],v.Num.randomCountBySection(t[1],a[1])[0],v.Num.randomCountBySection(t[2],a[2])[0],v.Num.randomCountBySection(t[3]?t[3]:1,a[3]?a[3]:1)[0]],l=(i[0]-r[0])/n,s=(i[1]-r[1])/n,c=(i[2]-r[2])/n,u=0;i[3]&&(u=(i[3]-r[3])/n),e.changeCaller&&Laya.timer.clearAll(e.changeCaller);let d={};e.changeCaller=d;let m=0;h.frameLoop(1,d,()=>{++m<=n?(r[0]+=l,r[1]+=s,r[2]+=c):Laya.timer.clearAll(d),o.color(r[0],r[1],r[2],r[3]),e.filters=[o]})}}(g||(g={})),function(e){let t;e.tex2D={"爱心2":{url:"Lwg/Effects/3D/aixin2.png",texture2D:null,name:"爱心2"},"星星8":{url:"Lwg/Effects/3D/star8.png",texture2D:null,name:"星星8"},"星星5":{url:"Lwg/Effects/3D/star5.png",texture2D:null,name:"星星5"},"圆形发光":{url:"Lwg/Effects/3D/yuanfaguang.png",texture2D:null,name:"圆形发光"}},function(t){class a{constructor(e,t,a,n,o,r,i){this.time=0,this.appear=!0,this.move=!1,this.vinish=!1,this.frame={interval:1,func:null},this.end=!1,this.stateType={appear:"appear",move:"move",vinish:"vinish",end:"end"},this._positionByARY_FA=0,this._positionARXY_FR=0,this._positionByTimeRecord=0,this.frame.interval=o||1,this.frame.func=r||null,this.endFunc=i||null,this.time=e||0,this.appear=t||!0,this.move=a||!1,this.vinish=n||!1,h.frameLoop(1,this,()=>{this.time++,!this.box||this.box.parent?(this.time%this.frame.interval==0&&this.frame.func&&this.frame.func(),this.appear&&this.appearFunc&&this.appearFunc(),this.move&&this.moveFunc&&this.moveFunc(),this.vinish&&this.vinishFunc&&this.vinishFunc(),this.end&&this.endFunc&&this.endFunc(),this.everyFrameFunc&&this.everyFrameFunc(),this.clear()):this.clear()})}get box(){return this._box||console.log("粒子没有初始化！"),this._box}set box(e){this._box=e}stateSwitch(e){"a"!=e&&"appear"!=e||(this.appear=!0,this.move=!1,this.vinish=!1,this.end=!1),"m"==e||"move"==e?(this.appear=!1,this.move=!0):"v"==e||"vinish"==e?(this.move=!1,this.vinish=!0):"e"!=e&&"end"!=e||(this.vinish=!1,this.end=!0)}clear(){this.end&&(this.mat.destroy(),this.box.meshFilter.destroy(),this.box.destroy(),Laya.timer.clearAll(this))}boxInit(t,a,n,o,r,i){const l=n?v.Num.randomOneBySection(n[0][0],n[1][0]):v.Num.randomOneBySection(.06,.08),s=n?v.Num.randomOneBySection(n[0][1],n[1][1]):v.Num.randomOneBySection(.06,.08),c=n?v.Num.randomOneBySection(n[0][2],n[1][2]):v.Num.randomOneBySection(.06,.08);this.box=t.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(l,s,c))),this.box.transform.position=a?new Laya.Vector3(a[0],a[1],a[2]):new Laya.Vector3(0,0,0),this.fPosition=new Laya.Vector3(this.box.transform.position.x,this.box.transform.position.y,this.box.transform.position.z),this.box.transform.localRotationEulerX=o?v.Num.randomOneBySection(o[0][0],o[1][0]):v.Num.randomOneBySection(0,360),this.box.transform.localRotationEulerX=o?v.Num.randomOneBySection(o[0][1],o[1][1]):v.Num.randomOneBySection(0,360),this.box.transform.localRotationEulerX=o?v.Num.randomOneBySection(o[0][2],o[1][2]):v.Num.randomOneBySection(0,360),this.fEuler=new Laya.Vector3(this.box.transform.localRotationEulerX,this.box.transform.localRotationEulerY,this.box.transform.localRotationEulerZ);const h=this.box.meshRenderer.material=new Laya.BlinnPhongMaterial;h.albedoTexture=r?v._Array.randomGetOne(r):e.tex2D.圆形发光.texture2D,h.renderMode=2;const u=i?v.Num.randomOneBySection(i[0][0],i[1][0]):v.Num.randomOneBySection(10,25),d=i?v.Num.randomOneBySection(i[0][1],i[1][1]):v.Num.randomOneBySection(5,15),m=i?v.Num.randomOneBySection(i[0][2],i[1][2]):v.Num.randomOneBySection(5,10),y=i?v.Num.randomOneBySection(i[0][3],i[1][3]):v.Num.randomOneBySection(1,1);h.albedoColor=new Laya.Vector4(u,d,m,y),this.mat=h}get fPosition(){return this._fPosition}set fPosition(e){this._fPosition=e}get fEuler(){return this._fEuler}set fEuler(e){this._fEuler=e}get mat(){return this.box.meshRenderer.material}set mat(e){this.box.meshRenderer.material=e}positionByARY(e,t,a,n,o){const r=v.Point.getRoundPosOld(this._positionByARY_FA+=e,t,new Laya.Point(this.fPosition.x,this.fPosition.z));this.box.transform.position=new Laya.Vector3(r.x,this.box.transform.position.y+=a,r.y),this.box.transform.position.y-this.fPosition.y>n&&o&&o()}positionARXY_R(e,t,a,n){this._positionARXY_FR+=t;const o=v.Point.getRoundPosOld(e,this._positionARXY_FR,new Laya.Point(0,0));this.box.transform.position=new Laya.Vector3(this.fPosition.x+o.x,this.fPosition.y+o.y,this.fPosition.z),this._positionARXY_FR>=a&&n&&n()}fadeAway(e,t=0,a){this.mat.albedoColorA-=e,this.mat.albedoColorA<=t&&(this.mat.albedoColorA=t,a&&a())}fadeIn(e,t=1,a){this.mat.albedoColorA+=e,this.mat.albedoColorA>=t&&(this.mat.albedoColorA=t,a&&a())}positionByTime(e,t,a){this._positionByTimeRecord++,this.box.transform.position=new Laya.Vector3(this.box.transform.position.x+=e[0],this.box.transform.position.y+=e[1],this.box.transform.position.z+=e[2]),t&&this._positionByTimeRecord>t&&a&&a()}scaleX(e,t,a){this.box.transform.localScaleX+=e,t&&(e>=0?this.box.transform.localScaleX>=t&&(this.box.transform.localScaleX=t,a&&a()):this.box.transform.localScaleX<=t&&(this.box.transform.localScaleX=t,a&&a()))}scaleY(e,t,a){this.box.transform.localScaleY+=e,t&&(e>=0?this.box.transform.localScaleY>=t&&(this.box.transform.localScaleY=t,a&&a()):this.box.transform.localScaleY<=t&&(this.box.transform.localScaleY=t,a&&a()))}scaleZ(e,t,a){this.box.transform.localScaleZ+=e,t&&(e>=0?this.box.transform.localScaleZ>=t&&(this.box.transform.localScaleZ=t,a&&a()):this.box.transform.localScaleZ<=t&&(this.box.transform.localScaleZ=t,a&&a()))}rotateX(e,t,a){this.box.transform.localRotationEulerX+=e,t&&(e>=0?this.box.transform.localRotationEulerX>=t&&(this.box.transform.localRotationEulerX=t,a&&a()):this.box.transform.localRotationEulerX<=t&&(this.box.transform.localRotationEulerX=t,a&&a()))}rotateY(e,t,a){this.box.transform.localRotationEulerY+=e,t&&(e>=0?this.box.transform.localRotationEulerY>=t&&(this.box.transform.localRotationEulerY=t,a&&a()):this.box.transform.localRotationEulerY<=t&&(this.box.transform.localRotationEulerY=t,a&&a()))}rotateZ(e,t,a){this.box.transform.localRotationEulerZ+=e,t&&(e>=0?this.box.transform.localRotationEulerZ>=t&&(this.box.transform.localRotationEulerZ=t,a&&a()):this.box.transform.localRotationEulerZ<=t&&(this.box.transform.localRotationEulerZ=t,a&&a()))}randomScopeByPosition(e){e=e||[[.1,.1,.1],[.3,.3,.3]],v.D3.randomScopeByPosition(this.box,e)}excludeZ(){this.box.transform.localScaleZ=0}rotateTheZero(){this.box.transform.localRotationEulerZ=0,this.box.transform.localRotationEulerX=0,this.box.transform.localRotationEulerY=0}scaleTheZero(){this.box.transform.localRotationEulerZ=0,this.box.transform.localRotationEulerX=0,this.box.transform.localRotationEulerY=0}}t.Caller=a,t.spiral=function(e,t,n,o,r,i,l,s,c,h){const u=new a;u.boxInit(e,t,n,o,r,i),u.excludeZ(),u.rotateTheZero();const d=v.Num.randomNumerical(l,[1.5,1.5]),m=v.Num.randomNumerical(s,[.02,.02]),y=v.Num.randomNumerical(c,[6,6]),g=v.Num.randomNumerical(h,[.5,.5]);return u.mat.albedoColorA=0,u.stateSwitch("m"),u.moveFunc=(()=>{u.fadeIn(.2),u.positionByARY(y,g,m,d,()=>{u.stateSwitch("v")})}),u.vinishFunc=(()=>{u.fadeAway(.15,0,()=>{u.stateSwitch("e")}),u.positionByTime([0,.002,0])}),u},t.explode=function(e,t,n,o,r,i,l,s){const c=new a;c.boxInit(e,t,n,o,r,i),c.excludeZ(),c.rotateTheZero();const h=v.Num.randomNumerical(l,[.3,.6]),u=v.Num.randomNumerical(s,[.008,.012]),d=v.Num.randomNumerical([0,360]);c.mat.albedoColorA=0,c.stateSwitch("m"),c.moveFunc=(()=>{c.fadeIn(.15),c.positionARXY_R(d,u,h,()=>{c.stateSwitch("v")})}),c.vinishFunc=(()=>{c.fadeAway(.15,0,()=>{c.stateSwitch("e")})})},t.fade=function(e,t,n,o,r,i,l,s,c){const h=new a;h.boxInit(e,t,n||[[.04,.04,0],[.04,.04,0]],l,s,c),h.excludeZ();const u=o||20,d=r||.02,m=i||.02;return h.rotateTheZero(),h.stateSwitch("m"),h.moveFunc=(()=>{h.time>u&&h.stateSwitch("v")}),h.vinishFunc=(()=>{h.scaleX(m),h.fadeAway(d,0,()=>{h.stateSwitch("e")})}),h.everyFrameFunc=(()=>{h.box.transform.localScaleY=h.box.transform.localScaleX}),h},t.starsShine=function(t,n,o,r,i,l,s,c,h){const u=new a;u.boxInit(t,n,null,null,c||[e.tex2D.星星5.texture2D],h||[[15,15,15,1],[30,30,30,1]]),u.excludeZ(),u.rotateTheZero(),u.scaleTheZero(),u.randomScopeByPosition(o),u.mat.albedoColorA=0;const d=v.Num.randomNumerical(i,[1,2]),m=v.Num.randomNumerical(r,[.01,.05]),y=v.Num.randomNumerical(l,[2,6],!0),g=v.Num.randomNumerical(s,[.01,.05]);return u.appearFunc=(()=>{u.fadeIn(g,1,()=>{u.stateSwitch("m")}),u.scaleX(m,1),u.rotateZ(y)}),u.moveFunc=(()=>{u.scaleX(m,d,()=>{u.stateSwitch("v")}),u.rotateZ(y)}),u.vinishFunc=(()=>{u.fadeAway(g,0,()=>{u.stateSwitch("e")}),u.scaleX(-m),u.rotateZ(-y)}),u.everyFrameFunc=(()=>{u.box.transform.localScaleY=u.box.transform.localScaleX}),u}}(t=e.Particle||(e.Particle={}))}(f||(f={})),function(e){let t,a,n,o,r;!function(e){e["爱心1"]="Lwg/Effects/aixin1.png",e["爱心2"]="Lwg/Effects/aixin2.png",e["爱心3"]="Lwg/Effects/aixin3.png",e["花1"]="Lwg/Effects/hua1.png",e["花2"]="Lwg/Effects/hua2.png",e["花3"]="Lwg/Effects/hua3.png",e["花4"]="Lwg/Effects/hua4.png",e["星星1"]="Lwg/Effects/star1.png",e["星星2"]="Lwg/Effects/star2.png",e["星星3"]="Lwg/Effects/star3.png",e["星星4"]="Lwg/Effects/star4.png",e["星星5"]="Lwg/Effects/star5.png",e["星星6"]="Lwg/Effects/star6.png",e["星星7"]="Lwg/Effects/star7.png",e["星星8"]="Lwg/Effects/star8.png",e["菱形1"]="Lwg/Effects/rhombus1.png",e["菱形2"]="Lwg/Effects/rhombus1.png",e["菱形3"]="Lwg/Effects/rhombus1.png",e["矩形1"]="Lwg/Effects/rectangle1.png",e["矩形2"]="Lwg/Effects/rectangle2.png",e["矩形3"]="Lwg/Effects/rectangle3.png",e["雪花1"]="Lwg/Effects/xuehua1.png",e["叶子1"]="Lwg/Effects/yezi1.png",e["圆形发光1"]="Lwg/Effects/yuanfaguang.png",e["圆形1"]="Lwg/Effects/yuan1.png",e["方形光圈1"]="Lwg/Effects/ui_square_guang1.png",e["方形圆角光圈1"]="Lwg/Effects/ui_square_guang2.png",e["圆形小光环"]="Lwg/Effects/xiaoguanghuan.png",e["光圈2"]="Lwg/Effects/guangquan2.png",e["三角形1"]="Lwg/Effects/triangle1.png",e["三角形2"]="Lwg/Effects/triangle2.png"}(t=e.SkinUrl||(e.SkinUrl={})),function(e){class a extends Laya.Image{constructor(e,a,n,o,r,i,l){if(super(),!e.parent)return;e.addChild(this),a?this.pos(a[0],a[1]):this.pos(0,0),this.width=n?n[0]:100,this.height=n?n[1]:100,this.pivotX=this.width/2,this.pivotY=this.height/2,this.rotation=o?v.Num.randomOneBySection(o[0],o[1]):v.Num.randomOneBySection(360),this.skin=r?v._Array.randomGetOne(r):t.花3,this.zOrder=l||0,this.alpha=0;let s=[null,null,null,null];s[0]=i?v.Num.randomOneBySection(i[0][0],i[1][0]):v.Num.randomOneBySection(180,255),s[1]=i?v.Num.randomOneBySection(i[0][1],i[1][1]):v.Num.randomOneBySection(10,180),s[2]=i?v.Num.randomOneBySection(i[0][2],i[1][2]):v.Num.randomOneBySection(10,180),s[3]=i?v.Num.randomOneBySection(i[0][3],i[1][3]):v.Num.randomOneBySection(1,1),g.colour(this,s)}}e.ApertureImage=a,e.continuous=function(e,t,n,o,r,i,l,s,c,u,d){const m=new a(e,t,n,r,i,l,s);let y=u?v.Num.randomOneBySection(u[0],u[1]):.025,g=d?v.Num.randomOneBySection(d[0],d[1]):5e-4;o?m.scale(o[0],o[1]):m.scale(0,0);const f=c?v.Num.randomOneBySection(c[0],c[1]):2;let p={alpha:!0,scale:!1,vanish:!1};m.moveCaller=p;let _=0;h.frameLoop(1,p,()=>{p.alpha&&(m.alpha+=.05,_=0,m.alpha>=1&&(p.alpha=!1,p.scale=!0)),p.scale&&(_+=g,m.scaleX>=f&&(p.scale=!1,p.vanish=!0)),p.vanish&&(m.alpha-=.015,m.alpha<=0&&(m.removeSelf(),Laya.timer.clearAll(p))),m.scaleX=m.scaleY+=y+_})},e._continuousByDs=function(e,t,n,o,r,i,l,s,c,u,d){const m=new a(e,t,n,r,i,l,s);let y=u?v.Num.randomOneBySection(u[0],u[1]):.025,g=d?v.Num.randomOneBySection(d[0],d[1]):5e-4;o?m.scale(o[0],o[1]):m.scale(0,0);const f=c?v.Num.randomOneBySection(c[0],c[1]):2;let p={alpha:!0,scale:!1,vanish:!1};m.moveCaller=p;let _=0;h.frameLoop(1,p,()=>{p.alpha&&(m.alpha+=.05,_=0,m.alpha>=1&&(p.alpha=!1,p.scale=!0)),p.scale&&(_+=g,m.scaleX>f&&(p.scale=!1,p.vanish=!0)),p.vanish&&(_-=g)<=0&&(_=0,m.alpha-=.015,m.alpha<=0&&(m.removeSelf(),Laya.timer.clearAll(p))),m.scaleX=m.scaleY+=y+_})}}(a=e.Aperture||(e.Aperture={})),function(e){class a extends Laya.Image{constructor(e,a,n,o,r,i,l,s,c){super(),e.addChild(this);let h=n?v.Num.randomOneBySection(n[0]):v.Num.randomOneBySection(200),u=n?v.Num.randomOneBySection(n[1]):v.Num.randomOneBySection(50);h=0==v.Num.randomOneHalf()?h:-h,u=0==v.Num.randomOneHalf()?u:-u,this.x=a?a.x+h:h,this.y=a?a.y+u:u,this.width=o?v.Num.randomOneBySection(o[0],o[1]):v.Num.randomOneBySection(20,50),this.height=r?v.Num.randomOneBySection(r[0],r[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2,this.skin=l?v._Array.randomGetOne(l):t.圆形1,this.rotation=i?v.Num.randomOneBySection(i[0],i[1]):0,this.alpha=0,this.zOrder=c||1e3;let d=[null,null,null,null];d[0]=s?v.Num.randomOneBySection(s[0][0],s[1][0]):v.Num.randomOneBySection(180,255),d[1]=s?v.Num.randomOneBySection(s[0][1],s[1][1]):v.Num.randomOneBySection(10,180),d[2]=s?v.Num.randomOneBySection(s[0][2],s[1][2]):v.Num.randomOneBySection(10,180),d[3]=s?v.Num.randomOneBySection(s[0][3],s[1][3]):v.Num.randomOneBySection(1,1),g.colour(this,d)}}function rotatingWay(e,t,a,n){let o=t?v.Num.randomOneBySection(t[0],t[1]):v.Num.randomOneBySection(0,1);o=0==v.Num.randomOneHalf()?o:-o;const r=a?v.Num.randomOneBySection(a[0],a[1]):v.Num.randomOneBySection(0,.25),i=v.Num.randomOneHalf();let l=n?v.Num.randomOneBySection(n[0],n[1]):v.Num.randomOneBySection(1,10);l=1===v.Num.randomOneHalf()?l:-l;const s=v.Num.randomOneHalf(),c=v.Num.randomOneHalf();return()=>{e.rotation+=o,1===c?1===s?e.skewX+=l:e.skewY+=l:1===i?e.moveCaller.scaleSub?(e.scaleX-=r,e.scaleX<=0&&(e.moveCaller.scaleSub=!1)):(e.scaleX+=r,e.scaleX>=1&&(e.moveCaller.scaleSub=!0)):e.moveCaller.scaleSub?(e.scaleY-=r,e.scaleY<=0&&(e.moveCaller.scaleSub=!1)):(e.scaleY+=r,e.scaleY>=1&&(e.moveCaller.scaleSub=!0))}}e.ImgBase=a,e.snow=function(e,t,n,o,r,i,l,s,c,u,d,m,y){let g=new a(e,t,n,o,r,i,l,s,c),f=d?v.Num.randomOneBySection(d[0],d[1]):v.Num.randomOneBySection(0,1);f=0==v.Num.randomOneHalf()?f:-f;let p=m?v.Num.randomOneBySection(m[0],m[1]):v.Num.randomOneBySection(1,2.5),_=y?v.Num.randomOneBySection(y[0],y[1]):0,L={alpha:!0,move:!1,vinish:!1};g.moveCaller=L;let w=0,S=u?v.Num.randomOneBySection(u[0],u[1]):v.Num.randomOneBySection(100,300);return h.frameLoop(1,L,()=>{g.x+=_,g.rotation+=f,g.alpha<1&&L.alpha&&(g.alpha+=.05,w=g.y++,g.alpha>=1&&(L.alpha=!1,L.move=!0)),w<S&&L.move&&(w=g.y+=p)>=S&&(L.move=!1,L.vinish=!0),L.vinish&&(g.alpha-=.03,g.y+=p,(g.alpha<=0||p<=0)&&(g.removeSelf(),Laya.timer.clearAll(L)))}),g},e.downwardSpray=function(e,t,n,o,r,i,l,s,c,u,d,m,y,g,f){const p=new a(e,t,[0,0],n,o,null,i,l,f),_=r?v.Num.randomOneBySection(r[0],r[1]):v.Num.randomOneBySection(0,90),L=v.Point.angleByPoint(_),w=s?v.Num.randomOneBySection(s[0],s[1]):v.Num.randomOneBySection(200,800);let S=c?v.Num.randomOneBySection(c[0],c[1]):v.Num.randomOneBySection(10,30),O=d?v.Num.randomOneBySection(d[0],d[1]):v.Num.randomOneBySection(.3,1.5);const b=u?v.Num.randomOneBySection(u[0],u[1]):v.Num.randomOneBySection(1,5);let N=0;const x={appear:!0,move:!1,dropFp:null,drop:!1,vinish:!1,scaleSub:!0,scaleAdd:!1,rotateFunc:null};return x.rotateFunc=rotatingWay(p,m,y,g),p.moveCaller=x,h.frameLoop(1,x,()=>{if(x.rotateFunc(),x.appear&&(p.alpha+=.5,p.alpha>=1&&(x.appear=!1,x.move=!0),p.x+=L.x*S,p.y+=L.y*S),x.move){const e=S+(N-=O);p.x+=L.x*e,p.y+=L.y*e,e<=1&&(S=1,x.dropFp=new Laya.Point(p.x,p.y),x.move=!1,x.drop=!0)}x.drop&&(p.x+=L.x*S,p.y+=L.y*S,x.dropFp.distance(p.x,p.y)>w&&(x.drop=!1,x.vinish=!0)),x.vinish&&(p.alpha-=.05,p.alpha<=.3&&(p.removeSelf(),Laya.timer.clearAll(x))),p.y+=b}),p},e.fallingRotate=function(e,t,n,o,r,i,l,s,c,u,d,m,y){const g=new a(e,t,n,o,r,null,i,l,y),f=c?v.Num.randomOneBySection(c[0],c[1]):v.Num.randomOneBySection(1,2.5);let p=0;const _=s?v.Num.randomOneBySection(s[0],s[1]):v.Num.randomOneBySection(100,300),L={appear:!0,move:!1,vinish:!1,scaleSub:!0,scaleAdd:!1,rotateFunc:null};return L.rotateFunc=rotatingWay(g,m,u,d),g.moveCaller=L,h.frameLoop(1,L,()=>{L.rotateFunc(),L.appear&&(g.alpha+=.05,g.y+=f/2,g.alpha>=1&&(L.appear=!1,L.move=!0)),L.move&&(g.y+=f,(p+=f)>=_&&(L.move=!1,L.vinish=!0)),L.vinish&&(g.alpha-=.01,g.y+=f,g.alpha<=0&&(g.removeSelf(),Laya.timer.clearAll(L)))}),g},e.fallingVertical=function(e,t,n,o,r,i,l,s,c,u,d,m){let y=new a(e,t,n,o,r,i,l,s,c),g=d?v.Num.randomOneBySection(d[0],d[1]):v.Num.randomOneBySection(4,8),f=m?v.Num.randomOneBySection(m[0],m[1]):v.Num.randomOneBySection(.25,.45),p=0,_={alpha:!0,move:!1,vinish:!1};y.moveCaller=_;let L=u?v.Num.randomOneBySection(u[0],u[1]):v.Num.randomOneBySection(100,300),w=y.y;return h.frameLoop(1,_,()=>{y.alpha<1&&_.alpha&&(y.alpha+=.04,y.alpha>=1&&(_.alpha=!1,_.move=!0)),_.alpha||(p+=f,y.y+=g+p),!_.alpha&&_.move&&y.y-w>=L&&(_.move=!1,_.vinish=!0),_.vinish&&(y.alpha-=.03,y.alpha<=0&&(Laya.timer.clearAll(_),y.removeSelf()))}),y},e.fallingVertical_Reverse=function(e,t,n,o,r,i,l,s,c,u,d,m){let y=new a(e,t,n,o,r,i,l,s,c),g=d?v.Num.randomOneBySection(d[0],d[1]):v.Num.randomOneBySection(4,8),f=m?v.Num.randomOneBySection(m[0],m[1]):v.Num.randomOneBySection(.25,.45),p=0,_={alpha:!0,move:!1,vinish:!1};y.moveCaller=_;let L=u?v.Num.randomOneBySection(u[0],u[1]):v.Num.randomOneBySection(100,300),w=y.y;return h.frameLoop(1,_,()=>{y.alpha<1&&_.alpha&&(y.alpha+=.04,y.alpha>=1&&(_.alpha=!1,_.move=!0)),_.alpha||(p+=f,y.y+=g+p),!_.alpha&&_.move&&y.y-w<=L&&(_.move=!1,_.vinish=!0),_.vinish&&(y.alpha-=.03,y.alpha<=0&&(Laya.timer.clearAll(_),y.removeSelf()))}),y},e.slowlyUp=function(e,t,n,o,r,i,l,s,c,u,d,m){let y=new a(e,t,n,o,r,i,l,s,c),g=d?v.Num.randomOneBySection(d[0],d[1]):v.Num.randomOneBySection(1.5,2),f=m?v.Num.randomOneBySection(m[0],m[1]):v.Num.randomOneBySection(.001,.005),p=0,_={alpha:!0,move:!1,vinish:!1};y.moveCaller=_;let L=y.y,w=0,S=u?v.Num.randomOneBySection(u[0],u[1]):v.Num.randomOneBySection(-250,-600);return h.frameLoop(1,_,()=>{y.alpha<1&&_.alpha&&(y.alpha+=.03,y.alpha>=1&&(_.alpha=!1,_.move=!0)),w>S&&_.move||(_.move=!1,_.vinish=!0),_.vinish&&(y.alpha-=.02,y.scaleX-=.005,y.scaleY-=.005,y.alpha<=0&&(y.removeSelf(),Laya.timer.clearAll(_))),p+=f,y.y-=g+p,w=L-y.y}),y},e.sprayRound=function(e,t,n,o,r,i,l,s,c,u,d,m){let y=new a(e,t,[0,0],n,o,r,i,l,m),g=t||new Laya.Point(0,0),f=0;const p=c?v.Num.randomOneBySection(c[0],c[1]):v.Num.randomOneBySection(30,50),_=s?v.Num.randomOneBySection(s[0],s[1]):v.Num.randomOneBySection(100,200),L=_/p,w=u?v.Num.randomOneBySection(u[0],u[1]):v.Num.randomOneBySection(0,360);let S=d?v.Num.randomOneBySection(d[0],d[1]):v.Num.randomOneBySection(0,20);S=0==v.Num.randomOneHalf()?S:-S;const O=1/v.Num.randomOneInt(60);let b={alpha:!0,move:!1,vinish:!1};return y.moveCaller=b,h.frameLoop(1,b,()=>{if(y.rotation+=S,y.alpha<1&&b.alpha)y.alpha+=.5,y.alpha>=1&&(b.alpha=!1,b.move=!0);else if(b.vinish){y.alpha-=O,y.alpha<=0&&(y.removeSelf(),Laya.timer.clearAll(b)),f+=L/2;let e=v.Point.getRoundPosOld(w,f,g);y.pos(e.x,e.y)}else{f+=L;let e=v.Point.getRoundPosOld(w,f,g);y.pos(e.x,e.y),f>_&&(b.move=!1,b.vinish=!0)}}),y},e.spray=function(e,t,n,o,r,i,l,s,c,u,d,m,y){let g=new a(e,t,[0,0],n,o,r,i,l,y),f=t||new Laya.Point(0,0),p=d?v.Num.randomOneBySection(d[0],d[1]):v.Num.randomOneBySection(3,10),_=m?v.Num.randomOneBySection(m[0],m[1]):v.Num.randomOneBySection(.25,.45),L=0,w={alpha:!0,move:!1,vinish:!1};g.moveCaller=w;let S=0,O=s?v.Num.randomOneBySection(s[0],s[1]):v.Num.randomOneBySection(100,200),b=c?v.Num.randomOneBySection(c[0],c[1]):v.Num.randomOneBySection(0,360),N=u?v.Num.randomOneBySection(u[0],u[1]):v.Num.randomOneBySection(0,20);return N=0==v.Num.randomOneHalf()?N:-N,h.frameLoop(1,w,()=>{if(g.rotation+=N,g.alpha<1&&w.alpha)g.alpha+=.5,g.alpha>=1&&(w.alpha=!1,w.move=!0);else{S<O&&w.move||(w.move=!1,w.vinish=!0),w.vinish&&(g.alpha-=.05,g.alpha<=.3&&(g.removeSelf(),Laya.timer.clearAll(w))),S+=p+(L+=_);let e=v.Point.getRoundPosOld(b,S,f);g.pos(e.x,e.y)}}),g},e.outsideBox=function(e,t,n,o,r,i,l,s,c,u,d,m,y,g){let f=new a(e,t,[0,0],o,r,i,l,s,c),p=0;n=n||[100,100],u=u||60,"x"==(0==v.Num.randomOneHalf()?"x":"y")?(0==v.Num.randomOneHalf()?(f.x+=n[0],p=0==v.Num.randomOneHalf()?v.Num.randomOneBySection(0,90-u):v.Num.randomOneBySection(0,-90+u)):(f.x-=n[0],p=v.Num.randomOneBySection(90+u,270-u)),f.y+=v.Num.randomOneBySection(-n[1],n[1])):(0==v.Num.randomOneHalf()?(f.y-=n[1],p=v.Num.randomOneBySection(180+u,360-u)):(f.y+=n[1],p=v.Num.randomOneBySection(0+u,180-u)),f.x+=v.Num.randomOneBySection(-n[0],n[0]));let _=v.Point.angleByPoint(p),L=d?v.Num.randomOneBySection(d[0],d[1]):v.Num.randomOneBySection(20,50),w=y?v.Num.randomOneBySection(y[0],y[1]):v.Num.randomOneBySection(.5,1),S=g?v.Num.randomOneBySection(g[0],g[1]):v.Num.randomOneBySection(.25,.45),O=0,b=m?v.Num.randomOneBySection(m[0],m[1]):v.Num.randomOneBySection(0,20),N=new Laya.Point(f.x,f.y),x={alpha:!0,move:!1,vinish:!1};return f.moveCaller=x,h.frameLoop(1,x,()=>{f.rotation+=b,x.alpha?(f.alpha+=.5,f.alpha>=1&&(x.alpha=!1,x.move=!0)):x.move?N.distance(f.x,f.y)>=L&&(x.move=!1,x.vinish=!0):x.vinish&&(f.alpha-=.05,f.alpha<=.3&&(f.removeSelf(),Laya.timer.clearAll(x))),x.alpha||(O+=S,f.x+=_.x*(w+O),f.y+=_.y*(w+O))}),f},e.moveToTargetToMove=function(e,t,n,o,r,i,l,s,c,u,d,m,y,g){let f=new a(e,t,[0,0],n,o,r,l,s,c),p=t||new Laya.Point(0,0),_=y?v.Num.randomOneBySection(y[0],y[1]):v.Num.randomOneBySection(5,6),L=g?v.Num.randomOneBySection(g[0],g[1]):v.Num.randomOneBySection(.25,.45),w=0,S={alpha:!0,move1:!1,stop:!1,move2:!1,vinish:!1};f.moveCaller=S;let O=0,b=u?v.Num.randomOneBySection(u[0],u[1]):v.Num.randomOneBySection(100,200),N=d?v.Num.randomOneBySection(d[0],d[1]):v.Num.randomOneBySection(100,200),x=i?v.Num.randomOneBySection(i[0],i[1]):v.Num.randomOneBySection(0,360);return f.rotation=x-90,m?v.Num.randomOneBySection(m[0],m[1]):v.Num.randomOneBySection(0,20),h.frameLoop(1,S,()=>{S.alpha?(O+=_+(w+=L),f.alpha+=.5,f.alpha>=1&&(S.alpha=!1,S.move1=!0)):S.move1?(O+=_+(w+=L))>=b&&(S.move1=!1,S.stop=!0):S.stop?(O+=.1,(w-=.3)<=0&&(S.stop=!1,S.move2=!0)):S.move2?(O+=_+(w+=L/2))>=b+N&&(S.move2=!1,S.vinish=!0):S.vinish&&(O+=.5,f.alpha-=.05,f.alpha<=0&&(f.removeSelf(),Laya.timer.clearAll(S)));let e=v.Point.getRoundPosOld(x,O,p);f.pos(e.x,e.y)}),f},e.annularInhalation=function(e,a,n,o,r,i,l,s,c,u){let d=new Laya.Image;e.addChild(d),r=r||[25,50],d.width=v.Num.randomCountBySection(r[0],r[1])[0],d.height=i?v.Num.randomCountBySection(i[0],i[1])[0]:d.width,d.pivotX=d.width/2,d.pivotY=d.height/2,d.skin=l?v._Array.randomGetOut(l)[0]:t[v.Num.randomCountBySection(0,12)[0]];let m=v.Num.randomCountBySection(n[0],n[1])[0];d.alpha=0;let y=s?v.Num.randomCountBySection(s[0],s[1])[0]:v.Num.randomCountBySection(5,10)[0],g=o?v.Num.randomCountBySection(o[0],o[1])[0]:v.Num.randomCountBySection(0,360)[0],f={},p=0;return c=c||.35,h.frameLoop(1,f,()=>{d.alpha<1?(d.alpha+=.05,m-=y/2+(p+=c/5)):m-=y+(p+=c);let e=v.Point.getRoundPosOld(g,m,a);d.pos(e.x,e.y),(e.distance(a.x,a.y)<=20||e.distance(a.x,a.y)>=1e3)&&(d.removeSelf(),Laya.timer.clearAll(f))}),d}}(n=e.Particle||(e.Particle={})),function(e){class a extends Laya.Image{constructor(e,a,n,o,r,i,l,s){if(super(),!e.parent)return;e.addChild(this),this.skin=o?v._Array.randomGetOne(o):t.星星1,this.width=i?v.Num.randomOneBySection(i[0],i[1]):80,this.height=l?v.Num.randomOneBySection(l[0],l[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2;let c=n?v.Point.randomPointByCenter(a,n[0],n[1],1):v.Point.randomPointByCenter(a,100,100,1);this.pos(c[0].x,c[0].y);const h=[null,null,null,null];h[0]=r?v.Num.randomOneBySection(r[0][0],r[1][0]):v.Num.randomOneBySection(10,255),h[1]=r?v.Num.randomOneBySection(r[0][1],r[1][1]):v.Num.randomOneBySection(200,255),h[2]=r?v.Num.randomOneBySection(r[0][2],r[1][2]):v.Num.randomOneBySection(10,255),h[3]=r?v.Num.randomOneBySection(r[0][3],r[1][3]):v.Num.randomOneBySection(1,1),g.colour(this,h),this.alpha=0,this.zOrder=s||1e3}}e.GlitterImage=a,e.blinkStar=function(e,t,n,o,r,i,l,s,c,h,u){let d=new a(e,t,n,o,r,i,l,u);d.scaleX=0,d.scaleY=0;let m=s?v.Num.randomOneBySection(s[0],s[1]):v.Num.randomOneBySection(.8,1.2),y=c?v.Num.randomOneBySection(c[0],c[1]):v.Num.randomOneBySection(.01,.02),g=h?v.Num.randomOneInt(h[0],h[1]):v.Num.randomOneInt(0,5);g=0==v.Num.randomOneHalf()?-g:g;let f={appear:!0,scale:!1,vanish:!1};return d.moveCaller=f,Laya.timer.frameLoop(1,f,()=>{f.appear?(d.alpha+=.1,d.rotation+=g,d.scaleX=d.scaleY+=y,d.alpha>=1&&(f.appear=!1,f.scale=!0)):f.scale?(d.rotation+=g,d.scaleX=d.scaleY+=y,d.scaleX>m&&(f.scale=!1,f.vanish=!0)):f.vanish&&(d.rotation-=g,d.alpha-=.015,d.scaleX-=.01,d.scaleY-=.01,d.scaleX<=0&&(d.removeSelf(),Laya.timer.clearAll(f)))}),d},e.simpleInfinite=function(e,a,n,o,r,i,l,s){let c=new Laya.Image;e.addChild(c),c.width=o,c.height=r,c.pos(a,n),c.skin=l||t.方形光圈1,c.alpha=0,c.zOrder=i||0;let h=!0,u={};return Laya.timer.frameLoop(1,u,()=>{h?(c.alpha+=s?2*s:.02,c.alpha>=1&&(h=!1,u.end=!0)):(c.alpha-=s||.01,c.alpha<=0&&(u.end?(Laya.timer.clearAll(u),c.removeSelf()):h=!0))}),c}}(o=e.Glitter||(e.Glitter={})),function(e){class a extends Laya.Image{constructor(e,a,n,o,r,i){super(),e.addChild(this),this.skin=a?v._Array.randomGetOne(a):t.圆形发光1,this.width=o?v.Num.randomOneBySection(o[0],o[1]):80,this.height=r?v.Num.randomOneBySection(r[0],r[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2;const l=[null,null,null,null];l[0]=n?v.Num.randomOneBySection(n[0][0],n[1][0]):v.Num.randomOneBySection(0,255),l[1]=n?v.Num.randomOneBySection(n[0][1],n[1][1]):v.Num.randomOneBySection(0,255),l[2]=n?v.Num.randomOneBySection(n[0][2],n[1][2]):v.Num.randomOneBySection(0,255),l[3]=n?v.Num.randomOneBySection(n[0][3],n[1][3]):v.Num.randomOneBySection(0,255),g.colour(this,l),this.zOrder=i||0,this.alpha=0,this.scaleX=0,this.scaleY=0}}e.ImageBase=a,e.corner=function(e,t,n,o,r,i,l,s,c){if(t.length<=1)return;let u=new a(e,n,o,r,i,l);new a(e,n,o,r,i,l).filters=u.filters,u.pos(t[0][0],t[0][1]),u.alpha=1;let d={num:0,alpha:!0,move:!1};u.moveCaller=d;let m=0;u.scale(1,1),h.frameLoop(1,d,()=>{let t=new a(e,n,o,r,i,l);t.filters=u.filters,t.x=u.x,t.y=u.y,t.rotation=u.rotation,t.alpha=1,t.zOrder=-1,t.scaleX=u.scaleX,t.scaleY=u.scaleY,w.fadeOut(t,1,0,200,0,()=>{t.removeSelf()}),null==u.parent&&Laya.timer.clearAll(d),d.num++,n&&(d.num>n.length?d.num=0:u.skin=n[d.num])});var y=()=>{let e=[t[m][0],t[m][1]],a=new Laya.Point(u.x,u.y).distance(e[0],e[1]);s&&(u.rotation=v.Point.pointByAngleOld(u.x-e[0],u.y-e[1])+180);let n=100*c+a/5;m==t.length+1&&(e=[t[0][0],t[0][1]]),w.move(u,e[0],e[1],n,()=>{++m==t.length&&(m=0),y()})};return y(),u}}(r=e.Circulation||(e.Circulation={}))}(p||(p={})),function(e){function effectSwitch(o){let r;switch(o){case e._Type.no:r=new t;break;case e._Type.largen:r=new a;break;case e._Type.reduce:r=new n;break;default:r=new t}return r}e.absolute=!0,e.filterType={all:"all",none:"none",stage:"stage",button:"button",someBtnIncludeStage:"someBtnIncludeStage",someBtnExcludeStage:"someBtnExcludeStage"},e.filter={get value(){return this["LwgClick/filter"]?this["LwgClick/filter"]:e.filterType.all},set value(t){switch(this["LwgClick/filter"]=t,t){case e.filterType.all||e.filterType.none||e.filterType.stage:e.filter.nodeSelection=[]}},get nodeSelection(){return this["LwgClick/_nodeSelection"]},set nodeSelection(t){switch(this["LwgClick/_nodeSelection"]=t,e.filter.value){case e.filterType.someBtnIncludeStage||e.filterType.someBtnExcludeStage:e.filter.value=e.filterType.someBtnExcludeStage}}},e.checkTarget=function(t){let a=!1;if(e.absolute&&e.filter.nodeSelection.length>0)for(let n=0;n<e.filter.nodeSelection.length;n++)e.filter.nodeSelection[n]===t&&(a=!0);return a},e.checkStage=function(){let t=!1;return e.absolute&&(e.filter.value!==e.filterType.all&&e.filter.value!==e.filterType.stage&&e.filter.value!==e.filterType.someBtnIncludeStage||(t=!0)),t},e._Type={no:"no",largen:"largen",reduce:"reduce"},e.Use={get value(){return this["Click/name"]?this["Click/name"]:null},set value(e){this["Click/name"]=e}},e.effectSwitch=effectSwitch,e.on=function(e,t,a,n,o,r,i){const l=effectSwitch(e);t.on(Laya.Event.MOUSE_DOWN,a,n),t.on(Laya.Event.MOUSE_MOVE,a,o),t.on(Laya.Event.MOUSE_UP,a,r),t.on(Laya.Event.MOUSE_OUT,a,i),t.on(Laya.Event.MOUSE_DOWN,a,l.down),t.on(Laya.Event.MOUSE_MOVE,a,l.move),t.on(Laya.Event.MOUSE_UP,a,l.up),t.on(Laya.Event.MOUSE_OUT,a,l.out)},e.off=function(e,t,a,n,o,r,i){const l=effectSwitch(e);t.off(Laya.Event.MOUSE_DOWN,a,n),t.off(Laya.Event.MOUSE_MOVE,a,o),t.off(Laya.Event.MOUSE_UP,a,r),t.off(Laya.Event.MOUSE_OUT,a,i),t.off(Laya.Event.MOUSE_DOWN,a,l.down),t.off(Laya.Event.MOUSE_MOVE,a,l.move),t.off(Laya.Event.MOUSE_UP,a,l.up),t.off(Laya.Event.MOUSE_OUT,a,l.out)};class t{down(){}move(){}up(){}out(){}}e.NoEffect=t;class a{down(t){t.currentTarget.scale(1.1,1.1),O.playSound(e._audioUrl)}move(){}up(e){e.currentTarget.scale(1,1)}out(e){e.currentTarget.scale(1,1)}}e.Largen=a;class n{down(t){t.currentTarget.scale(.9,.9),O.playSound(e._audioUrl)}move(){}up(e){e.currentTarget.scale(1,1)}out(e){e.currentTarget.scale(1,1)}}e.Reduce=n}(_||(_={})),function(e){function moveTo(t,a,n,o,r,i,l=0,s=!0,c,h){let u=t.transform.position.clone();if(0==n||null==n)return t.transform.position=a.clone(),void(i&&i.apply(o));(h<=0||null==h)&&(h=e.frameRate);let d=function(){t.transform&&(t.transform.position=u),c&&c()};Laya.timer.once(l,t,function(){Laya.timer.frameLoop(h,t,d)});let m=Laya.Tween.to(u,{x:a.x,y:a.y,z:a.z},n,r,Laya.Handler.create(t,function(){t.transform&&(t.transform.position=a.clone(),Laya.timer.clear(t,d)),i&&i.apply(o)}),l,s);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(m)}function rotateTo(t,a,n,o,r,i,l,s,c,h){let u=t.transform.localRotationEuler.clone();if(0==n||null==n)return t.transform.localRotationEuler=a.clone(),void(i&&i.apply(o));(h<=0||null==h)&&(h=e.frameRate);let d=function(){t.transform&&(t.transform.localRotationEuler=u),c&&c()};Laya.timer.once(l,t,function(){Laya.timer.frameLoop(h,t,d)});let m=Laya.Tween.to(u,{x:a.x,y:a.y,z:a.z},n,r,Laya.Handler.create(t,function(){t.transform&&(t.transform.localRotationEuler=a.clone(),Laya.timer.clear(t,d)),i&&i.apply(o)}),l,s);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(m)}e.tweenMap={},e.frameRate=1,e.moveTo=moveTo,e.rotateTo=rotateTo,e.scaleTo=function(t,a,n,o,r,i,l,s,c,h){let u=t.transform.localScale.clone();if(0==n||null==n)return t.transform.localScale=a.clone(),void(i&&i.apply(o));(h<=0||null==h)&&(h=e.frameRate);let d=function(){t.transform.localScale=u.clone(),c&&c()};Laya.timer.once(l,this,function(){Laya.timer.frameLoop(h,t,d)});let m=Laya.Tween.to(u,{x:a.x,y:a.y,z:a.z},n,r,Laya.Handler.create(t,function(){t.transform.localScale=a.clone(),Laya.timer.clear(t,d),i&&i.apply(o)}),l,s);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(m)},e.ClearTween=function(t){let a=e.tweenMap[t.id];if(a&&a.length)for(;a.length>0;)a.pop().clear();Laya.timer.clearAll(t)},e.rock=function(e,t,a,n,o,r,i){r||(r=0);let l=new Laya.Vector3(e.transform.localRotationEulerX+t.x,e.transform.localRotationEulerY+t.y,e.transform.localRotationEulerZ+t.z);rotateTo(e,l,a/2,n,i,()=>{let r=new Laya.Vector3(e.transform.localRotationEulerX-2*t.x,e.transform.localRotationEulerY-2*t.y,e.transform.localRotationEulerZ-2*t.z);rotateTo(e,r,a,n,i,()=>{let r=new Laya.Vector3(e.transform.localRotationEulerX+t.x,e.transform.localRotationEulerY+t.y,e.transform.localRotationEulerZ+t.z);rotateTo(e,r,a/2,n,i,()=>{o&&o()})})},r)},e.moveRotateTo=function(e,t,a,n,o,r,i,l,s,c){moveTo(e,t.transform.position,a,n,o,null,i,l,s,c),rotateTo(e,t.transform.localRotationEuler,a,n,o,r,i,l,null,c)}}(L||(L={})),function(e){function bombs_Appear(e,t,a,n,o,r,i,l){e.scale(0,0),e.alpha=t,Laya.Tween.to(e,{scaleX:n,scaleY:n,alpha:1,rotation:o},r,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a,scaleY:a,rotation:0},r/2,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a+(n-a)/3,scaleY:a+(n-a)/3,rotation:0},r/3,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a,scaleY:a,rotation:0},r/4,null,Laya.Handler.create(this,function(){i&&i()}),0)}),0)}),0)}),l||0)}function bombs_Vanish(e,t,a,n,o,r,i){Laya.Tween.to(e,{scaleX:t,scaleY:t,alpha:a,rotation:n},o,Laya.Ease.cubicOut,Laya.Handler.create(this,function(){r&&r()}),i||0)}e.clearAll=function(e){for(let t=0;t<e.length;t++)Laya.Tween.clearAll(e[t])},e.circulation_scale=function(e,t,a,n,o){Laya.Tween.to(e,{scaleX:1+t,scaleY:1+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1-t,scaleY:1-t},a/2,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1},a/2,null,Laya.Handler.create(this,function(){o&&o()}),0)}),0)}),n||0)},e.leftRight_Shake=function(e,t,a,n,o){n||(n=0),Laya.Tween.to(e,{x:e.x-t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x+2*t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x-t},a,null,Laya.Handler.create(this,function(){o&&o()}))}))}),n)},e.rotate=function(e,t,a,n,o){Laya.Tween.to(e,{rotation:t},a,null,Laya.Handler.create(e,function(){o&&o()}),n||0)},e.upDown_Overturn=function(e,t,a){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,function(){null===a&&void 0===a||a()}),0)}),0)}),0)}),0)},e.leftRight_Overturn=function(e,t,a){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},t,null,Laya.Handler.create(this,function(){}),0),null!==a&&a()}),0)}),0)}),0)},e.upDwon_Shake=function(e,t,a,n,o){Laya.Tween.to(e,{y:e.y+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y-2*t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y+t},a,null,Laya.Handler.create(this,function(){null!==o&&o&&o()}))}))}),n||0)},e.fadeOut=function(e,t,a,n,o,r,i){e.alpha=t,Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){r&&r()}),o||0)},e.fadeOut_KickBack=function(e,t,a,n,o,r){e.alpha=t,Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){null!==r&&r()}),o)},e.move_FadeOut=function(e,t,a,n,o,r,i,l){e.alpha=0,e.x=t,e.y=a,Laya.Tween.to(e,{alpha:1,x:n,y:o},r,null,Laya.Handler.create(this,function(){null!==l&&l()}),i)},e.move_Fade_Out=function(e,t,a,n,o,r,i,l){e.alpha=1,e.x=t,e.y=a,Laya.Tween.to(e,{alpha:0,x:n,y:o},r,null,Laya.Handler.create(this,function(){null!==l&&l()}),i)},e.move_FadeOut_Scale_01=function(e,t,a,n,o,r,i,l){e.alpha=0,e.targetX=0,e.targetY=0,e.x=t,e.y=a,Laya.Tween.to(e,{alpha:1,x:n,y:o,scaleX:1,scaleY:1},r,null,Laya.Handler.create(this,function(){null!==l&&l()}),i)},e.move_Scale=function(e,t,a,n,o,r,i,l,s,c,h){e.scaleX=t,e.scaleY=t,e.x=a,e.y=n,Laya.Tween.to(e,{x:o,y:r,scaleX:i,scaleY:i},l,c?null:c,Laya.Handler.create(this,function(){h&&h()}),s||0)},e.move_rotate=function(e,t,a,n,o,r){Laya.Tween.to(e,{rotation:t,x:a.x,y:a.y},n,null,Laya.Handler.create(e,()=>{r&&r()}),o||0)},e.rotate_Scale=function(e,t,a,n,o,r,i,l,s,c){e.scaleX=a,e.scaleY=n,e.rotation=t,Laya.Tween.to(e,{rotation:o,scaleX:r,scaleY:i},l,null,Laya.Handler.create(this,()=>{c&&c(),e.rotation=0}),s||0)},e.drop_Simple=function(e,t,a,n,o,r,i){e.y=t,Laya.Tween.to(e,{y:a,rotation:n},o,Laya.Ease.circOut,Laya.Handler.create(this,function(){null!==i&&i()}),r)},e.drop_KickBack=function(e,t,a,n,o,r,i,l){e.alpha=t,e.y=a,i||(i=0),Laya.Tween.to(e,{alpha:1,y:n+o},r,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:n-o/2},r/2,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:n},r/4,null,Laya.Handler.create(this,function(){l&&l()}),0)}),0)}),i)},e.drop_Excursion=function(e,t,a,n,o,r,i){Laya.Tween.to(e,{x:e.x+a,y:e.y+1*t/6},o,Laya.Ease.expoIn,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x+a+50,y:t,rotation:n},o,null,Laya.Handler.create(this,function(){null!==i&&i()}),0)}),r)},e.goUp_Simple=function(e,t,a,n,o,r,i){e.y=t,e.rotation=a,Laya.Tween.to(e,{y:n,rotation:0},o,Laya.Ease.cubicOut,Laya.Handler.create(this,function(){null!==i&&i()}),r)},e.cardRotateX_TowFace=function(e,t,a,n,o){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,function(){v.Node.childrenVisible2D(e,!1),a&&a(),Laya.Tween.to(e,{scaleX:1},.9*t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:0},.8*t,null,Laya.Handler.create(this,function(){v.Node.childrenVisible2D(e,!0),Laya.Tween.to(e,{scaleX:1},.7*t,null,Laya.Handler.create(this,function(){o&&o()}),0)}),0)}),0)}),n)},e.cardRotateX_OneFace=function(e,t,a,n,o){Laya.Tween.to(e,{scaleX:0},a,null,Laya.Handler.create(this,function(){null!==t&&t(),Laya.Tween.to(e,{scaleX:1},a,null,Laya.Handler.create(this,function(){null!==o&&o()}),0)}),n)},e.cardRotateY_TowFace=function(e,t,a,n,o){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){v.Node.childrenVisible2D(e,!1),a&&a(),Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},1*t/2,null,Laya.Handler.create(this,function(){v.Node.childrenVisible2D(e,!0),o&&o()}),0)}),0)}),0)}),n)},e.cardRotateY_OneFace=function(e,t,a,n,o){Laya.Tween.to(e,{scaleY:0},a,null,Laya.Handler.create(this,function(){t&&t(),Laya.Tween.to(e,{scaleY:1},a,null,Laya.Handler.create(this,function(){o&&o()}),0)}),n||0)},e.move_changeRotate=function(e,t,a,n,o,r,i){let l=t*n+e.x*(1-n),s=a*n+e.y*(1-n);Laya.Tween.to(e,{x:l,y:s,rotation:45},r,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:t,y:a,rotation:0},r,null,Laya.Handler.create(this,function(){null!==i&&i()}),0)}),0)},e.bomb_LeftRight=function(e,t,a,n,o){Laya.Tween.to(e,{scaleX:t},a,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:.85},.5*a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:.9*t},.55*a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:.95},.6*a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},.65*a,null,Laya.Handler.create(this,function(){n&&n()}),0)}),0)}),0)}),0)}),o)},e.bombs_Appear=bombs_Appear,e.bombs_AppearAllChild=function(e,t,a,n,o,r,i,l,s){let c=0;i||(i=100);for(let s=0;s<e.numChildren;s++){let h=e.getChildAt(s);h.alpha=0,Laya.timer.once(c,this,()=>{h.alpha=1,e.numChildren,bombs_Appear(h,t,a,n,o,r,l)}),c+=i}},e.bombs_VanishAllChild=function(e,t,a,n,o,r,i){let l=0;r||(r=100);for(let s=0;s<e.numChildren;s++)e.getChildAt(s),Laya.timer.once(l,this,()=>{e.numChildren,bombs_Vanish(e,t,a,n,o,i)}),l+=r},e.bombs_Vanish=bombs_Vanish,e.swell_shrink=function(e,t,a,n,o,r){o||(o=0),Laya.Tween.to(e,{scaleX:a,scaleY:a,alpha:1},n,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t,scaleY:t,rotation:0},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t+.5*(a-t),scaleY:t+.5*(a-t),rotation:0},.5*n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t,scaleY:t,rotation:0},n,null,Laya.Handler.create(this,function(){r&&r()}),0)}),0)}),0)}),o)},e.move=function(e,t,a,n,o,r,i){Laya.Tween.to(e,{x:t,y:a},n,i||null,Laya.Handler.create(this,function(){o&&o()}),r||0)},e.move_Deform_X=function(e,t,a,n,o,r,i,l,s){e.alpha=0,e.x=t,e.rotation=a,Laya.Tween.to(e,{x:n,scaleX:1+o,scaleY:1+r,rotation:a/3,alpha:1},i,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1,rotation:0},i,null,Laya.Handler.create(this,function(){null!==s&&s()}),0)}),l)},e.move_Deform_Y=function(e,t,a,n,o,r,i,l,s){e.alpha=0,t&&(e.y=t),e.rotation=a,Laya.Tween.to(e,{y:n,scaleX:1+o,scaleY:1+r,rotation:a/3,alpha:1},i,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1,rotation:0},i,null,Laya.Handler.create(this,function(){null!==s&&s()}),0)}),l)},e.blink_FadeOut_v=function(e,t,a,n,o,r){e.alpha=t,Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:t},n,null,Laya.Handler.create(this,function(){null!==r&&r()}),0)}),o)},e.blink_FadeOut=function(e,t,a,n,o,r){e.alpha=t,o||(o=0),Laya.Tween.to(e,{alpha:t},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){r&&r()}),0)}),o)},e.shookHead_Simple=function(e,t,a,n,o){let r=e.rotation;Laya.Tween.to(e,{rotation:r+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:r-2*t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:r+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:r},a,null,Laya.Handler.create(this,function(){o&&o()}),0)}),0)}),0)}),n||0)},e.hintAni_01=function(e,t,a,n,o,r,i){e.alpha=0,Laya.Tween.to(e,{alpha:1,y:e.y-t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y-15},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:0,y:e.y+t+o},r,null,Laya.Handler.create(this,function(){null!==i&&i()}),0)}),0)}),0)},e.scale_Alpha=function(e,t,a,n,o,r,i,l,s,c,h){s||(s=0),h||(h=null),e.alpha=t,e.scaleX=a,e.scaleY=n,Laya.Tween.to(e,{scaleX:o,scaleY:r,alpha:i},l,h,Laya.Handler.create(this,function(){c&&c()}),s)},e.scale=function(e,t,a,n,o,r,i,l,s){e.scaleX=t,e.scaleY=a,Laya.Tween.to(e,{scaleX:n,scaleY:o},r,s||null,Laya.Handler.create(this,function(){l&&l()}),i||0)},e.rotate_Magnify_KickBack=function(e,t,a,n,o,r,i,l){e.alpha=0,e.scaleX=0,e.scaleY=0,Laya.Tween.to(e,{alpha:1,rotation:360+t,scaleX:1+a,scaleY:1+a},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360-t/2,scaleX:1+a/2,scaleY:1+a/2},o,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360+t/3,scaleX:1+a/5,scaleY:1+a/5},o,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360,scaleX:1,scaleY:1},o,null,Laya.Handler.create(this,function(){e.rotation=0,null!==l&&l()}),0)}),i)}),0)}),r)}}(w||(w={})),function(e){e.sound={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting/sound")},set switch(e){let t;t=e?1:0,Laya.LocalStorage.setItem("Setting/sound",t.toString())}},e.bgMusic={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting/bgMusic")},set switch(e){let t;e?(t=1,Laya.LocalStorage.setItem("Setting/bgMusic",t.toString()),O.playMusic()):(t=0,Laya.LocalStorage.setItem("Setting/bgMusic",t.toString()),O.stopMusic())}},e.shake={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting/shake")},set switch(e){let t;t=e?1:0,Laya.LocalStorage.setItem("Setting/shake",t.toString())}},e.createBtnSet=function(t,a,o,r,i,l,s){let c=new Laya.Image;return c.width=o||100,c.height=o||100,c.skin=i||"Frame/UI/icon_set.png",l?l.addChild(c):Laya.stage.addChild(c),c.pivotX=c.width/2,c.pivotY=c.height/2,c.x=t,c.y=a,c.zOrder=s||100,_.on(_._Type.largen,c,null,null,function(e){e.stopPropagation(),n.openScene(n._BaseName.Set)},null),e.BtnSet=c,e.BtnSet.name="BtnSetNode",c},e.btnSetAppear=function(t,a,n){e.BtnSet&&(t?w.scale_Alpha(e.BtnSet,0,1,1,1,1,1,t,0,t=>{e.BtnSet.visible=!0}):e.BtnSet.visible=!0,a&&(e.BtnSet.x=a),n&&(e.BtnSet.y=n))},e.btnSetVinish=function(t){e.BtnSet&&(t?w.scale_Alpha(e.BtnSet,1,1,1,1,1,0,t,0,t=>{e.BtnSet.visible=!1}):e.BtnSet.visible=!1)}}(S||(S={})),function(e){let t;!function(e){e.bgm="Lwg/Voice/bgm.mp3",e.btn="https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Voice/btn.wav",e.victory="https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Voice/guoguan.wav",e.defeated="https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Voice/wancheng.wav",e.huodejinbi="https://h5.tomatojoy.cn/res/ark/3d04671eec61b1e12a6c02e54c1e7320/1.0.0/3DDressUp/Voice/huodejinbi.wav"}(t=e.voiceUrl||(e.voiceUrl={})),e.playSound=function(e,a,n){e||(e=t.btn),a||(a=1),S.sound.switch&&Laya.SoundManager.playSound(e,a,Laya.Handler.create(this,function(){n&&n()}))},e.playDefeatedSound=function(e,a,n,o){S.sound.switch&&(Laya.SoundManager.soundVolume=o||1,Laya.SoundManager.playSound(e||t.defeated,a||1,Laya.Handler.create(this,function(){n&&n(),Laya.SoundManager.soundVolume=1})))},e.playVictorySound=function(e,a,n,o){S.sound.switch&&(Laya.SoundManager.soundVolume=o||1,Laya.SoundManager.playSound(e||t.victory,a||1,Laya.Handler.create(this,function(){n&&n(),Laya.SoundManager.soundVolume=1})))},e.playMusic=function(e,a,n){S.bgMusic.switch&&Laya.SoundManager.playMusic(e||t.bgm,a||0,Laya.Handler.create(this,function(){}),n||0)},e.stopMusic=function(){Laya.SoundManager.stopMusic()}}(O||(O={})),function(e){let t,a,n,r,i,l,s,c,u;e.color_RGBtoHexString=function(e,t,a){return"#"+("00000"+(e<<16|t<<8|a).toString(16)).slice(-6)},function(e){e.formatNumber=function(e,t=0){let a;return a=e>=1e27?(e/1e27).toFixed(t)+"ae":e>=1e24?(e/1e24).toFixed(t)+"ad":e>=1e21?(e/1e21).toFixed(t)+"ac":e>=1e18?(e/1e18).toFixed(t)+"ab":e>=1e15?(e/1e15).toFixed(t)+"aa":e>=1e12?(e/1e12).toFixed(t)+"t":e>=1e9?(e/1e9).toFixed(t)+"b":e>=1e6?(e/1e6).toFixed(t)+"m":e>=1e3?(e/1e3).toFixed(t)+"k":Math.round(e).toString()},e.strAddNum=function(e,t){return(Number(e)+t).toString()},e.NumAddStr=function(e,t){return Number(t)+e}}(t=e._Format||(e._Format={})),function(t){t.tieByParent=function(e){const t=e.parent;e.x>t.width-e.width/2&&(e.x=t.width-e.width/2),e.x<e.width/2&&(e.x=e.width/2),e.y>t.height-e.height/2&&(e.y=t.height-e.height/2),e.y<e.height/2&&(e.y=e.height/2)},t.tieByStage=function(e,t){const a=e.parent,n=a.localToGlobal(new Laya.Point(e.x,e.y));t?n.x>Laya.stage.width-e.width/2&&(n.x=Laya.stage.width-e.width/2):n.x>Laya.stage.width&&(n.x=Laya.stage.width),t?n.x<e.width/2&&(n.x=e.width/2):n.x<0&&(n.x=0),t?n.y>Laya.stage.height-e.height/2&&(n.y=Laya.stage.height-e.height/2):n.y>Laya.stage.height&&(n.y=Laya.stage.height),t?n.y<e.height/2&&(n.y=e.height/2):n.y<0&&(n.y=0);const o=a.globalToLocal(n);e.pos(o.x,o.y)},t.simpleCopyImg=function(e){let t=new Laya.Image;return t.skin=e.skin,t.width=e.width,t.height=e.height,t.pivotX=e.pivotX,t.pivotY=e.pivotY,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.skewX=e.skewX,t.skewY=e.skewY,t.rotation=e.rotation,t.x=e.x,t.y=e.y,t},t.leaveStage=function(e,t){let a=e.parent;if(!a)return!1;let n=a.localToGlobal(new Laya.Point(e.x,e.y));return n.x>Laya.stage.width+10||n.x<-10?(t&&t(),!0):n.y>Laya.stage.height+10||n.y<-10?(t&&t(),!0):void 0},t.getNodeGP=function(e){if(e.parent)return e.parent.localToGlobal(new Laya.Point(e.x,e.y))},t.checkTwoDistance=function(e,t,a,n){if(!e||!t)return;let o=e.parent,r=t.parent;if(!e.parent||!t.parent)return;let i=o.localToGlobal(new Laya.Point(e.x,e.y)),l=r.localToGlobal(new Laya.Point(t.x,t.y));return i.distance(l.x,l.y)<=a&&n&&n(),i.distance(l.x,l.y)},t.childZOrderByY=function(e,t,a){let n=[];if(0==e.numChildren)return n;for(let t=0;t<e.numChildren;t++){const a=e.getChildAt(t);n.push(a)}if(c.sortByProperty(n,"y"),t)for(let e=0;e<n.length;e++)n[e].zOrder=e;if(a){let e=[];for(let t=n.length-1;t>=0;t--){const a=n[t];console.log(a),a.zOrder=n.length-t,e.push(a)}return e}return n},t.changePivot=function(e,t,a,n){let o=e.pivotX,r=e.pivotY;n&&(t=Math.round(t),a=Math.round(a)),e.width&&(e.pivot(t,a),e.x+=e.pivotX-o,e.y+=e.pivotY-r)},t.changePivotCenter=function(e,t){let a,n,o=e.pivotX,r=e.pivotY;t&&(a=Math.round(e.width/2),n=Math.round(e.height/2)),e.width&&(e.pivot(e.width/2,e.height/2),e.x+=e.pivotX-o,e.y+=e.pivotY-r)},t.getChildArrByProperty=function(e,t,a){let n=[];for(let o=0;o<e.numChildren;o++){const r=e.getChildAt(o);r[t]==a&&n.push(r)}return n},t.randomChildren=function(t,a){let n=[],o=[];for(let e=0;e<t.numChildren;e++)o.push(e);let r=e._Array.randomGetOut(o,a);for(let e=0;e<r.length;e++)n.push(t.getChildAt(r[e]));return n},t.destroyAllChildren=function(e){for(let t=0;t<e.numChildren;t++)e.getChildAt(t).destroy(),t--},t.destroyOneChildren=function(e,t){for(let a=0;a<e.numChildren;a++){const n=e.getChildAt(a);n.name==t&&(n.destroy(),a--)}},t.removeAllChildren=function(e){e.numChildren>0&&e.removeChildren(0,e.numChildren-1)},t.removeOneChildren=function(e,t){for(let a=0;a<e.numChildren;a++){const n=e.getChildAt(a);n.name==t&&(n.removeSelf(),a--)}},t.checkChildren=function(e,t){for(let a=0;a<e.numChildren;a++){const n=e.getChildAt(a);if(n.name==t)return n}},t.showExcludedChild2D=function(e,t,a){for(let n=0;n<e.numChildren;n++){let o=e.getChildAt(n);for(let e=0;e<t.length;e++)o.name==t[e]?o.visible=!(!a&&null!=a):o.visible=!a&&null!=a}},t.showExcludedChild3D=function(e,t,a){for(let n=0;n<e.numChildren;n++){let o=e.getChildAt(n);for(let e=0;e<t.length;e++)o.name==t[e]?o.active=!(!a&&null!=a):o.active=!a&&null!=a}},t.createPrefabByPool=function(e,t,a,n,r,i){i=i||e.json.props.name;const l=Laya.Pool.getItemByCreateFun(i,e.create,e);return t&&t.addChild(l),a&&l.pos(a[0],a[1]),n&&l.addComponent(n),l.name=i,o._addProperty(l),r&&(l.zOrder=r),l},t.childrenVisible2D=function(e,t){for(let a=0;a<e.numChildren;a++){const n=e.getChildAt(a);n.visible=!!t}},t.childrenVisible3D=function(e,t){for(let a=0;a<e.numChildren;a++){const n=e.getChildAt(a);n.active=!!t}},t.findChild3D=function findChild3D(e,t){var a;if(null!=(a=e.getChildByName(t)))return a;for(var n=null,o=0;o<e.numChildren;o++)if(null!=(n=findChild3D(e.getChildAt(o),t)))return n;return null},t.findChild2D=function findChild2D(e,t){var a;if(null!=(a=e.getChildByName(t)))return a;for(var n=null,o=0;o<e.numChildren;o++)if(null!=(n=findChild2D(e.getChildAt(o),t)))return n;return null},t.findChildByName2D=function(e,t){return[]}}(a=e.Node||(e.Node={})),function(t){t.randomOneHalf=function(){let e;return e=Math.floor(2*Math.random())},t.randomNumerical=function(t,a,n){let o=t?e.Num.randomOneBySection(t[0],t[1]):e.Num.randomOneBySection(a[0],a[1]);return n&&(o=0===e.Num.randomOneHalf()?o:-o),o},t.randomOneInt=function(e,t){return t?Math.round(Math.random()*(t-e))+e:Math.round(Math.random()*e)},t.randomCountBySection=function(e,t,a,n){let o=[];if(a||(a=1),t){for(;a>o.length;){let a;a=n||null==n?Math.round(Math.random()*(t-e))+e:Math.random()*(t-e)+e,o.push(a),u.unique01(o)}return o}for(;a>o.length;){let t;t=n||null==n?Math.round(Math.random()*e):Math.random()*e,o.push(t),u.unique01(o)}return o},t.randomOneBySection=function(e,t,a){let n;if(e>t&&(n=e,e=t,t=n),t){let n;return n=a?Math.round(Math.random()*(t-e))+e:Math.random()*(t-e)+e}{let t;return t=a?Math.round(Math.random()*e):Math.random()*e}}}(n=e.Num||(e.Num={})),function(t){function angleByRadian(e){return Math.PI/180*e}t.getOtherLocal=function(e,t){let a=e.parent.localToGlobal(new Laya.Point(e.x,e.y));return t.globalToLocal(a)},t.angleByRadian=angleByRadian,t.pointByAngleOld=function(e,t){let a=90-Math.atan2(e,t)*(180/Math.PI);return a<=0&&(a=270+(90+a)),a-90},t.pointByAngleNew=function(e,t){let a=Math.atan2(t,e)*(180/Math.PI);return a<=0&&(a=360+a),a},t.angleByPoint=function(e){const t=(90-e)/(180/Math.PI),a=new Laya.Point(Math.sin(t),Math.cos(t));return a.normalize(),a},t.angleByPointNew=function(e){const t=angleByRadian(e),a=new Laya.Point(Math.cos(t),Math.sin(t));return a.normalize(),a},t.dotRotatePoint=function(e,t,a,n,o){let r=e+(a-e)*Math.cos(o*Math.PI/180)-(n-t)*Math.sin(o*Math.PI/180),i=t+(a-e)*Math.sin(o*Math.PI/180)+(n-t)*Math.cos(o*Math.PI/180);return new Laya.Point(r,i)},t.angleAndLenByPoint=function(e,t){const a=new Laya.Point;return a.x=t*Math.cos(e*Math.PI/180),a.y=t*Math.sin(e*Math.PI/180),a},t.getRoundPosOld=function(e,t,a){const n=angleByRadian(e),o=a.x+Math.sin(n)*t,r=a.y-Math.cos(n)*t;return new Laya.Point(o,r)},t.getRoundPosNew=function(e,t,a){const n=angleByRadian(e);if(a){const e=a.x+Math.cos(n)*t,o=a.y+Math.sin(n)*t;return new Laya.Point(e,o)}return new Laya.Point(null,null)},t.randomPointByCenter=function(t,a,n,o=1){let r=[];for(let i=0;i<o;i++){let o=e.Num.randomCountBySection(0,a,1,!1),i=e.Num.randomCountBySection(0,n,1,!1),l=0==e.Num.randomOneHalf()?o[0]:-o[0],s=0==e.Num.randomOneHalf()?i[0]:-i[0],c=new Laya.Point(t.x+l,t.y+s);r.push(c)}return r},t.getPArrBetweenTwoP=function(e,t,a){let n=[],o=t.x-e.x,r=t.y-e.y;for(let t=0;t<a;t++)n.push(new Laya.Point(e.x+o/a*t,e.y+r/a*t));return n.length>=1&&n.unshift(),n.length>=1&&n.pop(),n},t.reverseVector=function(e,t,a){let n;return n=new Laya.Point(e.x-t.x,e.y-t.y),a&&n.normalize(),n}}(r=e.Point||(e.Point={})),function(t){function twoSubV3(e,t,a){let n=new Laya.Vector3;if(Laya.Vector3.subtract(e,t,n),a){let e=new Laya.Vector3;return Laya.Vector3.normalize(n,e),e}return n}t.randomScopeByPosition=function(t,a){let n=e.Num.randomOneBySection(a[0][0],a[1][0]),o=e.Num.randomOneBySection(a[0][1],a[1][1]),r=e.Num.randomOneBySection(a[0][2],a[1][2]);n=0==e.Num.randomOneHalf()?n:-n,o=0==e.Num.randomOneHalf()?o:-o,r=0==e.Num.randomOneHalf()?r:-r,t.transform.position=new Laya.Vector3(t.transform.position.x+n,t.transform.position.y+o,t.transform.position.z+r)},t.getMeshSize=function(e){if(e.meshRenderer){let t,a=e.meshRenderer.bounds.getExtent();return t=new Laya.Vector3(2*a.x,2*a.y,2*a.z)}},t.getSkinMeshSize=function(e){if(e.skinnedMeshRenderer){let t,a=e.skinnedMeshRenderer.bounds.getExtent();return t=new Laya.Vector3(2*a.x,2*a.y,2*a.z)}},t.twoNodeDistance=function(e,t){let a=e.transform.position,n=t.transform.position,o=new Laya.Vector3;return Laya.Vector3.subtract(a,n,o),Laya.Vector3.scalarLength(o)},t.twoPositionDistance=function(e,t){let a=twoSubV3(e,t);return Laya.Vector3.scalarLength(a)},t.twoSubV3=twoSubV3,t.maximumDistanceLimi=function(e,t,a){let n=new Laya.Vector3,o=t.transform.position;if(Laya.Vector3.subtract(o,e,n),Laya.Vector3.scalarLength(n)>=a){let o=new Laya.Vector3;Laya.Vector3.normalize(n,o);let r=e.x+o.x*a,i=e.y+o.y*a,l=e.z+o.z*a,s=new Laya.Vector3(r,i,l);return t.transform.position=s,s}},t.posToScreen=function(e,t){let a=new Laya.Vector4;t.viewport.project(e,t.projectionViewMatrix,a);let n=new Laya.Vector2;return n.x=a.x/Laya.stage.clientScaleX,n.y=a.y/Laya.stage.clientScaleY,n},t.reverseVector=function(e,t,a){let n=new Laya.Vector3(e.x-t.x,e.y-t.y,e.z-t.z);if(a){let e=new Laya.Vector3;return Laya.Vector3.normalize(n,e),e}return n},t.rayScanning=function(e,t,a,n){let o=new Laya.Ray(new Laya.Vector3(0,0,0),new Laya.Vector3(0,0,0)),r=new Array;const i=new Laya.Vector2(Laya.stage.clientScaleX*a.x,Laya.stage.clientScaleY*a.y);if(e.viewportPointToRay(i,o),t.physicsSimulation.rayCastAll(o,r),n){let e;for(let t=0;t<r.length;t++)r[t].collider.owner.name==n&&(e=r[t]);return e}return r},t.rayScanningFirst=function(e,t,a){let n=new Laya.Ray(new Laya.Vector3(0,0,0),new Laya.Vector3(0,0,0)),o=new Laya.HitResult;const r=new Laya.Vector2(Laya.stage.clientScaleX*a.x,Laya.stage.clientScaleY*a.y);return e.viewportPointToRay(r,n),t.physicsSimulation.rayCast(n,o),o},t.animatorPlay=function(e,t,a,n){let o=e.getComponent(Laya.Animator);if(o)return n||(n=0),o.play(t,n,a),o;console.log(e.name,"没有动画组件")}}(i=e.D3||(e.D3={})),function(e){e.sk_indexControl=function(e,t){e.play(t,!0),e.player.currentTime=15e3/e.player.cacheFrameRate}}(l=e.Skeleton||(e.Skeleton={})),function(e){e.drawPieMask=function(e,t,a){e.cacheAs="bitmap";let n=new Laya.Sprite;return n.blendMode="destination-out",e.addChild(n),n.graphics.drawPie(e.width/2,e.height/2,e.width/2+10,t,a,"#000000")},e.screenshot=function(e,t){return e.drawToCanvas(e.width,e.height,e.x,e.y).toBase64("image/png",t||1)},e._texArr=[],e.cameraToSprite=function(t,a){const n=t.clone();t.scene.addChild(n),n.transform.position=t.transform.position,n.transform.localRotationEuler=t.transform.localRotationEuler,n.renderTarget=new Laya.RenderTexture(a.width,a.height),n.renderingOrder=-1,n.clearFlag=Laya.CameraClearFlags.Sky;const o=new Laya.Texture(n.renderTarget,Laya.Texture.DEF_UV);a.graphics.drawTexture(o,a.x,a.y,a.width,a.height),e._texArr.push(o),e._texArr.length>3&&(e._texArr[0].destroy(),e._texArr.shift()),h.frameOnce(5,this,()=>{n.destroy()})},e.drawToTex=function(e,t){return e.drawToTexture(e.width,e.height,e.x,e.y)},e.reverseCircleMask=function(e,t,n){null!=n&&1!=n||a.destroyAllChildren(e);let o=e.getChildByName("reverseRoundMask");o||((o=new Laya.Sprite).name="reverseRoundMask",o.blendMode="destination-out",e.addChild(o)),e.cacheAs="bitmap";for(let e=0;e<t.length;e++)o.graphics.drawCircle(t[e][0],t[e][1],t[e][2],"#000000");return o.pos(0,0),o},e.reverseRoundrectMask=function(e,t,n){null!=n&&1!=n||a.removeAllChildren(e);let o=e.getChildByName("reverseRoundrectMask");o||((o=new Laya.Sprite).name="reverseRoundrectMask",o.blendMode="destination-out",e.addChild(o)),"bitmap"!==e.cacheAs&&(e.cacheAs="bitmap");for(let e=0;e<t.length;e++){const a=t[e];a[0]=Math.round(a[0]),a[1]=Math.round(a[1]),a[2]=Math.round(a[2]),a[3]=Math.round(a[3]),a[4]=Math.round(a[4]),o.graphics.drawPath(a[0],a[1],[["moveTo",a[4],0],["lineTo",a[2]-a[4],0],["arcTo",a[2],0,a[2],a[4],a[4]],["lineTo",a[2],a[3]-a[4]],["arcTo",a[2],a[3],a[2]-a[4],a[3],a[4]],["lineTo",a[3]-a[4],a[3]],["arcTo",0,a[3],0,a[3]-a[4],a[4]],["lineTo",0,a[4]],["arcTo",0,0,a[4],0,a[4]],["closePath"]],{fillStyle:"#000000"}),o.pivotX=a[2]/2,o.pivotY=a[3]/2,o.pos(0,0)}}}(s=e.Draw||(e.Draw={})),function(e){function objCopy(e){var t={};for(const a in e)if(e.hasOwnProperty(a)){const n=e[a];if("object"==typeof n)if(Array.isArray(n)){let e=u.copy(n);t[a]=e}else objCopy(n);else t[a]=n}return t}e.sortByProperty=function(e,t){return e.sort(function(e,a){var n=e[t],o=a[t];return isNaN(Number(n))||isNaN(Number(o))||(n=Number(n),o=Number(o)),n<o?-1:n>o?1:0}),e},e.diffProByTwo=function(e,t,a){for(var n=[],o=0;o<e.length;o++){for(var r=e[o],i=r[a],l=!1,s=0;s<t.length;s++)if(t[s][a]==i){l=!0;break}if(!l){let e=c.objCopy(r);n.push(e)}}return n},e.identicalPropertyObjArr=function(e,t,a){for(var n=[],o=0;o<e.length;o++){for(var r=e[o],i=r[a],l=!1,s=0;s<t.length;s++)if(t[s][a]==i){l=!0;break}l&&n.push(r)}return n},e.objArrUnique=function(e,t){for(var a=0,n=e.length;a<n;a++){var o=a+1;for(n=e.length;o<n;o++)e[a][t]===e[o][t]&&(e.splice(o,1),o--,n--)}return e},e.getArrByValue=function(e,t){let a=[];for(let n=0;n<e.length;n++)e[n][t]&&a.push(e[n][t]);return a},e.arrCopy=function(e){var t=e instanceof Array?[]:{};for(var a in e)t[a]="object"==typeof e[a]?objCopy(e[a]):e[a];return t},e.modifyProValue=function(e,t,a){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];o[t]&&(o[t]=a)}return e},e.objCopy=objCopy}(c=e.ObjArray||(e.ObjArray={})),function(e){function copy(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a]);return t}e.addToarray=function(e,t){for(let a=0;a<t.length;a++){const n=t[a];e.push(n)}return e},e.inverted=function(e){let t=[];for(let a=e.length-1;a>=0;a--){const n=e[a];t.push(n)}return e=t},e.randomGetOut=function(t,a){a||(a=1);let n=e.copy(t),o=[];if(a>n.length)return"数组长度小于取出的数！";for(let e=0;e<a;e++){let e=Math.round(Math.random()*(n.length-1)),t=n[e];n.splice(e,1),o.push(t)}return o},e.randomGetOne=function(e){let t=copy(e);return t[Math.round(Math.random()*(t.length-1))]},e.copy=copy,e.unique01=function(e){for(var t=0,a=e.length;t<a;t++){var n=t+1;for(a=e.length;n<a;n++)e[t]===e[n]&&(e.splice(n,1),n--,a--)}return e},e.unique02=function(e){for(var t=[(e=e.sort())[0]],a=1,n=e.length;a<n;a++)e[a]!==e[a-1]&&t.push(e[a]);return t},e.unique03=function(e){return Array.from(new Set(e))},e.oneExcludeOtherOne=function(t,a){let n=e.copy(t),o=e.copy(a);for(let e=0;e<n.length;e++)for(let t=0;t<o.length;t++)n[e]==o[t]&&(n.splice(e,1),e--);return n},e.moreExclude=function(e,t){let a=[];for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)a.push(e[t][n]);let n=copy(a),o=copy(n),r=[];for(let e=0;e<o.length;e++)r.push({name:o[e],num:0});for(let e=0;e<a.length;e++)for(let t=0;t<r.length;t++)a[e]==r[t].name&&r[t].num++;let i=[],l=[];for(let t=0;t<r.length;t++)r[t],r[t].num==e.length?i.push(r[t].name):l.push(r[t].name);return t?l:i}}(u=e._Array||(e._Array={}))}(v||(v={})),function(e){class t extends n.SceneBase{constructor(){super(...arguments),this.$image=[],this.$texture=[],this.$prefab2D=[],this.$scene2D=[],this.$scene3D=[],this.$prefab3D=[],this.$texture2D=[],this.$effectsTex2D=[],this.$material=[],this.$mesh3D=[],this.$json=[],this.$skeleton=[],this._loadRes=[this.$image,this.$texture,this.$prefab2D,this.$scene2D,this.$prefab3D,this.$texture2D,this.$effectsTex2D,this.$material,this.$mesh3D,this.$scene3D,this.$json,this.$skeleton],this._loadOrderIndex=0,this._sumProgress=0,this._currentProgress=0,this.showLodeLog=!0}get lodePercent(){return this._currentProgress/this._sumProgress}lwgStartLoding(e){e.$effectsTex2D=f.tex2D;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))for(const a in e[t])if(Object.prototype.hasOwnProperty.call(e[t],a)){const n=e[t][a];this[t].push(n)}for(let e=0;e<this._loadRes.length;e++)this._sumProgress+=this._loadRes[e].length,this._loadRes[e].length<=0&&(this._loadRes.splice(e,1),e--);const t=this.lwgOpenAni();Laya.timer.once(t||0,this,()=>{this._lode()})}lwgStepComplete(){}lwgAllComplete(){return 0}_stepComplete(){if(this._currentProgress++,this.showLodeLog&&console.log("当前进度条进度:",this._currentProgress/this._sumProgress),this._currentProgress>=this._sumProgress){if(0==this._sumProgress)return;this.showLodeLog&&console.log('所有资源加载完成！此时所有资源可通过例如:Laya.loader.getRes("url")获取'),this._allComplete()}else{let e=0;for(let t=0;t<=this._loadOrderIndex;t++)e+=this._loadRes[t].length;this._currentProgress===e&&this._loadOrderIndex++,this.lwgStepComplete(),this._lode()}}_allComplete(){Laya.timer.once(this.lwgAllComplete(),this,()=>{this._Owner.name==n._BaseName._PreLoadCutIn?this._openScene(n._PreLoadCutIn.openName):O.playMusic()})}_lodeLog(e,t,a,n,o){const r=e[t].url;"object"==typeof r?this.showLodeLog&&console.log(n,r,"数组加载完成，为数组对象，只能从getRes（url）中逐个获取"):null==a?this.showLodeLog&&console.log(`XXXXXXXXXXX${n}:${r}加载失败！不会停止加载进程！, 数组下标为：${t}, 'XXXXXXXXXXX`):(this.showLodeLog&&console.log(`${n}:${r}加载完成！, 数组下标为${t}`),o&&o()),this._stepComplete()}_lode(){if(this._loadRes.length<=0)return this.showLodeLog&&console.log("没有加载项"),void this._allComplete();let e=0;for(let t=0;t<this._loadOrderIndex;t++)e+=this._loadRes[t].length;const t=this._currentProgress-e;switch(this._loadRes[this._loadOrderIndex]){case this.$image:Laya.loader.load(this.$image[t].url,Laya.Handler.create(this,e=>{this._lodeLog(this._loadRes[this._loadOrderIndex],t,e,"2D图片",null)}));break;case this.$scene2D:Laya.loader.load(this.$scene2D[t].url,Laya.Handler.create(this,e=>{this._lodeLog(this._loadRes[this._loadOrderIndex],t,e,"2D场景",null)}),null,Laya.Loader.JSON);break;case this.$scene3D:Laya.Scene3D.load(this.$scene3D[t].url,Laya.Handler.create(this,e=>{this._lodeLog(this._loadRes[this._loadOrderIndex],t,e,"3D场景",()=>{this.$scene3D[t].scene3D=e})}));break;case this.$prefab3D:Laya.Sprite3D.load(this.$prefab3D[t].url,Laya.Handler.create(this,e=>{this._lodeLog(this._loadRes[this._loadOrderIndex],t,e,"3D预制体",()=>{this.$prefab3D[t].prefab3D=e})}));break;case this.$mesh3D:Laya.Mesh.load(this.$mesh3D[t].url,Laya.Handler.create(this,e=>{this._lodeLog(this._loadRes[this._loadOrderIndex],t,e,"3D网格",()=>{this.$mesh3D[t].mesh3D=e})}));break;case this.$texture:Laya.loader.load(this.$texture[t].url,Laya.Handler.create(this,e=>{this._lodeLog(this._loadRes[this._loadOrderIndex],t,e,"纹理",()=>{this.$texture[t].texture=e})}));break;case this.$texture2D:Laya.Texture2D.load(this.$texture2D[t].url,Laya.Handler.create(this,e=>{this._lodeLog(this._loadRes[this._loadOrderIndex],t,e,"3D纹理",()=>{this.$texture2D[t].texture2D=e})}));break;case this.$effectsTex2D:Laya.Texture2D.load(this.$effectsTex2D[t].url,Laya.Handler.create(this,e=>{this._lodeLog(this._loadRes[this._loadOrderIndex],t,e,"3D纹理",()=>{this.$effectsTex2D[t].texture2D=e})}));break;case this.$material:Laya.Material.load(this.$material[t].url,Laya.Handler.create(this,e=>{this._lodeLog(this._loadRes[this._loadOrderIndex],t,e,"3D纹理",()=>{this.$material[t].material=e})}));break;case this.$json:Laya.loader.load(this.$json[t].url,Laya.Handler.create(this,e=>{this._lodeLog(this._loadRes[this._loadOrderIndex],t,e,"数据表",()=>{this.$json[t].dataArr=e.RECORDS})}),null,Laya.Loader.JSON);break;case this.$skeleton:this.$skeleton[t].templet.on(Laya.Event.ERROR,this,()=>{console.log("XXXXXXXXXXX骨骼动画"+this.$skeleton[t]+"加载失败！不会停止加载进程！","数组下标为：",t,"XXXXXXXXXXX"),this._stepComplete()}),this.$skeleton[t].templet.on(Laya.Event.COMPLETE,this,()=>{console.log("骨骼动画",this.$skeleton[t].url,"加载完成！","数组下标为：",t),this._stepComplete()}),this.$skeleton[t].templet.loadAni(this.$skeleton[t].url);break;case this.$prefab2D:Laya.loader.load(this.$prefab2D[t].url,Laya.Handler.create(this,e=>{this._lodeLog(this._loadRes[this._loadOrderIndex],t,e,"2D预制体",()=>{const a=new Laya.Prefab;a.json=e,this.$prefab2D[t].prefab2D=a})}))}}}e._PreLoadScene=t;e._PreLoadCutInScene=class extends t{moduleOnAwake(){this.$openName=n._PreLoadCutIn.openName,this.$closeName=n._PreLoadCutIn.closeName}}}(b||(b={})),function(e){e.LWGEFFECT="",e.LWGEFFECT3D="",e.LWGUI="",e.LWGVOICE="",e.LWGDATA="",e.SCENE="",e.PREFAB="",e.GAME=""}(N||(N={})),function(e){e._InitScene=class extends n.SceneBase{lwgOpenAni(){return 10}moduleOnStart(){c.init()}}}(x||(x={})),function(e){let t=15;e.execution={get value(){return this["Execution/executionNum"]?this["Execution/executionNum"]:Laya.LocalStorage.getItem("Execution/executionNum")?Number(Laya.LocalStorage.getItem("Execution/executionNum")):t},set value(e){console.log(e),this["Execution/executionNum"]=e,Laya.LocalStorage.setItem("Execution/executionNum",e.toString())}},e.addExDate={get value(){return this["Execution/addExDate"]?this["Execution/addExDate"]:Laya.LocalStorage.getItem("Execution/addExDate")?Number(Laya.LocalStorage.getItem("Execution/addExDate")):(new Date).getDay()},set value(e){this["Execution/addExDate"]=e,Laya.LocalStorage.setItem("Execution/addExDate",e.toString())}},e.addExHours={get value(){return this["Execution/addExHours"]?this["Execution/addExHours"]:Laya.LocalStorage.getItem("Execution/addExHours")?Number(Laya.LocalStorage.getItem("Execution/addExHours")):(new Date).getHours()},set value(e){this["Execution/addExHours"]=e,Laya.LocalStorage.setItem("Execution/addExHours",e.toString())}},e.addMinutes={get value(){return this["Execution/addMinutes"]?this["Execution/addMinutes"]:Laya.LocalStorage.getItem("Execution/addMinutes")?Number(Laya.LocalStorage.getItem("Execution/addMinutes")):(new Date).getMinutes()},set value(e){this["Execution/addMinutes"]=e,Laya.LocalStorage.setItem("Execution/addMinutes",e.toString())}},e.createExecutionNode=function(t){let a;Laya.loader.load("prefab/ExecutionNum.json",Laya.Handler.create(this,function(n){let o=new Laya.Prefab;o.json=n,a=Laya.Pool.getItemByCreateFun("prefab",o.create,o),t.addChild(a),a.getChildByName("Num").value=e.execution.value.toString(),a.pos(297,90),a.zOrder=50,e.ExNode=a,e.ExNode.name="ExNode"}))},e.addExecution=function(t,a,n){let o;Laya.loader.load("prefab/execution.json",Laya.Handler.create(this,function(t){let a=new Laya.Prefab;a.json=t,o=Laya.Pool.getItemByCreateFun("prefab",a.create,a),Laya.stage.addChild(o),o.x=Laya.stage.width/2,o.y=Laya.stage.height/2,o.zOrder=50,e.ExNode&&w.move(o,e.ExNode.x,e.ExNode.y,800,()=>{w.fadeOut(o,1,0,200,0,()=>{w.upDwon_Shake(e.ExNode,10,80,0,null),n&&n()})},100)}))},e.createConsumeEx=function(t){let a=Laya.Pool.getItemByClass("label",Laya.Label);a.name="label",Laya.stage.addChild(a),a.text=`${t}`,a.fontSize=40,a.bold=!0,a.color="#59245c",a.x=e.ExNode.x+100,a.y=e.ExNode.y-a.height/2+4,a.zOrder=100,w.fadeOut(a,0,1,200,150,()=>{w.leftRight_Shake(e.ExNode,15,60,0,null),w.fadeOut(a,1,0,600,400,()=>{})})};e.ExecutionNode=class extends n.ObjectBase{constructor(){super(...arguments),this.timeSwitch=!0,this.time=0,this.countNum=59}lwgOnAwake(){this.Num=this._Owner.getChildByName("Num"),this.CountDown=this._Owner.getChildByName("CountDown"),this.CountDown_Board=this._Owner.getChildByName("CountDown_Board"),this.countNum=59,this.CountDown.text="00:"+this.countNum,this.CountDown_Board.text=this.CountDown.text;let a=new Date;a.getDate()!==e.addExDate.value?e.execution.value=t:a.getHours()==e.addExHours.value?(console.log(a.getMinutes(),e.addMinutes.value),e.execution.value+=a.getMinutes()-e.addMinutes.value,e.execution.value>t&&(e.execution.value=t)):e.execution.value=t,this.Num.value=e.execution.value.toString(),e.addExDate.value=a.getDate(),e.addExHours.value=a.getHours(),e.addMinutes.value=a.getMinutes()}countDownAddEx(){if(this.time++,this.time%60==0){if(this.countNum--,this.countNum<0){this.countNum=59,e.execution.value+=1,this.Num.value=e.execution.value.toString();let t=new Date;e.addExHours.value=t.getHours(),e.addMinutes.value=t.getMinutes()}this.countNum>=10&&this.countNum<=59?(this.CountDown.text="00:"+this.countNum,this.CountDown_Board.text=this.CountDown.text):this.countNum>=0&&this.countNum<10&&(this.CountDown.text="00:0"+this.countNum,this.CountDown_Board.text=this.CountDown.text)}}lwgOnStart(){h.frameLoop(1,this,()=>{Number(this.Num.value)>=t?this.timeSwitch&&(e.execution.value=t,this.Num.value=e.execution.value.toString(),this.CountDown.text="00:00",this.CountDown_Board.text=this.CountDown.text,this.countNum=60,this.timeSwitch=!1):(this.timeSwitch=!0,this.countDownAddEx())})}}}(C||(C={}));class D extends n._BaseName{}D.AdsHint="AdsHint",D.PersonalInfo="PersonalInfo",D.Levels="Levels",D.Levels1="Levels1",D.CheckIn="CheckIn",D.Share="Share",D.Sweep="Sweep",D.Assembly="Assembly",D.Embattle="Embattle",D.Workshop="Workshop",D.Acquire="Acquire";class E extends n.SceneBase{lwgOnAwake(){S.bgMusic.switch=!1,i.showReturnButton(),l.Gold.show()}lwgButton(){this._btnUp(this._ImgVar("BtnStart"),()=>{this._openScene(D.Levels,{test:"test",name:"这是一个测试参数！"})})}}!function(e){e[e.checkEnemyBullet=0]="checkEnemyBullet",e[e.closeScene=1]="closeScene",e[e.checkBuff=2]="checkBuff",e[e.treeCheckWeapon=3]="treeCheckWeapon",e[e.enemyCheckWeapon=4]="enemyCheckWeapon",e[e.enemyLandCheckWeapon=5]="enemyLandCheckWeapon",e[e.enemyHouseCheckWeapon=6]="enemyHouseCheckWeapon",e[e.bossCheckWeapon=7]="bossCheckWeapon",e[e.heroineCheckWeapon=8]="heroineCheckWeapon",e[e.enemyStage=9]="enemyStage",e[e.enemyLandStage=10]="enemyLandStage",e[e.enemyHouseStage=11]="enemyHouseStage",e[e.bossStage=12]="bossStage",e[e.heroineStage=13]="heroineStage",e[e.addEnemy=14]="addEnemy"}(B||(B={})),function(e){e.$scene3D=class{};class t{}t._ReturnButton={url:"Prefab/_ReturnButton.json",scene:null},t._Gold={url:"Prefab/_Gold.json",scene:null},e.$scene2D=t;class a{}a.LwgGold={url:"Prefab/LwgGold.json",prefab2D:null},a.Hero={url:"Prefab/Hero.json",prefab2D:null},a.Weapon={url:"Prefab/Weapon.json",prefab2D:null},a.Enemy={url:"Prefab/Enemy.json",prefab2D:null},a.EB_single={url:"Prefab/EB_single.json",prefab2D:null},a.EB_two={url:"Prefab/EB_two.json",prefab2D:null},a.EB_three_Triangle={url:"Prefab/EB_three_Triangle.json",prefab2D:null},a.EB_three_Across={url:"Prefab/EB_three_Across.json",prefab2D:null},a.EB_three_Vertical={url:"Prefab/EB_three_Vertical.json",prefab2D:null},a.EB_Four_Square={url:"Prefab/EB_Four_Square.json",prefab2D:null},a.Boss={url:"Prefab/Boss.json",prefab2D:null},a.Buff={url:"Prefab/Buff.json",prefab2D:null},a.Heroine={url:"Prefab/Heroine.json",prefab2D:null},e.$prefab2D=a;class n{}n.Boss={url:"_LwgData/_Game/Boss.json",dataArr:null},n.Enemy={url:"_LwgData/_Game/Enemy.json",dataArr:null},n.HeroLevel={url:"_LwgData/_Game/HeroLevel.json",dataArr:null},n.HeroType={url:"_LwgData/_Game/HeroType.json",dataArr:null},e.$json=n;e.$prefab3D=class{};e.$mesh3D=class{};e.$material=class{};e.$texture=class{};e.$pic2D=class{};e.$skeleton=class{};e.$effectTex2D=class{}}(P||(P={}));class k{static clearBullet(e){Laya.timer.clearAll(e),Laya.Tween.clearAll(e),e.destroy(!0)}static checkStageAndHero(e,t=!0){h.frameLoop(1,e,()=>{!v.Node.leaveStage(e,()=>{this.clearBullet(e)})&&t&&s.notify(B.checkEnemyBullet,[e,1])})}static checkNumChild(e){h.frameLoop(1,e,()=>{0===e.numChildren&&this.clearBullet(e)})}static checkHeroByChild(e){this.checkStageAndHero(e,!1);for(let t=0;t<e.numChildren;t++){const a=e.getChildAt(t);this.checkStageAndHero(a),a.name=this.Type.single}}static createBase(e,t,a){const n=P.$prefab2D[t].prefab2D,o=v.Node.createPrefabByPool(n,this.Parent,[e._lwg.gPoint.x,e._lwg.gPoint.y],null,null,t);switch(o._prefab2D=n,o.moveCaller=new Object,a){case this.ChekType.bullet:this.checkStageAndHero(o);break;case this.ChekType.child:this.checkHeroByChild(o);break;case this.ChekType.bulletAndchild:this.checkStageAndHero(o),this.checkHeroByChild(o)}return o}static EB_single(e){return this.createBase(e,this.Type.single,this.ChekType.bullet)}static EB_two(e){return this.createBase(e,this.Type.two,this.ChekType.child)}static EB_three_Triangle(e){return this.createBase(e,this.Type.three_Triangle,this.ChekType.child)}static EB_three_Across(e){return this.createBase(e,this.Type.three_Across,this.ChekType.child)}static EB_three_Vertical(e){return this.createBase(e,this.Type.three_Vertical,this.ChekType.child)}static EB_Four_Square(e){return this.createBase(e,this.Type.four_Square,this.ChekType.child)}}k.Type={single:"EB_single",two:"EB_two",three_Triangle:"EB_three_Triangle",three_Across:"EB_three_Across",three_Vertical:"EB_three_Vertical",four_Square:"EB_Four_Square"},k.ChekType={bullet:"bullet",child:"child",bulletAndchild:"bulletAndchild"};class R extends y.Table{constructor(){super(...arguments),this.type={Num:"Num",S:"S"}}static _ins(){return this.ins||(this.ins=new R),this.ins}createBuff(e,t,a,n,o){const r=v.Node.createPrefabByPool(P.$prefab2D.Buff.prefab2D,t,[a,n],o);return r.buffType=e,r}}class M extends y.Table{constructor(e){super(),this._otherPro={quantity:"quantity",shellNum:"shellNum",blood:"blood",boss:"boss",speed:"speed"},this._arr=P.$json.Enemy.dataArr,this.levelData=this._getObjByName(`level${a.level.value}`),this.quantity=this.levelData.quantity,this.Parent=e}createEnmey(e){this.quantity--;const t=this.levelData[this._otherPro.shellNum];const a=v.Node.createPrefabByPool(P.$prefab2D.Enemy.prefab2D,this.Parent);const n=v._Array.randomGetOne(["blue","yellow","red"]);a.name=`${n}${n}`;let o=v.Num.randomOneBySection(this.levelData[this._otherPro.speed][0],this.levelData[this._otherPro.speed][1]);o=0==v.Num.randomOneHalf()?-o:o,a._EnemyData={shell:1<=t,blood:this.levelData.blood,angle:v.Num.randomOneBySection(0,360),speed:o,color:n},a.addComponent(e)}}class H extends y.Table{constructor(e,t){super(),this._otherPro={blood:"blood",specials:"specials",speed:"speed",skills:"skills",bulletPower:"bulletPower"},this._arr=P.$json.Boss.dataArr,this.levelData=this._getObjByName(`Boss${a.level.value}`),this.skills=this.levelData.skills,this.speed=this.levelData.speed,this.blood=this.levelData.blood,this.createLevelBoss(e,t)}createLevelBoss(e,t){const a=v.Node.createPrefabByPool(P.$prefab2D.Boss.prefab2D,e);a.name="Boss";let n=v.Num.randomOneBySection(this.speed[0],this.speed[1]);return n=0==v.Num.randomOneHalf()?-n:n,a._EnemyData={blood:this.blood,angle:v.Num.randomOneBySection(0,360),speed:n,sikllNameArr:this.skills},a.addComponent(t),a}}class V extends n.ObjectBase{constructor(){super(...arguments),this.checkByWDis=30,this.checkEvName=""}bloodInit(e){this.bloodPresnt=this.bloodSum=e,this.bloodPic=this._Owner.getChildByName("Blood").getChildByName("Pic"),this.bloodWidth=this.bloodPic.width}checkOtherRule(e,t,a){v.Node.checkTwoDistance(e,this._Owner,t||30,()=>{this.bloodRule(e,a)})}bloodRule(e,t){if(!this.bloodPic)return console.log("血量没有初始化！");this.bloodPresnt-=t,this.bloodPic.width=this.bloodWidth*this.bloodPresnt/this.bloodSum,this.bloodPresnt<=0?(this.deathFunc(),this.deathEffect(),this._lwgDestroyAndClear()):this.subOnceFunc(),e.destroy()}subOnceFunc(){}deathFunc(){}deathEffect(){for(let e=0;e<20;e++)p.Particle.spray(Laya.stage,this._Owner._lwg.gPoint,[10,30])}}class $ extends n.ObjectBase{lwgOnStart(){this.checkHero()}checkHero(){h.frameLoop(1,this,()=>{this._Owner.y+=5,!v.Node.leaveStage(this._Owner,()=>{this._Owner.removeSelf()})&&v.Node.checkTwoDistance(this._Owner,this._SceneImg("Hero"),60,()=>{this._Owner.removeSelf(),this._evNotify(B.checkBuff,[this._Owner.buffType])})})}}class X extends V{constructor(){super(...arguments),this.buffState=!0}lwgOnAwake(){this.bloodInit(20)}lwgEvent(){this._evReg(B.enemyLandStage,()=>{this.buffState=!1,this._ImgChild("Blood").visible=!1}),this._evReg(B.treeCheckWeapon,(e,t)=>{this.buffState&&this.checkOtherRule(e,50,t)})}deathFunc(){R._ins().createBuff(0,this._Scene,this._Owner._lwg.gPoint.x,this._Owner._lwg.gPoint.y,$)}}class F{static moveByAngle(e,t,a,n,o,r,i){let l=0,s=0;i&&(s=i.delay?v.Num.randomOneInt(i.delay[0],i.delay[1]):null);const c=0===v.Num.randomOneHalf()?o:-o;e.rotation=a-90;let u=0;const d=new Laya.Point(e.x+=t,e.y);h.frameLoop(1,e,()=>{l++;const t=v.Point.getRoundPosNew(a,u+=n,d);e.pos(t.x,t.y),e.rotation+=c,r&&r.func&&r.interval&&l%r.interval==0&&r.func(),i&&i.type&&s&&l>s&&this[i.type](e)})}static moveByAngle_Stretch(e,t,a,n,o,r,i,l,s){let c,u=0,d="add";s&&(c=s.delay?v.Num.randomOneInt(s.delay[0],s.delay[1]):null);const m=0===v.Num.randomOneHalf()?i:-i;let y=t;const g=new Laya.Point(e.x+=a,e.y);h.frameLoop(1,e,()=>{let a;u++,a="add"===d?v.Point.getRoundPosNew(n,y+=o,g):v.Point.getRoundPosNew(n,y-=o,g),e.pos(a.x,a.y),y>r?d="sub":y<=t&&(y=t,d="add"),e.rotation+=m,l&&l.func&&l.interval&&u%l.interval==0&&l.func(),s&&s.type&&c&&u>c&&this[s.type](e)})}static moveByXY(e,t,a,n,o,r,i){let l,s=0;i&&(l=i.delay?v.Num.randomOneInt(i.delay[0],i.delay[1]):null),e.x+=t;const c=0===v.Num.randomOneHalf()?o:-o;h.frameLoop(1,e,()=>{s++,e.x+=a,e.y+=n,e.rotation+=c,r&&r.func&&r.interval&&s%r.interval==0&&r.func(),i&&i.type&&l&&s>l&&this[i.type](e)})}static childStretch(e,t=2,a=5){if(k.checkNumChild(e),!e.childStretch){e.childStretch=!0;const a=e.globalToLocal(new Laya.Point(e.x,e.y));for(let n=0;n<e.numChildren;n++){const r=e.getChildAt(n);o._addProperty(r);const i=v.Point.pointByAngleNew(a.x-r.x,a.y-r.y);this.moveByAngle_Stretch(r,20,0,i,t,100,0,null,null)}}}static childExplodebyAngle(e,t=10,a=5){Laya.timer.clearAll(e),k.checkNumChild(e);const n=new Laya.Point(e._lwg.gPoint.x,e._lwg.gPoint.y);for(let r=0;r<e.numChildren;r++){const i=e.getChildAt(r);o._addProperty(i);const l=new Laya.Point(i._lwg.gPoint.x,i._lwg.gPoint.y),s=v.Point.pointByAngleNew(l.x-n.x,l.y-n.y);this.moveByAngle(i,0,s,t,a,null,null)}}static _fall(e,t,a,n=10,o=0,r=k.Type.three_Across,i=0,l=0,s,c){h.frameOnce(i,e,()=>{h.frameRandomLoop(t,a,e,()=>{this.moveByXY(k[r](e),l,0,n,o,s,c)})})}static _annular(e,t,a=10,n=10,o=0,r,i=0,l=0,s,c){h.frameOnce(i,e,()=>{h.frameLoop(t,e,()=>{for(let t=0;t<a;t++)this.moveByAngle(k[r](e),l,360/a*t,n,o,s,c)})})}static _spiral(e,t,a,n,o=10,r=0,i=k.Type.single,l=0,s=0,c,u){let d=0;h.frameOnce(l,e,()=>{h.frameLoop(t,e,()=>{d++;new Laya.Point(e._lwg.gPoint.x+s,e._lwg.gPoint.y);for(let t=0;t<a;t++){let l=0+d*n;l+=360*t/a,this.moveByAngle(k[i](e),s,l,o,r,c,u)}})})}static _slapDown(e,t=3,a=0,n=180,o=15,r=10,i=0,l=k.Type.single,s=0,c=0,u,d){h.frameOnce(s,e,()=>{let s=0;h.frameLoop(t,e,()=>{let t=s*o;t>n&&(e.angleState="sub"),t<=a&&(e.angleState="add"),"sub"===e.angleState?s--:s++,this.moveByAngle(k[l](e),c,t,r,i,u,d)})})}static _randomAngleDown(e,t,a,n=10,o=0,r=k.Type.single,i=0,l=0,s,c){h.frameOnce(i,e,()=>{h.frameRandomLoop(t,a,e,()=>{this.moveByAngle(k[r](e),l,v.Num.randomOneInt(0,180),n,o,s,c)})})}static _evenDowByCenter(e,t=5,a=2,n=30,o=10,r=0,i=k.Type.three_Triangle,l=0,s=0,c,u){h.frameOnce(l,e,()=>{r=0===v.Num.randomOneHalf()?r:-r,h.frameLoop(t,e,()=>{for(let t=0;t<a;t++){let l=t*(180-2*n)/(a-1)+n;this.moveByAngle(k[i](e),s,l,o,r,c,u)}})})}static _assignAngle(e,t=20,a=30,n=2,o=10,r=10,i=0,l=k.Type.single,s=0,c=0,u,d){h.frameOnce(s,e,()=>{h.frameLoop(t,e,()=>{for(let t=0;t<n;t++)h.frameOnce(o*t,e,()=>{this.moveByAngle(k[l](e),c,a,r,i,u,d)})})})}}F.ChildMoveType={childExplodebyAngle:"childExplodebyAngle",childStretch:"childStretch"};class U{}U.Level1=new class{enemy(e){F._fall(e,200,200,5,0,k.Type.four_Square,0,0,null,{type:F.ChildMoveType.childStretch,delay:[1,1]})}land(e){F._slapDown(e,1,0,180,11,10,0,k.Type.single),F._assignAngle(e,25,135,3,4,8,0,k.Type.single,0,200),F._assignAngle(e,25,45,3,4,8,0,k.Type.single,0,-200)}house(e){F._spiral(e,5,2,11,10,5,k.Type.three_Vertical),F._assignAngle(e,25,115,3,4,8,0,k.Type.two,0,200),F._assignAngle(e,25,65,3,4,8,0,k.Type.two,0,-200)}boss(e){F._evenDowByCenter(e,20,5,30,10,5,k.Type.three_Across),F._assignAngle(e,25,115,3,4,8,0,k.Type.single,0,200),F._assignAngle(e,25,90,3,4,8,0,k.Type.single,0,0),F._assignAngle(e,25,65,3,4,8,0,k.Type.single,0,-200)}heroine(e){F._spiral(e,5,3,11,10,8,k.Type.two),F._assignAngle(e,25,135,3,4,8,0,k.Type.single,0,200),F._assignAngle(e,25,45,3,4,8,0,k.Type.single,0,-200),F._assignAngle(e,25,100,3,4,8,0,k.Type.single,0,100),F._assignAngle(e,25,80,3,4,8,0,k.Type.single,0,-100)}},U.lvArr=[class{enemy(e){h.frameRandomLoop(120,300,e,()=>{const t=new Laya.Point(e._lwg.gPoint.x,e._lwg.gPoint.y);for(let a=0;a<3;a++){const n=k.EB_single(e);let o=0;h.frameLoop(1,n,()=>{const e=v.Point.getRoundPosNew(15*a+90-15,o+=5,t);n.pos(e.x,e.y)})}})}land(e){let t=0;h.frameLoop(30,e,()=>{let a=5;++t%3==0?a=18:t%2==0&&(a=10);for(let t=0;t<a;t++){const n=k.EB_single(e);let o=0;h.frameLoop(1,n,()=>{const r=180/a,i=v.Point.getRoundPosNew(r*t+r/2,o+=5,e._lwg.gPoint);n.pos(i.x,i.y)})}})}house(e){let t=0,a="add";h.frameLoop(20,e,()=>{t>40?a="sub":t<=0&&(a="add"),"add"===a?t+=10:t-=10;let n=t;const o=new Laya.Point(e._lwg.gPoint.x,e._lwg.gPoint.y);for(let t=0;t<8;t++){const a=k.EB_single(e);let r=0;h.frameLoop(1,a,()=>{const e=v.Point.getRoundPosNew(20*t+n,r+=5,o);a.pos(e.x,e.y)})}})}boss(e){h.frameLoop(30,e,()=>{const t=new Laya.Point(e._lwg.gPoint.x+100,e._lwg.gPoint.y),a=new Laya.Point(e._lwg.gPoint.x-100,e._lwg.gPoint.y);for(let a=0;a<8;a++){const n=k.EB_single(e);let o=0;h.frameLoop(1,n,()=>{const e=v.Point.getRoundPosNew(22.5*a+11.25,o+=6,t);n.pos(e.x,e.y)})}for(let t=0;t<8;t++){const n=k.EB_single(e);let o=0;h.frameLoop(1,n,()=>{const e=v.Point.getRoundPosNew(22.5*t+11.25,o+=6,a);n.pos(e.x,e.y)})}})}heroine(e){h.frameLoop(15,e,()=>{const t=v.Num.randomOneInt(360),a=new Laya.Point(e._lwg.gPoint.x,e._lwg.gPoint.y);for(let n=0;n<6;n++){const o=k.EB_single(e);let r=0;h.frameLoop(1,o,()=>{const e=v.Point.getRoundPosNew(t+8*n,r+=10,a);o.pos(e.x,e.y)})}for(let n=0;n<6;n++){const o=k.EB_single(e);let r=0;h.frameLoop(1,o,()=>{const e=v.Point.getRoundPosNew(t+8*n+120,r+=10,a);o.pos(e.x,e.y)})}for(let n=0;n<6;n++){const o=k.EB_single(e);let r=0;h.frameLoop(1,o,()=>{const e=v.Point.getRoundPosNew(t+8*n+240,r+=10,a);o.pos(e.x,e.y)})}})}},,class{enemy(e){h.frameRandomLoop(120,300,e,()=>{const t=k.EB_two(e);h.frameLoop(1,t,()=>{t.y+=8})})}land(e){h.frameLoop(5,e,()=>{let t=v.Num.randomOneInt(0,180);for(let a=0;a<2;a++){const a=new Laya.Point(e._lwg.gPoint.x,e._lwg.gPoint.y),n=k.EB_two(e);let o=0;n.rotation=t+90,h.frameLoop(1,n,()=>{const e=v.Point.getRoundPosNew(t,o+=12,a);n.pos(e.x,e.y)})}})}house(e){let t=0,a="add";h.frameLoop(3,e,()=>{t>180?a="sub":t<=0&&(a="add"),"add"===a?t+=10:t-=10;let n=t;const o=new Laya.Point(e._lwg.gPoint.x,e._lwg.gPoint.y);for(let t=0;t<1;t++){const a=k.EB_two(e);a.rotation=12*t+n-90;let r=0;h.frameLoop(1,a,()=>{const e=v.Point.getRoundPosNew(12*t+n,r+=15,o);a.pos(e.x,e.y)})}})}boss(e){let t=0;h.frameLoop(3,e,()=>{t++;for(let a=0;a<3;a++){const n=new Laya.Point(e._lwg.gPoint.x,e._lwg.gPoint.y),o=k.EB_two(e);let r=0,i=0+16*t,l=6;0===a&&(i=0+10*t,l=12),i+=180*a,o.rotation=i+90,h.frameLoop(1,o,()=>{const e=v.Point.getRoundPosNew(i,r+=l,n);o.pos(e.x,e.y)})}})}heroine(e){let t=0;h.frameLoop(5,e,()=>{t++;for(let a=0;a<4;a++){const n=new Laya.Point(e._lwg.gPoint.x,e._lwg.gPoint.y),o=k.EB_two(e);let r=0,i=30,l=12;0===a&&(i=0+10*t),i+=30*a,o.rotation=i+90,h.frameLoop(1,o,()=>{const e=v.Point.getRoundPosNew(i,r+=l,n);o.pos(e.x,e.y)})}})}}];class j extends V{constructor(){super(...arguments),this.landStage=!1}lwgOnAwake(){this.bloodInit(100),this._ImgChild("Blood").visible=!1,h.frameLoop(1,this,()=>{this._Owner.rotation+=.1})}lwgEvent(){this._evReg(B.enemyLandStage,()=>{Laya.timer.clearAll(this);const e=10*Math.abs(this._Owner.rotation%360);w.rotate(this._Owner,0,e,0,()=>{this._Owner.rotation=0,this._ImgChild("Blood").visible=!0,this.landStage=!0,U.Level1.land(this._Owner)})}),this._evReg(B.enemyLandCheckWeapon,(e,t)=>{this.checkOtherRule(e,160,this.landStage?t:0)})}deathFunc(){this._evNotify(B.enemyHouseStage)}}class Y extends V{constructor(){super(...arguments),this.heroineStage=!0}lwgOnAwake(){this.bloodInit(100),U.Level1.heroine(this._Owner),this.move()}move(){let e="left";h.frameLoop(1,this,()=>{"right"==e?(this._Owner.x++,this._Owner.x>Laya.stage.width-100&&(e="left")):(this._Owner.x--,this._Owner.x<100&&(e="right"))})}lwgEvent(){this._evReg(B.heroineCheckWeapon,(e,t)=>{this.checkOtherRule(e,50,this.heroineStage?t:0)})}deathFunc(){this._openScene("Victory",null,!1)}}class G extends V{lwgOnAwake(){this.generalProInit(),this.bloodInit(this._Owner._EnemyData.blood),this.ranAttackNum=v.Num.randomOneBySection(1,3,!0)}generalProInit(){this._Owner.pos(Laya.stage.width/2,300),this._ImgChild("Shell").removeSelf(),this._Owner._EnemyData.color&&(this._ImgChild("Pic").skin=`Game/UI/Game/Enemy/enemy_01_${this._Owner._EnemyData.color}.png`);const e=this._Owner._EnemyData.angle;this._Owner.rotation=e,this.speed=this._Owner._EnemyData.speed,this.groundRadius=200}lwgOnStart(){this.attack(),this.appear(()=>{this.move()})}appear(e){let t=0;h.frameNumLoop(1,110,this,()=>{t+=2;let e=v.Point.getRoundPosNew(this._Owner.rotation,t,new Laya.Point(this._SceneImg("Land").width/2,this._SceneImg("Land").height/2));this._Owner.x=e.x,this._Owner.y=e.y},()=>{e()})}attack(){U.Level1.enemy(this._Owner)}move(){h.frameLoop(1,this,()=>{let e=v.Point.getRoundPosNew(this._Owner.rotation+=this.speed,220,new Laya.Point(this._SceneImg("Land").width/2,this._SceneImg("Land").height/2));this._Owner.x=e.x,this._Owner.y=e.y})}lwgEvent(){this._evReg(B.enemyCheckWeapon,(e,t)=>{this.checkOtherRule(e,30,t)})}deathFunc(){"Boss"===this._Owner.name?v.Node.createPrefabByPool(P.$prefab2D.Heroine.prefab2D,this._Parent,[this._Owner.x,this._Owner.y],Y):this._evNotify(B.addEnemy)}}class W extends n.ObjectBase{constructor(){super(...arguments),this.launchAcc=0,this.dropAcc=0,this.stateType={launch:"launch",free:"free"}}get state(){return this.Statevalue?this.Statevalue:"launch"}set state(e){this.Statevalue=e}getSpeed(){return 15.1}getDropSpeed(){return this.dropAcc+=.5}lwgOnAwake(){h.frameLoop(1,this,()=>{this.move()})}move(){if(this.getSpeed()>0){let e=v.Point.angleAndLenByPoint(this._Owner.rotation-90,this.getSpeed());this._Owner.x+=e.x,this._Owner.y+=e.y}else this._Owner.y+=this.getDropSpeed();v.Node.leaveStage(this._Owner,()=>{this._Owner.destroy()})||(this._evNotify(B.treeCheckWeapon,[this._Owner,1]),this._evNotify(B.enemyCheckWeapon,[this._Owner,1]),this._evNotify(B.enemyLandCheckWeapon,[this._Owner,1]),this._evNotify(B.enemyHouseCheckWeapon,[this._Owner,1]),this._evNotify(B.heroineCheckWeapon,[this._Owner,1]),this._evNotify(B.bossCheckWeapon,[this._Owner,1]))}drop(){this.state=this.stateType.free,Laya.timer.clearAll(this),h.frameLoop(1,this,()=>{this._Owner.y+=40,this._Owner.rotation+=10,v.Node.leaveStage(this._Owner,()=>{this._Owner.destroy()})})}}class z{constructor(e,t){this.ballisticNum=1,this.ballisticPos=[[[0,0]],[[-20,0],[20,0]],[[-20,0],[0,0],[20,0]],[[-30,0],[-10,0],[10,0],[30,0]],[[-40,0],[-20,0],[0,0],[20,0],[40,0]],[[-50,0],[-30,0],[-10,0],[10,0],[30,0],[50,0]],[[-60,0],[-40,0],[-20,0],[0,0],[20,0],[40,0],[60,0]]],this.attack_S_Angle=[[0],[-5,5],[-10,0,10],[-15,-5,5,15],[-20,-10,0,10,20],[-25,-15,-5,5,15,25],[-30,-20,-10,0,10,20,30],[-35,-25,-15,5,5,15,25,35]],this.WeaponParent=e,this.Hero=t}createWeapon(e,t,a){const n=v.Node.createPrefabByPool(P.$prefab2D.Weapon.prefab2D);return this.WeaponParent.addChild(n),n.addComponent(W),n.pos(t,a),n.getChildByName("Pic").skin=e?`Game/UI/Game/Hero/Hero_01_weapon_${e}.png`:"Lwg/UI/rectangle_05.png",n.name=e,n}attack_General(){const e=this.ballisticPos[this.ballisticNum-1];for(let t=1;t<e.length;t++){const a=e[t];a&&this.createWeapon(null,this.Hero.x+a[0],this.Hero.y+a[1])}}attack_S(){const e=this.attack_S_Angle[this.ballisticNum-1];for(let t=0;t<e.length;t++){this.createWeapon(null,this.Hero.x,this.Hero.y).rotation=e[t]}}}class J extends V{lwgOnAwake(){this.bloodInit(5e3),this.attackInterval=10,this._HeroAttack=new z(this._SceneImg("WeaponParent"),this._Owner),this._HeroAttack.ballisticNum=1}lwgOnStart(){h.frameLoop(this.attackInterval,this,()=>{this.mouseP&&this._HeroAttack.attack_S()})}deathFunc(){this._openScene("Defeated",null,!1)}lwgEvent(){this._evReg(B.checkEnemyBullet,(e,t)=>{this.checkOtherRule(e,40,t)}),this._evReg(B.checkBuff,e=>{switch(e){case 0:this._HeroAttack.ballisticNum++}})}move(e){if(this.mouseP){let t=e.stageX-this.mouseP.x,a=e.stageY-this.mouseP.y;this._Owner.x+=t,this._Owner.y+=a,this.mouseP=new Laya.Point(e.stageX,e.stageY),this._Owner.x>Laya.stage.width&&(this._Owner.x=Laya.stage.width),this._Owner.x<0&&(this._Owner.x=0),this._Owner.y<=0&&(this._Owner.y=0),this._Owner.y>Laya.stage.height&&(this._Owner.y=Laya.stage.height)}}lwgOnStageDown(e){this.mouseP=new Laya.Point(e.stageX,e.stageY)}lwgOnStageMove(e){this.move(e)}lwgOnStageUp(){this.mouseP=null}}class Z extends G{lwgOnAwake(){this.generalProInit(),this._Owner.pos(this._SceneImg("Content").x,this._SceneImg("Content").y),this._Owner.rotation=0,this._SceneImg("Content").removeSelf(),this.bloodInit(20)}lwgOnStart(){this.attack(),this.move()}move(){let e="left";h.frameLoop(1,this,()=>{"right"==e?(this._Owner.x++,this._Owner.x>Laya.stage.width-100&&(e="left")):(this._Owner.x--,this._Owner.x<100&&(e="right"))})}appear(){}attack(){U.Level1.boss(this._Owner)}}class q extends V{constructor(){super(...arguments),this.enemyHouseStage=!1}lwgOnAwake(){this.bloodInit(20),this._ImgChild("Blood").visible=!1}lwgEvent(){this._evReg(B.enemyHouseStage,()=>{this.enemyHouseStage=!0,this._ImgChild("Blood").visible=!0,U.Level1.house(this._Owner)}),this._evReg(B.enemyHouseCheckWeapon,(e,t)=>{this.checkOtherRule(e,50,this.enemyHouseStage?t:0)})}deathFunc(){new H(this._SceneImg("BossParent"),Z)}}!function(e){e._texArr=[],e._arrowParentArr=[]}(A||(A={}));class K extends n.SceneBase{lwgOnAwake(){this._Owner.Hero=v.Node.createPrefabByPool(P.$prefab2D.Hero.prefab2D,this._Owner,[Laya.stage.width/2,2*Laya.stage.height/3]),this._ImgVar("Hero").addComponent(J);for(let e=0;e<this._ImgVar("MiddleScenery").numChildren;e++){const t=this._ImgVar("MiddleScenery").getChildAt(e);"Tree"==t.name&&t.addComponent(X)}this._ImgVar("Land").addComponent(j),this._ImgVar("EnemyHouse").addComponent(q),k.Parent=this._ImgVar("EBparrent")}lwgOnStart(){this._evNotify(B.enemyStage)}lwgEvent(){this._evReg(B.enemyStage,()=>{this._Enemy=new M(this._ImgVar("EnemyParent"));const e=this._Enemy.quantity>=10?10:this._Enemy.quantity;for(let t=0;t<e;t++)this._Enemy.createEnmey(G)}),this._evReg(B.addEnemy,()=>{this._Enemy.quantity>0?this._Enemy.createEnmey(G):this._ImgVar("EnemyParent").numChildren<=1&&this._evNotify(B.enemyLandStage)}),this._evReg(B.closeScene,()=>{for(let e=0;e<A._texArr.length;e++){A._texArr[e].destroy(!0),A._texArr.splice(e,1),e--}for(let e=0;e<A._arrowParentArr.length;e++){A._arrowParentArr[e].destroy(!0),A._arrowParentArr.splice(e,1),e--}this._closeScene()})}}class Q extends b._PreLoadCutInScene{lwgOpenAniAfter(){}lwgAllComplete(){return 10}lwgOnDisable(){}}class ee extends b._PreLoadScene{lwgOnAwake(){}lwgOnStart(){this.lwgStartLoding(P)}lwgStepComplete(){}lwgAllComplete(){return this._openScene(D.Start),2e3}lwgOnDisable(){}}class te{static _dialogOpenPopup(e,t,a){e.scene.zOrder=Laya.stage.numChildren-1;return e.scale(.5,.5),w.bombs_Appear(e,0,1,1.2,0,300,()=>{a&&a()}),t&&(t.alpha=0,w.fadeOut(t,0,1,200,200)),300}static _dialogOpenFadeOut(e,t,a){return t&&w.fadeOut(t,0,1,300,0,()=>{a&&a()}),w.fadeOut(e,0,1,250,0,()=>{!t&&a&&a()}),300}static _dialogCloseFadeOut(e,t,a){return w.fadeOut(e,1,0,180,150,()=>{a&&a()}),t&&w.fadeOut(t,1,0,180),330}static _charactersEffect(e,t,a){for(let n=0;n<t.length;n++){const o=t.charAt(n);h.frameOnce(10*n,this,()=>{e.text+=o,n==t.length-1&&a&&a()})}}static _scaleHint(e){h._loop(1e3,this,()=>{w.swell_shrink(e,1,1.05,300)})}static _fadeHint(e){w.fadeOut(e,0,.6,1500,0,()=>{w.fadeOut(e,.6,0,800,0,()=>{h.frameOnce(30,this,()=>{this._fadeHint(e)})})})}}class ae extends n.SceneBase{constructor(){super(...arguments),this.btnComX=Laya.stage.width-250,this.btnComY=70,this.bgType={present:"present",vanish:"vanish",appear:"appear"}}lwgOpenAni(){return 200}lwgOnAwake(){this._ImgVar("Hand").scale(0,0),this._ImgVar("Slide").scale(0,0)}clickEffcet(){p.Aperture.continuous(this._Owner,[this._ImgVar("Hand").x,this._ImgVar("Hand").y+28],[6,6],null,null,[p.SkinUrl.圆形小光环],null,this._ImgVar("Hand").zOrder-1,[1.2,1.2],[.6,.6],[.01,.01])}boreholeCircle(e,t,a,n){for(let t=0;t<e.length;t++){const a=10;let o=15;const r=e[t],i=(e[t][2]-o)/a;h.frameNumLoop(1,a,this,()=>{o+=i,r[2]=o,v.Draw.reverseCircleMask(this._ImgVar("Background"),e,!0)},()=>{n&&n()},!0)}t&&this._ImgVar("Hand").pos(t,a-30)}boreholeRoundrect(e,t,a,n){t&&this._ImgVar("Hand").pos(t,a);for(let t=0;t<e.length;t++){let a=0,o=0,r=0;const i=e[t],l=20,s=(i[2]-a)/l,c=(i[3]-o)/l,u=(i[4]-r)/l;h.frameNumLoop(1,l,this,()=>{a+=s,o+=c,r+=u,i[2]=a,i[3]=o,i[4]=r,v.Draw.reverseRoundrectMask(this._ImgVar("Background"),e,!0)},()=>{n&&n()},!0)}t&&this._ImgVar("Hand").pos(t,a)}handAppear(e,t){w.scale(this._ImgVar("Hand"),0,0,1,1,200,e||0,()=>{t&&t()}),this._ImgVar("HandPic").rotation=-17}bgAppear(e,t){v.Node.destroyAllChildren(this._ImgVar("Background"));this._ImgVar("HandPic").rotation=-17,w.fadeOut(this._ImgVar("Background"),0,1,300,e||0,()=>{t&&t()})}handVanish(e,t){this._ImgVar("HandPic").rotation=-17,w.scale(this._ImgVar("Hand"),1,1,0,0,300,e||0,()=>{t&&t()})}bgVanish(e,t){w.fadeOut(this._ImgVar("Background"),1,0,300,e||0,()=>{t&&t()})}handMove(e,t,a,n){this.handClear();const o=t-30,r=new Laya.Point(this._ImgVar("Hand").x,this._ImgVar("Hand").y).distance(e,o);switch(w.move(this._ImgVar("Hand"),e,o,r,()=>{a&&a()}),this._ImgVar("Hand").scale(1,1),w.move(this._ImgVar("HandPic"),75,56,r),n){case this.bgType.vanish:this.bgVanish();break;case this.bgType.appear:this.bgAppear()}}handClear(){h.clearAll([this._ImgVar("Hand")]),w.clearAll([this._ImgVar("Hand")]),this._AniVar("Frame").stop(),this._AniVar("Click").stop(),this._AniVar("ClickOne").stop(),this._ImgVar("Hand").visible=!0,this._ImgVar("HandPic").scale(1,1),this._ImgVar("HandPic").rotation=-17,this._ImgVar("Hand").pos(this._ImgVar("HandPic")._lwg.gPoint.x-75,this._ImgVar("HandPic")._lwg.gPoint.y-56),this._ImgVar("HandPic").pos(75,56)}slideUpAppear(e,t,a,n,o,r){this.bgAppear(r||0,()=>{this.boreholeRoundrect([[e,t,a,n,o]],null,null,()=>{this._ImgVar("Hand").scale(0,0),this._ImgVar("Slide").scale(1,1),this._ImgVar("Slide").pos(e,t),this._AniVar("SlideUp").play()})})}noMoveRoundrect(e,t,a,n,o,r,i,l){this.bgAppear(r||0,()=>{this.boreholeRoundrect([[e,t,a,n,o]],i||e,l||t-30,()=>{this.handAppear(null,()=>{this._AniVar("Click").play()})})})}moveRoundrectNoBg(e,t,a,n,o){this.boreholeRoundrect([[e,t,a,n,o]],null,null,()=>{this.handMove(e,t,()=>{this._AniVar("Click").play()})})}noMoveCircle(e,t,a){this.bgAppear(0,()=>{this.boreholeCircle([[e,t,a]],e,t,()=>{this.handAppear(200,()=>{this._AniVar("Click").play()})})})}moveCircleBg(e,t,a){this.bgAppear(0,()=>{this.boreholeCircle([[e,t,a]],null,null,()=>{this.handMove(e,t,()=>{this._AniVar("Click").play()})})})}moveCircleNoBg(e,t,a){this.boreholeCircle([[e,t,a]],null,null,()=>{this.handMove(e,t,()=>{this._AniVar("Click").play()})})}lwgEvent(){}lwgCloseAni(){return te._dialogCloseFadeOut(this._ImgVar("Hand"),this._ImgVar("Background"))}lwgOnDisable(){this._ImgVar("Background").destroy()}}class ne extends n.SceneBase{lwgOnAwake(){}lwgButton(){}}class oe extends n.SceneBase{lwgOnAwake(){}lwgOnEnable(){}lwgOnStart(){}lwgOpenAni(){return 10}lwgOpenAniAfter(){}lwgEvent(){}lwgButton(){this._btnUp(this.owner.BtnBack,()=>{this._openScene("Start"),this._evNotify(B.closeScene)})}lwgOnStageDown(){}lwgOnStageMove(){}lwgOnStageUp(){}lwgCloseAni(){return 10}lwgOnDisable(){}}class re extends n.SceneBase{lwgButton(){this._btnUp(this._ImgVar("BtnGet"),()=>{this._openScene("Start"),s.notify(B.closeScene)})}}class ie extends x._InitScene{lwgOnAwake(){t.Ues.value=t.Tpye.Bytedance,Laya.Stat.show(),Laya.MouseManager.multiTouchEnabled=!1,d.Use.value={class:d._fadeOut.Open,type:null},_.Use.value=_._Type.largen,u.Use.value=[720,1280],n.sceneScript={_PreLoad:ee,_PreLoadCutIn:Q,_Guide:ae,_Parameter:ne,Start:E,Levels:K,Defeated:oe,Victory:re}}lwgOnStart(){this._openScene(D._PreLoad)}}class le{constructor(){}static init(){(0,Laya.ClassUtils.regClass)("script/Game/General/_Init.ts",ie)}}le.width=720,le.height=1280,le.scaleMode="fixedwidth",le.screenMode="vertical",le.alignV="top",le.alignH="left",le.startScene="Scene/_Init.scene",le.sceneRoot="",le.debug=!1,le.stat=!1,le.physicsDebug=!0,le.exportSceneToJson=!0,le.init();new class{constructor(){window.Laya3D?Laya3D.init(le.width,le.height):Laya.init(le.width,le.height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=le.scaleMode,Laya.stage.screenMode=le.screenMode,Laya.stage.alignV=le.alignV,Laya.stage.alignH=le.alignH,Laya.URL.exportSceneToJson=le.exportSceneToJson,(le.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),le.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),le.stat&&Laya.Stat.show(),Laya.alertGlobalError=!0,Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){le.startScene&&Laya.Scene.open(le.startScene)}}}();