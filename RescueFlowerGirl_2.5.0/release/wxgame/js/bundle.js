!function(){"use strict";var e;!function(e){let t,n,r,l,i,s,c,u,d,h,m,y,g,p,_,f,L,w,O,b,k,v,C,N,P,X,A,x,D,E,T;!function(t){function btnPauseUp(t){t.stopPropagation(),t.currentTarget.scale(1,1),e.Admin._openScene("UIPause",null,null,null)}t._createBtnPause=function(e){let a;Laya.loader.load("prefab/BtnPause.json",Laya.Handler.create(this,function(n){let r=new Laya.Prefab;r.json=n,a=Laya.Pool.getItemByCreateFun("prefab",r.create,r),e.addChild(a),a.pos(645,167),a.zOrder=0,t.BtnPauseNode=a,t.BtnPauseNode.name="BtnPauseNode",y._on(y._Type.largen,a,null,null,btnPauseUp,null)}))},t.btnPauseUp=btnPauseUp}(t=e.Pause||(e.Pause={})),function(e){e._createP201_01=function(e){let t;Laya.loader.load("prefab/P201.json",Laya.Handler.create(this,function(a){let n=new Laya.Prefab;n.json=a,t=Laya.Pool.getItemByCreateFun("P201",n.create,n),e.addChild(t),t.pos(80,290),t.zOrder=65}))}}(n=e.Elect||(e.Elect={})),function(e){let t,a,n,r,o;function getDialogContent_Random(e){let t=[],a=getUseWhere(e),n=Math.floor(Math.random()*a.length);for(const e in a[n])if(a[n].hasOwnProperty(e)){const r=a[n][e];"content"==e.substring(0,7)&&"-1"!==r&&t.push(r)}return t}function getUseWhere(t){let a=[];for(let n=0;n<e._dialogContent.Array.length;n++){const r=e._dialogContent.Array[n];r.useWhere==t&&a.push(r)}return a}!function(e){e[e["金币不够了！"]=0]="金币不够了！",e[e["没有可以购买的皮肤了！"]=1]="没有可以购买的皮肤了！",e[e["暂时没有广告，过会儿再试试吧！"]=2]="暂时没有广告，过会儿再试试吧！",e[e["暂无皮肤!"]=3]="暂无皮肤!",e[e["暂无分享!"]=4]="暂无分享!",e[e["暂无提示机会!"]=5]="暂无提示机会!",e[e["观看完整广告才能获取奖励哦！"]=6]="观看完整广告才能获取奖励哦！",e[e["通关上一关才能解锁本关！"]=7]="通关上一关才能解锁本关！",e[e["分享成功后才能获取奖励！"]=8]="分享成功后才能获取奖励！",e[e["分享成功!"]=9]="分享成功!",e[e["暂无视频，玩一局游戏之后分享！"]=10]="暂无视频，玩一局游戏之后分享！",e[e["消耗2点体力！"]=11]="消耗2点体力！",e[e["今日体力福利已领取！"]=12]="今日体力福利已领取！",e[e["分享成功，获得125金币！"]=13]="分享成功，获得125金币！",e[e["分享成功，获得50金币！"]=14]="分享成功，获得50金币！",e[e["限定皮肤已经获得，请前往皮肤界面查看。"]=15]="限定皮肤已经获得，请前往皮肤界面查看。",e[e["分享失败！"]=16]="分享失败！",e[e["兑换码错误！"]=17]="兑换码错误！",e[e["尚未获得该商品!"]=18]="尚未获得该商品!",e[e["恭喜获得新皮肤!"]=19]="恭喜获得新皮肤!",e[e["请前往皮肤限定界面获取!"]=20]="请前往皮肤限定界面获取!",e[e["通过相应的关卡数达到就可以得到了!"]=21]="通过相应的关卡数达到就可以得到了!",e[e["点击金币抽奖按钮购买!"]=22]="点击金币抽奖按钮购买!",e[e["没有领取次数了！"]=23]="没有领取次数了！",e[e["增加三次开启宝箱次数！"]=24]="增加三次开启宝箱次数！",e[e["观看广告可以获得三次开宝箱次数！"]=25]="观看广告可以获得三次开宝箱次数！",e[e["没有宝箱领可以领了！"]=26]="没有宝箱领可以领了！",e[e["请前往皮肤界面购买！"]=27]="请前往皮肤界面购买！",e[e["今天已经签到过了！"]=28]="今天已经签到过了！",e[e["没有抽奖次数了，请通过观看广告获取！"]=29]="没有抽奖次数了，请通过观看广告获取！",e[e["没有库存了！"]=30]="没有库存了！",e[e["牌数太少，无法使用道具！"]=31]="牌数太少，无法使用道具！",e[e["没有可以购买的卡牌了！"]=32]="没有可以购买的卡牌了！",e[e["敬请期待!"]=33]="敬请期待!"}(t=e.HintContent||(e.HintContent={})),function(e){e.blackBord="Frame/UI/ui_orthogon_black.png"}(a||(a={})),e.createHint_Middle=function(e){let n=Laya.Pool.getItemByClass("Hint_M",Laya.Sprite);n.name="Hint_M",Laya.stage.addChild(n),n.width=Laya.stage.width,n.height=100,n.pivotY=n.height/2,n.pivotX=Laya.stage.width/2,n.x=Laya.stage.width/2,n.y=Laya.stage.height/2,n.zOrder=100;let r=new Laya.Image;n.addChild(r),r.skin=a.blackBord,r.width=Laya.stage.width,r.pivotX=Laya.stage.width/2,r.height=100,r.pivotY=r.height/2,r.y=n.height/2,r.x=Laya.stage.width/2,r.alpha=.6;let o=new Laya.Label;n.addChild(o),o.width=Laya.stage.width,o.text=t[e],o.pivotX=Laya.stage.width/2,o.x=Laya.stage.width/2,o.height=100,o.pivotY=50,o.y=n.height/2,o.bold=!0,o.fontSize=35,o.color="#ffffff",o.align="center",o.valign="middle",o.alpha=0,p.scale_Alpha(n,0,1,0,1,1,1,200,0,e=>{p.fadeOut(o,0,1,150,0,e=>{p.fadeOut(o,1,0,200,800,e=>{p.scale_Alpha(n,1,1,1,1,0,0,200,0,e=>{n.removeSelf()})})})})},e._dialogContent={get Array(){return null!==Laya.loader.getRes("GameData/Dialogue/Dialogue.json").RECORDS?Laya.loader.getRes("GameData/Dialogue/Dialogue.json").RECORDS:[]}},e.getDialogContent=function(t,a){let n;for(let r=0;r<e._dialogContent.Array.length;r++){const o=e._dialogContent.Array[r];if(o.useWhere==t&&o.name==a){n=o;break}}let r=[];for(const e in n)if(n.hasOwnProperty(e)){const t=n[e];"content"!=e.substring(0,7)&&-1===t||r.push(t)}return r},e.getDialogContent_Random=getDialogContent_Random,e.getUseWhere=getUseWhere,function(e){e.scene1="scene1",e.scene2="scene2",e.scene3="scene3"}(n=e.UseWhere||(e.UseWhere={})),function(e){e.name="name",e.useWhere="useWhere",e.content="content",e.max="max"}(r=e.DialogProperty||(e.DialogProperty={})),function(e){e.voluntarily="voluntarily",e.manual="manual",e.clickContent="clickContent"}(o=e.PlayMode||(e.PlayMode={})),e.createVoluntarilyDialogue=function(t,a,n,r,o,l,i){null==r&&(r=0),Laya.timer.once(r,this,()=>{let r;Laya.loader.load("Prefab/Dialogue_Common.json",Laya.Handler.create(this,function(s){let c=new Laya.Prefab;c.json=s,r=Laya.Pool.getItemByCreateFun("Pre_Dialogue",c.create,c),l?l.addChild(r):Laya.stage.addChild(r),r.x=t,r.y=a;let u,d=r.getChildByName("Content");void 0!==i?d.text=i[0]:(u=getDialogContent_Random(n),d.text=u[0]),r.zOrder=100,null==o&&(o=1e3),p.scale_Alpha(r,0,0,0,1,1,1,150,1e3,()=>{for(let e=0;e<u.length;e++)Laya.timer.once(e*o,this,()=>{d.text=u[e],e==u.length-1&&Laya.timer.once(o,this,()=>{p.scale_Alpha(r,1,1,1,0,0,0,150,1e3,()=>{r.removeSelf()})})})}),e.DialogueNode=r}))})},e.createCommonDialog=function(e,t,a,n){let r;Laya.loader.load("Prefab/Dialogue_Common.json",Laya.Handler.create(this,function(o){let l=new Laya.Prefab;l.json=o,r=Laya.Pool.getItemByCreateFun("Dialogue_Common",l.create,l),e.addChild(r),r.pos(t,a),r.getChildByName("Dialogue_Common").text=n}))}}(r=e.Dialogue||(e.Dialogue={})),function(t){t._execution={get value(){return Laya.LocalStorage.getItem("_execution")?Number(Laya.LocalStorage.getItem("_execution")):15},set value(e){Laya.LocalStorage.setItem("_execution",e.toString())}},t._createExecutionNum=function(e){let a;Laya.loader.load("prefab/ExecutionNum.json",Laya.Handler.create(this,function(n){let r=new Laya.Prefab;r.json=n,a=Laya.Pool.getItemByCreateFun("prefab",r.create,r),e.addChild(a),a.getChildByName("Num"),a.pos(297,90),a.zOrder=50,t.ExecutionNumNode=a,t.ExecutionNumNode.name="ExecutionNumNode"}))},t._createAddExecution=function(a,n,r){let o;Laya.loader.load("prefab/execution.json",Laya.Handler.create(this,function(a){let n=new Laya.Prefab;n.json=a,o=Laya.Pool.getItemByCreateFun("prefab",n.create,n),Laya.stage.addChild(o),o.x=Laya.stage.width/2,o.y=Laya.stage.height/2,o.zOrder=50,t.ExecutionNumNode&&p.move_Simple(o,o.x,o.y,t.ExecutionNumNode.x,t.ExecutionNumNode.y,800,100,a=>{p.fadeOut(o,1,0,200,0,a=>{e.Animation2D.upDwon_Shake(t.ExecutionNumNode,10,80,0,null),r&&r()})},Laya.Ease.expoIn)}))},t.createConsumeEx=function(a){let n=Laya.Pool.getItemByClass("label",Laya.Label);n.name="label",Laya.stage.addChild(n),n.text="-2",n.fontSize=40,n.bold=!0,n.color="#59245c",n.x=t.ExecutionNumNode.x+100,n.y=t.ExecutionNumNode.y-n.height/2+4,n.zOrder=100,e.Animation2D.fadeOut(n,0,1,200,150,a=>{e.Animation2D.leftRight_Shake(t.ExecutionNumNode,15,60,0,null),e.Animation2D.fadeOut(n,1,0,600,400,e=>{})})}}(l=e.Execution||(e.Execution={})),function(t){let a;function createOneGold(e,n,r){let o=Laya.Pool.getItemByClass("addGold",Laya.Image);o.name="addGold";Math.floor(12*Math.random());return o.alpha=1,o.zOrder=60,o.width=e,o.height=n,o.pivotX=e/2,o.pivotY=n/2,o.skin=r||a[0],t.GoldNode&&(o.zOrder=t.GoldNode.zOrder+10),o}t._num={get value(){return Laya.LocalStorage.getItem("_goldNum")?Number(Laya.LocalStorage.getItem("_goldNum")):0},set value(e){Laya.LocalStorage.setItem("_goldNum",e.toString())}},t.createGoldNode=function(e,a,n){let r;n||(n=Laya.stage),t.GoldNode&&t.GoldNode.removeSelf(),Laya.loader.load("Prefab/LwgGold.json",Laya.Handler.create(this,function(o){let l=new Laya.Prefab;l.json=o,(r=Laya.Pool.getItemByCreateFun("gold",l.create,l)).getChildByName("Num").text=L.format_FormatNumber(t._num.value),n.addChild(r),r.pos(e,a),r.zOrder=100,t.GoldNode=r}))},t._addGold=function(e){t._num.value+=Number(e),t.GoldNode.getChildByName("Num").text=L.format_FormatNumber(t._num.value)},t.addGoldDisPlay=function(e){let a=t.GoldNode.getChildByName("Num");a.value=(Number(a.value)+Number(e)).toString()},t.addGoldNoDisPlay=function(e){t._num.value+=Number(e)},t.goldAppear=function(e,a,n){t.GoldNode&&(e?p.scale_Alpha(t.GoldNode,0,1,1,1,1,1,e,0,e=>{t.GoldNode.visible=!0}):t.GoldNode.visible=!0,a&&(t.GoldNode.x=a),n&&(t.GoldNode.y=n))},t.goldVinish=function(e){t.GoldNode&&(e?p.scale_Alpha(t.GoldNode,1,1,1,1,1,0,e,0,e=>{t.GoldNode.visible=!1}):t.GoldNode.visible=!1)},function(e){e[e["Frame/Effects/icon_gold.png"]=0]="Frame/Effects/icon_gold.png"}(a||(a={})),t.createOneGold=createOneGold,t.getGoldAni_Single=function(e,t,a,n,r,o,l,i,s){for(let c=0;c<t;c++)Laya.timer.once(30*c,this,()=>{let u=createOneGold(a,n,r);e.addChild(u),p.move_Scale(u,1,o.x,o.y,l.x,l.y,1,350,0,null,()=>{f.playSound(f.voiceUrl.huodejinbi),c===t-1?Laya.timer.once(200,this,()=>{s&&s()}):i&&i(),u.removeSelf()})})},t._getGoldAni_Heap=function(e,n,r,o,l,i,s,c,u){for(let d=0;d<n;d++){let h=createOneGold(r||100,o||100,l||a[0]);(e=e||Laya.stage).addChild(h),i=i||new Laya.Point(Laya.stage.width/2,Laya.stage.height/2),s=s||new Laya.Point(t.GoldNode.x,t.GoldNode.y);let m=1==Math.floor(2*Math.random())?i.x+100*Math.random():i.x-100*Math.random(),y=1==Math.floor(2*Math.random())?i.y+100*Math.random():i.y-100*Math.random();p.move_Scale(h,.5,i.x,i.y,m,y,1,300,100*Math.random()+100,Laya.Ease.expoIn,()=>{p.move_Scale(h,1,h.x,h.y,s.x,s.y,1,400,200*Math.random()+100,Laya.Ease.cubicOut,()=>{f.playSound(f.voiceUrl.huodejinbi),d===n-1?Laya.timer.once(200,this,()=>{u&&u()}):c&&c(),h.removeSelf()})})}};class n extends Laya.Script{onAwake(){this.initProperty()}onEnable(){this.Owner=this.owner,this.selfScene=this.Owner.scene;let e=this.__proto__.constructor.name;this.Owner[e]=this,this.timer=0,this.lwgInit(),this.propertyAssign()}lwgInit(){}initProperty(){}propertyAssign(){this.startAlpha&&(this.Owner.alpha=this.startAlpha),this.startScale&&this.Owner.scale(this.startScale,this.startScale),this.startRotat&&(this.Owner.rotation=this.startRotat)}commonSpeedXYByAngle(e,t){this.Owner.x+=L.Point.SpeedXYByAngle(e,t+this.accelerated).x,this.Owner.y+=L.Point.SpeedXYByAngle(e,t+this.accelerated).y}moveRules(){}onUpdate(){this.moveRules()}onDisable(){Laya.Pool.recover(this.Owner.name,this.Owner),this.destroy(),Laya.Tween.clearAll(this),Laya.timer.clearAll(this)}}t.GoldAniBase=n;t.AddGold=class extends n{lwgInit(){this.Owner.width=115,this.Owner.height=111,this.Owner.pivotX=this.Owner.width/2,this.Owner.pivotY=this.Owner.height/2}initProperty(){}moveRules(){this.moveSwitch&&(this.timer++,this.timer>0&&(e.Animation2D.move_Scale(this.Owner,1,this.Owner.x,this.Owner.y,this.targetX,this.targetY,.35,250,0,e=>{this.Owner.removeSelf(),null!==this.func&&this.func()}),this.moveSwitch=!1))}}}(i=e.Gold||(e.Gold={})),function(e){e.dispatcher=new Laya.EventDispatcher,e._register=function(t,a,n){a||console.error("事件的执行域必须存在!"),e.dispatcher.on(t.toString(),a,n)},e._registerOnce=function(t,a,n){a||console.error("事件的执行域必须存在!"),e.dispatcher.once(t.toString(),a,n)},e._notify=function(t,a){e.dispatcher.event(t.toString(),a)},e._off=function(t,a,n){e.dispatcher.off(t.toString(),a,n)},e._offAll=function(t){e.dispatcher.offAll(t.toString())},e._offCaller=function(t){e.dispatcher.offAllCaller(t)}}(s=e.EventAdmin||(e.EventAdmin={})),function(e){e._date={get year(){return(new Date).getFullYear()},get month(){return(new Date).getMonth()},get date(){return(new Date).getDate()},get day(){return(new Date).getDay()},get hours(){return(new Date).getHours()},get minutes(){return(new Date).getMinutes()},get seconds(){return(new Date).getSeconds()},get milliseconds(){return(new Date).getMilliseconds()},get toLocaleDateString(){return(new Date).toLocaleDateString()},get toLocaleTimeString(){return(new Date).toLocaleTimeString()}},e._loginDate={get value(){let e,t=[],a=new Date,n=[a.getFullYear(),a.getMonth()+1,a.getDate(),a.getDay()];try{e=Laya.LocalStorage.getJSON("DateAdmin_loginDate");let t=[];t=JSON.parse(e);let a=!1;for(let e=0;e<t.length;e++)t[e].toString()==n.toString()&&(a=!0);a||t.push(n)}catch(e){0==t.length&&t.push(n)}return Laya.LocalStorage.setJSON("DateAdmin_loginDate",JSON.stringify(t)),t}},e._loginNumber={get value(){return Laya.LocalStorage.getItem("DateAdmin_loginNumber")?Number(Laya.LocalStorage.getItem("DateAdmin_loginNumber")):1},set value(e){Laya.LocalStorage.setItem("DateAdmin_loginNumber",e.toString())}},e._last={get date(){return Laya.LocalStorage.getItem("DateAdmin_last")?Number(Laya.LocalStorage.getItem("DateAdmin_last")):e._date.date},setLastDate(){Laya.LocalStorage.setItem("DateAdmin_last",e._date.date.toString())}}}(c=e.DateAdmin||(e.DateAdmin={})),function(e){e._frameLoop=function(e,t,a,n,r,o){n&&a(),Laya.timer.frameLoop(e,t,()=>{a()},r,o)},e._frameRandomLoop=function(e,t,a,n,r,o,l){r&&n();var i=()=>{let r=L.randomOneInt(e,t);Laya.timer.frameOnce(r,a,()=>{n(),i()},o,l)};i()},e._frameNumLoop=function(e,t,a,n,r,o,l){r&&n();let i=0;var s=()=>{++i>t?Laya.timer.clear(a,s):n()};Laya.timer.frameLoop(e,a,s,o,l)},e._frameOnce=function(e,t,a,n,r,o){n&&n(),Laya.timer.frameOnce(e,t,()=>{a()},r,o)},e._loop=function(e,t,a,n,r,o){n&&a(),Laya.timer.loop(e,t,()=>{a()},r,o)},e._randomLoop=function(e,t,a,n,r,o,l){r&&n();var i=()=>{let r=L.randomOneInt(e,t);Laya.timer.once(r,a,()=>{n(),i()},o,l)};i()},e._numLoop=function(e,t,a,n,r,o,l){r&&n();let i=0;var s=()=>{++i>t?Laya.timer.clear(a,s):n()};Laya.timer.loop(e,a,s,o,l)},e._once=function(e,t,a,n,r){a&&a(),Laya.timer.once(e,{},()=>{t()},n,r)}}(u=e.TimerAdmin||(e.TimerAdmin={})),function(e){e._platform={tpye:{Bytedance:"Bytedance",WeChat:"WeChat",OPPO:"OPPO",OPPOTest:"OPPOTest",VIVO:"VIVO",General:"General",Web:"Web",WebTest:"WebTest",Research:"Research"},get name(){return this._platform_name?this._platform_name:null},set name(t){switch(this._platform_name=t,t){case e._platform.tpye.WebTest:Laya.LocalStorage.clear(),o._num.value=5e3;break;case e._platform.tpye.Research:Laya.Stat.show(),o._num.value=5e13}}},e._game={switch:!0,get level(){return Laya.LocalStorage.getItem("_gameLevel")?Number(Laya.LocalStorage.getItem("_gameLevel")):1},set level(e){let t=e-this.level;t>0&&(this.maxLevel+=t),e>this.loopLevel&&-1!=this.loopLevel?Laya.LocalStorage.setItem("_gameLevel",1..toString()):Laya.LocalStorage.setItem("_gameLevel",e.toString())},get maxLevel(){return Laya.LocalStorage.getItem("_game_maxLevel")?Number(Laya.LocalStorage.getItem("_game_maxLevel")):this.level},set maxLevel(e){Laya.LocalStorage.setItem("_game_maxLevel",e.toString())},get loopLevel(){return this._gameloopLevel?this._gameloopLevel:-1},set loopLevel(e){this._gameloopLevel=e},LevelNode:new Laya.Sprite,_createLevel(t,a,n){let r;Laya.loader.load("prefab/LevelNode.json",Laya.Handler.create(this,function(o){let l=new Laya.Prefab;l.json=o,r=Laya.Pool.getItemByCreateFun("prefab",l.create,l),t.addChild(r),r.pos(a,n),r.zOrder=0;r.getChildByName("level");e._game.LevelNode=r}))},pause:{get switch(){return e._game.switch},set switch(t){this.bool=t,t?(e._game.switch=!1,Laya.timer.pause()):(e._game.switch=!0,Laya.timer.resume())}}};function _unlockPreventClick(e){let t=e.getChildByName("__lockClick__");t&&t.removeSelf()}let t;function _openScene(t,a,n,r){e._clickLock.switch=!0,Laya.Scene.load("Scene/"+t+".json",Laya.Handler.create(this,function(o){e._moudel["_"+t]?e._moudel["_"+t][t]&&(o.getComponent(e._moudel["_"+t][t])||o.addComponent(e._moudel["_"+t][t])):console.log(t,"场景没有同名脚本！"),o.width=Laya.stage.width,o.height=Laya.stage.height;var l=()=>{L.Node.checkChildren(Laya.stage,t)?console.log(t,"场景重复出现！请检查代码"):(r?Laya.stage.addChildAt(o,r):Laya.stage.addChild(o),n&&n())};o.name=t,e._sceneControl[t]=o;let i=o.getChildByName("Background");i&&(i.width=Laya.stage.width,i.height=Laya.stage.height),e._sceneControl[a]?_closeScene(a,l):l()}))}function _closeScene(t,a){if(!e._sceneControl[t])return void console.log("场景",t,"关闭失败！可能是名称不对！");var n=()=>{e._clickLock.switch=!1,e._sceneControl[t].close(),a&&a()};if(!e._sceneAnimation.vanishSwitch)return void n();let r=e._sceneControl[t][e._sceneControl[t].name];if(r&&r){e._clickLock.switch=!0,r.lwgBeforeVanishAni();let a=r.lwgVanishAni();null!==a?Laya.timer.once(a,this,()=>{n(),e._clickLock.switch=!1}):function(t,a){let n,r;switch(t[t.name].lwgBeforeVanishAni(),e._sceneAnimation.presentAni){case e._sceneAnimation.type.fadeOut:n=150,r=50,t.Background&&p.fadeOut(t,1,0,75),p.fadeOut(t,1,0,150,50,()=>{a()});break;case e._sceneAnimation.type.stickIn.random:a()}}(e._sceneControl[t],n)}}function _commonOpenAni(t){let a,n,r;switch(e._sceneAnimation.presentAni){case e._sceneAnimation.type.fadeOut:a=400,n=300,t.Background&&p.fadeOut(t,0,1,200,300),p.fadeOut(t,0,1,400,0),r=400;break;case e._sceneAnimation.type.stickIn.upLeftDownLeft:_sceneAnimationTypeStickIn(t,e._sceneAnimation.type.stickIn.upLeftDownLeft);break;case e._sceneAnimation.type.stickIn.upRightDownLeft:_sceneAnimationTypeStickIn(t,e._sceneAnimation.type.stickIn.upRightDownLeft);case e._sceneAnimation.type.stickIn.random:_sceneAnimationTypeStickIn(t,e._sceneAnimation.type.stickIn.random)}return Laya.timer.once(r,this,()=>{e._clickLock.switch=!1,t[t.name]&&(t[t.name].lwgOpenAniAfter(),t[t.name].lwgBtnClick())}),r}function _sceneAnimationTypeStickIn(t,a){let n=0;t.getChildByName("Background")&&p.fadeOut(t.getChildByName("Background"),0,1,700);let r=L.Node.zOrderByY(t,!1);for(let t=0;t<r.length;t++){const n=r[t];if("Background"!==n.name&&"NoAni"!==n.name.substr(0,5)){let r=n.pivotX,o=n.pivotY;switch(a){case e._sceneAnimation.type.stickIn.upLeftDownLeft:n.rotation=n.y>Laya.stage.height/2?-180:180,L.Node.changePovit(n,0,0);break;case e._sceneAnimation.type.stickIn.upRightDownLeft:n.rotation=n.y>Laya.stage.height/2?-180:180,L.Node.changePovit(n,180==n.rotation?n.width:0,0);break;case e._sceneAnimation.type.stickIn.random:n.rotation=1==L.randomOneHalf()?180:-180,L.Node.changePovit(n,1==L.randomOneHalf()?0:n.width,1==L.randomOneHalf()?0:n.height)}let l=n.x,i=n.y;n.x=n.pivotX>n.width/2?800+n.width:-800-n.width,n.y=n.rotation>0?n.y+200:n.y-200,p.simple_Rotate(n,n.rotation,0,700,100*t),p.move_Simple(n,n.x,n.y,l,i,700,100*t,()=>{L.Node.changePovit(n,r,o)})}}return n=100*t.numChildren+700+200}e._Game=class{},e._clickLock={get switch(){return!!Laya.stage.getChildByName("__stageClickLock__")},set switch(e){if(e){if(!Laya.stage.getChildByName("__stageClickLock__")){console.log("锁住点击！");let e=new Laya.Sprite;e.name="__stageClickLock__",Laya.stage.addChild(e),e.zOrder=3e3,e.width=Laya.stage.width,e.height=Laya.stage.height,e.pos(0,0),y._on(y._Type.noEffect,e,this,null,null,e=>{console.log("舞台点击被锁住了！请用admin._clickLock=false解锁"),e.stopPropagation()})}}else Laya.stage.getChildByName("__stageClickLock__")&&Laya.stage.getChildByName("__stageClickLock__").removeSelf()}},e._secneLockClick=function(e){_unlockPreventClick(e);let t=new Laya.Sprite;e.addChild(t),t.zOrder=1e3,t.name="__lockClick__",t.width=Laya.stage.width,t.height=Laya.stage.height,t.pos(0,0),y._on(y._Type.noEffect,t,this,null,null,e=>{console.log("场景点击被锁住了！请用admin._unlockPreventClick（）解锁"),e.stopPropagation()})},e._unlockPreventClick=_unlockPreventClick,e._sceneControl={},e._sceneScript={},e._moudel={},function(e){e.PreLoad="PreLoad",e.PreLoadStep="PreLoadStep",e.Guide="Guide",e.Start="Start",e.Shop="Shop",e.Task="Task",e.Set="Set",e.Skin="Skin",e.Puase="Puase",e.Share="Share",e.Game3D="Game3D",e.Victory="Victory",e.Defeated="Defeated",e.PassHint="PassHint",e.SkinTry="SkinTry",e.Redeem="Redeem",e.Turntable="Turntable",e.CaidanPifu="CaidanPifu",e.Operation="Operation",e.VictoryBox="VictoryBox",e.CheckIn="CheckIn",e.Resurgence="Resurgence",e.AdsHint="AdsHint",e.LwgInit="LwgInit",e.Game="Game",e.SmallHint="SmallHint",e.DrawCard="DrawCard",e.PropTry="PropTry",e.Card="Card",e.ExecutionHint="ExecutionHint",e.SkinQualified="SkinQualified",e.Eastereggister="Eastereggister",e.SelectLevel="SelectLevel",e.Settle="Settle",e.Special="Special"}(t=e._SceneName||(e._SceneName={})),e._preLoadOpenScene=function(a,n,r,o){_openScene(t.PreLoadStep),e._preLoadOpenSceneLater.openSceneName=a,e._preLoadOpenSceneLater.cloesSceneName=n,e._preLoadOpenSceneLater.func=r,e._preLoadOpenSceneLater.zOrder=o},e._preLoadOpenSceneLater={openSceneName:null,cloesSceneName:null,func:null,zOrder:null},e._openScene=_openScene,e._closeScene=_closeScene,e._sceneAnimation={type:{fadeOut:"fadeOut",stickIn:{random:"random",upLeftDownLeft:"upLeftDownRight",upRightDownLeft:"upRightDownLeft"},leftMove:"leftMove",rightMove:"rightMove",centerRotate:"centerRotate",drawUp:"drawUp"},vanishSwitch:!1,openSwitch:!0,presentAni:"fadeOut"},e._gameState={type:{Start:"Start",Play:"Play",Pause:"pause",Victory:"victory",Defeated:"defeated"},state:"Start",setState(a){switch(a){case t.Start:e._gameState.state=e._gameState.type.Start;break;case t.Game:e._gameState.state=e._gameState.type.Play;break;case t.Defeated:e._gameState.state=e._gameState.type.Defeated;break;case t.Victory:e._gameState.state=e._gameState.type.Victory}}};e._SceneBase=class extends Laya.Script{constructor(){super(),this.calssName=t.PreLoad}get Owner(){return this.owner}SpriteVar(e){return this.Owner[e]?this.Owner[e]:void console.log("场景内不存在全局节点：",e)}AniVar(e){return this.Owner[e]?this.Owner[e]:void console.log("场景内不存在动画：",e)}btnVar(e){return this.Owner[e]?this.Owner[e]:void console.log("场景内不存在全局按钮：",e)}ImgVar(e){return this.Owner[e]?this.Owner[e]:void console.log("场景内不存在全局节点：",e)}ListVar(e){if(this.Owner[e])return this.Owner[e];console.log("场景内不存在全局节点：",e)}TapVar(e){if(this.Owner[e])return this.Owner[e];console.log("场景内不存在全局节点：",e)}onAwake(){null==this.Owner.name?console.log("场景名称失效，脚本赋值失败"):(this.calssName=this.Owner.name,this.Owner[this.calssName]=this),e._gameState.setState(this.calssName),this.moduleOnAwake(),this.lwgOnAwake(),this.lwgAdaptive()}lwgOnAwake(){}moduleOnAwake(){}onEnable(){this.moduleEventRegister(),this.lwgEventRegister(),this.moduleOnEnable(),this.lwgOnEnable(),this.btnAndlwgOpenAni()}moduleOnEnable(){}lwgEventRegister(){}moduleEventRegister(){}lwgOnEnable(){}onStart(){this.moduleOnStart(),this.lwgOnStart()}btnRig(e,t,a,n,r,o,l){y._on(e,t,a,n,r,o,l)}lwgOpenScene(t,a,n,r){let o;null!=a&&1!=a||(o=this.Owner.name),e._openScene(t,o,n,r)}lwgCloseScene(t,a){e._closeScene(t||this.Owner.name,a)}lwgOnStart(){}moduleOnStart(){}btnAndlwgOpenAni(){let t=this.lwgOpenAni();null!==t?Laya.timer.once(t,this,()=>{e._clickLock.switch=!1,this.lwgOpenAniAfter(),this.lwgBtnClick()}):t=_commonOpenAni(this.Owner)}lwgOpenAni(){return null}lwgOpenAniAfter(){}lwgBtnClick(){}lwgAdaptiveProportion(e){for(let t=0;t<e.length;t++)e[t].y,S.height,Laya.stage.height}lwgAdaptive(){}onUpdate(){this.lwgOnUpdate()}lwgOnUpdate(){}lwgBeforeVanishAni(){}lwgVanishAni(){return null}onDisable(){p.fadeOut(this.Owner,1,0,2e3,1),this.lwgOnDisable(),Laya.timer.clearAll(this),Laya.Tween.clearAll(this),s._offCaller(this)}lwgOnDisable(){}};e._Object=class extends Laya.Script{constructor(){super()}get _Owner(){return this.owner}get _Scene(){return this.owner.scene}get _Parent(){if(this._Owner.parent)return this.owner.parent}_SceneImg(e){if(this._Scene[e])return this._Scene[e];console.log(`场景内不存在节点${e}`)}get OwnerRig(){return this._Owner.getComponent(Laya.RigidBody)?this._Owner.getComponent(Laya.RigidBody):null}onAwake(){this.lwgOnAwake()}ImgChild(e){return this._Owner.getChildByName(e)?this._Owner.getChildByName(e):void console.log("场景内不存在子节点：",e)}lwgOpenScene(t,a,n,r){let o;null!=a&&1!=a||(o=this._Scene.name),e._openScene(t,o,n,r)}lwgCloseScene(t,a){e._closeScene(t||this._Owner.name,a)}lwgOnAwake(){}onEnable(){this.lwgBtnClick(),this.lwgEventRegister(),this.lwgOnEnable()}lwgOnEnable(){}lwgBtnClick(){}lwgEventRegister(){}onStart(){this.lwgOnStart()}lwgOnStart(){}onUpdate(){this.lwgOnUpdate()}lwgOnUpdate(){}onDisable(){this.lwgOnDisable(),Laya.timer.clearAll(this),s._offCaller(this)}lwgOnDisable(){}}}(d=e.Admin||(e.Admin={})),function(e){e.RGBToHexString=function(e,t,a){return"#"+("00000"+(e<<16|t<<8|a).toString(16)).slice(-6)},e.HexStringToRGB=function(e){return[]},e._colour=function(e,t,a){let n=new Laya.ColorFilter;return e.blendMode="null",t?n.color(t[0],t[1],t[2],t[3]):n.color(L.randomOneNumber(255,100,!0),L.randomOneNumber(255,100,!0),L.randomOneNumber(255,100,!0),1),e.filters=[n],a&&Laya.timer.once(a,this,()=>{for(let t=0;t<e.filters.length;t++)if(e.filters[t]==n){e.filters=[];break}}),n},e._changeOnce=function(e,t,a,n){if(!e)return;let r=new Laya.ColorFilter;r.color(0,0,0,0);let o=t[0]/a,l=t[1]/a,i=t[2]/a,s=0;t[3]&&(s=t[3]/a);let c={add:!0},d=0,h=0,m=0,y=0;u._frameLoop(1,c,()=>{d<t[0]&&c.add?(h+=l,m+=i,0!==s&&(y+=s),(d+=o)>=t[0]&&(c.add=!1)):(h-=l,m-=i,0!==s&&(y-=s),(d-=o)<=0&&(n&&n(),Laya.timer.clearAll(c))),r.color(d,h,m,y),e.filters=[r]})},e._changeConstant=function(e,t,a,n){let r,o=[];e.filters?(r=e.filters[0],o=[e.filters[0]._alpha[0],e.filters[0]._alpha[1],e.filters[0]._alpha[2],e.filters[0]._alpha[3]?e.filters[0]._alpha[3]:1]):((r=new Laya.ColorFilter).color(t[0],t[1],t[2],t[3]?t[3]:1),o=[t[0],t[1],t[2],t[3]?t[3]:1],e.filters=[r]);let l=[L.randomCountNumer(t[0],a[0])[0],L.randomCountNumer(t[1],a[1])[0],L.randomCountNumer(t[2],a[2])[0],L.randomCountNumer(t[3]?t[3]:1,a[3]?a[3]:1)[0]],i=(l[0]-o[0])/n,s=(l[1]-o[1])/n,c=(l[2]-o[2])/n,d=0;l[3]&&(d=(l[3]-o[3])/n),e.changeCaller&&Laya.timer.clearAll(e.changeCaller);let h={};e.changeCaller=h;let m=0;u._frameLoop(1,h,()=>{++m<=n?(o[0]+=i,o[1]+=s,o[2]+=c):Laya.timer.clearAll(h),r.color(o[0],o[1],o[2],o[3]),e.filters=[r]})}}(h=e.Color||(e.Color={})),function(e){let t,a,n,r,o;!function(e){e["爱心1"]="Frame/Effects/aixin1.png",e["爱心2"]="Frame/Effects/aixin2.png",e["爱心3"]="Frame/Effects/aixin3.png",e["花1"]="Frame/Effects/hua1.png",e["花2"]="Frame/Effects/hua2.png",e["花3"]="Frame/Effects/hua3.png",e["花4"]="Frame/Effects/hua4.png",e["星星1"]="Frame/Effects/star1.png",e["星星2"]="Frame/Effects/star2.png",e["星星3"]="Frame/Effects/star3.png",e["星星4"]="Frame/Effects/star4.png",e["星星5"]="Frame/Effects/star5.png",e["星星6"]="Frame/Effects/star6.png",e["星星7"]="Frame/Effects/star7.png",e["雪花1"]="Frame/Effects/xuehua1.png",e["叶子1"]="Frame/Effects/yezi1.png",e["圆形发光1"]="Frame/Effects/yuanfaguang.png",e["圆形1"]="Frame/Effects/yuan1.png",e["光圈1"]="Frame/Effects/guangquan1.png",e["光圈2"]="Frame/Effects/guangquan2.png"}(t=e._SkinUrl||(e._SkinUrl={})),function(e){class a extends Laya.Image{constructor(e,a,n,r,o,l,i,s){if(super(),!e.parent)return;e.addChild(this),a?this.pos(a.x,a.y):this.pos(0,0),this.width=n||100,this.height=r||100,this.pivotX=this.width/2,this.pivotY=this.height/2,this.rotation=o?L.randomOneNumber(o[0],o[1]):L.randomOneNumber(360),this.skin=l?L.arrayRandomGetOne(l):t.花3,this.zOrder=s||0,this.alpha=0;let c=[];c[0]=i?L.randomOneNumber(i[0][0],i[1][0]):L.randomOneNumber(0,255),c[1]=i?L.randomOneNumber(i[0][1],i[1][1]):L.randomOneNumber(0,255),c[2]=i?L.randomOneNumber(i[0][2],i[1][2]):L.randomOneNumber(0,255),c[3]=i?L.randomOneNumber(i[0][3],i[1][3]):L.randomOneNumber(0,255),h._colour(this,c)}}e._ApertureImage=a,e._continuous=function(e,t,n,r,o,l,i,s,c,d,h){let m=new a(e,t,n,r,o,l,i,s),y=d?L.randomOneNumber(d[0],d[1]):.025,g=h?L.randomOneNumber(h[0],h[1]):5e-4,p=c?L.randomOneNumber(c[0],c[1]):2,_={alpha:!0,scale:!1,vanish:!1};m.moveCaller=_;let f=0;u._frameLoop(1,_,()=>{_.alpha?(m.alpha+=.05,f=0,m.alpha>=1&&(_.alpha=!1,_.scale=!0)):_.scale?(f+=g,m.scaleX>p&&(_.scale=!1,_.vanish=!0)):_.vanish&&(f-=g)<0&&(m.alpha-=.015,m.alpha<=0&&(m.removeSelf(),Laya.timer.clearAll(_))),m.scaleX=m.scaleY+=y+f})}}(a=e._Aperture||(e._Aperture={})),function(e){class a extends Laya.Image{constructor(e,a,n,r,o,l,i,s,c){super(),e.addChild(this);let u=n?L.randomOneNumber(n[0]):L.randomOneNumber(200),d=n?L.randomOneNumber(n[1]):L.randomOneNumber(50);u=0==L.randomOneHalf()?u:-u,d=0==L.randomOneHalf()?d:-d,this.x=a?a.x+u:u,this.y=a?a.y+d:d,this.width=r?L.randomOneNumber(r[0],r[1]):L.randomOneNumber(20,50),this.height=o?L.randomOneNumber(o[0],o[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2,this.skin=i?L.arrayRandomGetOne(i):t.圆形1,this.rotation=l?L.randomOneNumber(l[0],l[1]):0,this.alpha=0,this.zOrder=c||0;let m=[];m[0]=s?L.randomOneNumber(s[0][0],s[1][0]):L.randomOneNumber(0,255),m[1]=s?L.randomOneNumber(s[0][1],s[1][1]):L.randomOneNumber(0,255),m[2]=s?L.randomOneNumber(s[0][2],s[1][2]):L.randomOneNumber(0,255),m[3]=s?L.randomOneNumber(s[0][3],s[1][3]):L.randomOneNumber(0,255),h._colour(this,m)}}e._ParticleImgBase=a,e._snow=function(e,t,n,r,o,l,i,s,c,d,h,m,y){let g=new a(e,t,n,r,o,l,i,s,c),p=h?L.randomOneNumber(h[0],h[1]):L.randomOneNumber(0,1);p=0==L.randomOneHalf()?p:-p;let _=m?L.randomOneNumber(m[0],m[1]):L.randomOneNumber(1,2.5),f=y?L.randomOneNumber(y[0],y[1]):0,w={alpha:!0,move:!1,vinish:!1};g.moveCaller=w;let S=0,O=d?L.randomOneNumber(d[0],d[1]):L.randomOneNumber(100,300);return u._frameLoop(1,w,()=>{g.x+=f,g.rotation+=p,g.alpha<1&&w.alpha&&(g.alpha+=.05,S=g.y++,g.alpha>=1&&(w.alpha=!1,w.move=!0)),S<O&&w.move&&(S=g.y+=_)>=O&&(w.move=!1,w.vinish=!0),w.vinish&&(g.alpha-=.03,g.y+=_,(g.alpha<=0||_<=0)&&(g.removeSelf(),Laya.timer.clearAll(w)))}),g},e._fallingVertical=function(e,t,n,r,o,l,i,s,c,d,h,m){let y=new a(e,t,n,r,o,l,i,s,c),g=h?L.randomOneNumber(h[0],h[1]):L.randomOneNumber(4,8),p=m?L.randomOneNumber(m[0],m[1]):L.randomOneNumber(.25,.45),_=0,f={alpha:!0,move:!1,vinish:!1};y.moveCaller=f;let w=0,S=d?L.randomOneNumber(d[0],d[1]):L.randomOneNumber(100,300);return u._frameLoop(1,f,()=>{y.alpha<1&&f.alpha&&(y.alpha+=.05,w=y.y++,y.alpha>=1&&(f.alpha=!1,f.move=!0)),w<S&&f.move&&(_+=p,(w=y.y+=g+_)>=S&&(f.move=!1,f.vinish=!0)),f.vinish&&(_-=p/2,y.alpha-=.03,y.y+=g+_,(y.alpha<=0||g+_<=0)&&(y.removeSelf(),Laya.timer.clearAll(f)))}),y},e._slowlyUp=function(e,t,n,r,o,l,i,s,c,d,h,m){let y=new a(e,t,n,r,o,l,i,s,c),g=h?L.randomOneNumber(h[0],h[1]):L.randomOneNumber(1.5,2),p=m?L.randomOneNumber(m[0],m[1]):L.randomOneNumber(.001,.005),_=0,f={alpha:!0,move:!1,vinish:!1};y.moveCaller=f;let w=y.y,S=0,O=d?L.randomOneNumber(d[0],d[1]):L.randomOneNumber(-250,-600);return u._frameLoop(1,f,()=>{y.alpha<1&&f.alpha&&(y.alpha+=.03,y.alpha>=1&&(f.alpha=!1,f.move=!0)),S>O&&f.move||(f.move=!1,f.vinish=!0),f.vinish&&(y.alpha-=.02,y.scaleX-=.005,y.scaleY-=.005,y.alpha<=0&&(y.removeSelf(),Laya.timer.clearAll(f))),_+=p,y.y-=g+_,S=w-y.y}),y},e._spray=function(e,t,n,r,o,l,i,s,c,d,h,m,y,g){let p=new a(e,t,[0,0],r,o,l,i,s,c),_=t||new Laya.Point(0,0),f=y?L.randomOneNumber(y[0],y[1]):L.randomOneNumber(3,10),w=g?L.randomOneNumber(g[0],g[1]):L.randomOneNumber(.25,.45),S=0,O={alpha:!0,move:!1,vinish:!1};p.moveCaller=O;let b=0,k=h?L.randomOneNumber(h[0],h[1]):L.randomOneNumber(100,200),v=d?L.randomOneNumber(d[0],d[1]):L.randomOneNumber(0,360),C=m?L.randomOneNumber(m[0],m[1]):L.randomOneNumber(0,20);return u._frameLoop(1,O,()=>{if(p.rotation+=C,p.alpha<1&&O.alpha)p.alpha+=.5,p.alpha>=1&&(O.alpha=!1,O.move=!0);else{b<k&&O.move||(O.move=!1,O.vinish=!0),O.vinish&&(p.alpha-=.05,p.alpha<=.3&&(p.removeSelf(),Laya.timer.clearAll(O))),b+=f+(S+=w);let e=L.Point.getRoundPos(v,b,_);p.pos(e.x,e.y)}}),p},e._outsideBox=function(e,t,n,r,o,l,i,s,c,d,h,m,y,g){let p=new a(e,t,[0,0],r,o,l,i,s,c),_=0;n=n||[100,100],d=d||60,"x"==(0==L.randomOneHalf()?"x":"y")?(0==L.randomOneHalf()?(p.x+=n[0],_=0==L.randomOneHalf()?L.randomOneNumber(0,90-d):L.randomOneNumber(0,-90+d)):(p.x-=n[0],_=L.randomOneNumber(90+d,270-d)),p.y+=L.randomOneNumber(-n[1],n[1])):(0==L.randomOneHalf()?(p.y-=n[1],_=L.randomOneNumber(180+d,360-d)):(p.y+=n[1],_=L.randomOneNumber(0+d,180-d)),p.x+=L.randomOneNumber(-n[0],n[0]));let f=L.d2_angle_Vector(_),w=h?L.randomOneNumber(h[0],h[1]):L.randomOneNumber(20,50),S=y?L.randomOneNumber(y[0],y[1]):L.randomOneNumber(.5,1),O=g?L.randomOneNumber(g[0],g[1]):L.randomOneNumber(.25,.45),b=0,k=m?L.randomOneNumber(m[0],m[1]):L.randomOneNumber(0,20),v=new Laya.Point(p.x,p.y),C={alpha:!0,move:!1,vinish:!1};return p.moveCaller=C,u._frameLoop(1,C,()=>{p.rotation+=k,C.alpha?(p.alpha+=.5,p.alpha>=1&&(C.alpha=!1,C.move=!0)):C.move?v.distance(p.x,p.y)>=w&&(C.move=!1,C.vinish=!0):C.vinish&&(p.alpha-=.05,p.alpha<=.3&&(p.removeSelf(),Laya.timer.clearAll(C))),C.alpha||(b+=O,p.x+=f.x*(S+b),p.y+=f.y*(S+b))}),p},e._moveToTargetToMove=function(e,t,n,r,o,l,i,s,c,d,h,m,y,g){let p=new a(e,t,[0,0],n,r,o,i,s,c),_=t||new Laya.Point(0,0),f=y?L.randomOneNumber(y[0],y[1]):L.randomOneNumber(5,6),w=g?L.randomOneNumber(g[0],g[1]):L.randomOneNumber(.25,.45),S=0,O={alpha:!0,move1:!1,stop:!1,move2:!1,vinish:!1};p.moveCaller=O;let b=0,k=d?L.randomOneNumber(d[0],d[1]):L.randomOneNumber(100,200),v=h?L.randomOneNumber(h[0],h[1]):L.randomOneNumber(100,200),C=l?L.randomOneNumber(l[0],l[1]):L.randomOneNumber(0,360);return p.rotation=C-90,m?L.randomOneNumber(m[0],m[1]):L.randomOneNumber(0,20),u._frameLoop(1,O,()=>{O.alpha?(b+=f+(S+=w),p.alpha+=.5,p.alpha>=1&&(O.alpha=!1,O.move1=!0)):O.move1?(b+=f+(S+=w))>=k&&(O.move1=!1,O.stop=!0):O.stop?(b+=.1,(S-=.3)<=0&&(O.stop=!1,O.move2=!0)):O.move2?(b+=f+(S+=w/2))>=k+v&&(O.move2=!1,O.vinish=!0):O.vinish&&(b+=.5,p.alpha-=.05,p.alpha<=0&&(p.removeSelf(),Laya.timer.clearAll(O)));let e=L.Point.getRoundPos(C,b,_);p.pos(e.x,e.y)}),p},e._AnnularInhalation=function(e,a,n,r,o,l,i,s,c,d){let h=new Laya.Image;e.addChild(h),o=o||[25,50],h.width=L.randomCountNumer(o[0],o[1])[0],h.height=l?L.randomCountNumer(l[0],l[1])[0]:h.width,h.pivotX=h.width/2,h.pivotY=h.height/2,h.skin=i?L.arrayRandomGetOut(i)[0]:t[L.randomCountNumer(0,12)[0]];let m=L.randomCountNumer(n[0],n[1])[0];h.alpha=0;let y=s?L.randomCountNumer(s[0],s[1])[0]:L.randomCountNumer(5,10)[0],g=r?L.randomCountNumer(r[0],r[1])[0]:L.randomCountNumer(0,360)[0],p={},_=0;return c=c||.35,u._frameLoop(1,p,()=>{h.alpha<1?(h.alpha+=.05,m-=y/2+(_+=c/5)):m-=y+(_+=c);let e=L.Point.getRoundPos(g,m,a);h.pos(e.x,e.y),(e.distance(a.x,a.y)<=20||e.distance(a.x,a.y)>=1e3)&&(h.removeSelf(),Laya.timer.clearAll(p))}),h}}(n=e._Particle||(e._Particle={})),function(e){class a extends Laya.Image{constructor(e,a,n,r,o,l,i){if(super(),!e.parent)return;e.addChild(this),this.skin=r?L.arrayRandomGetOne(r):t.星星1,this.width=l?L.randomOneNumber(l[0],l[1]):80,this.height=i?L.randomOneNumber(i[0],i[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2;let s=n?L.Point.randomPointByCenter(a,n[0],n[1],1):L.Point.randomPointByCenter(a,100,100,1);this.pos(s[0].x,s[0].y);let c=[];c[0]=o?L.randomOneNumber(o[0][0],o[1][0]):L.randomOneNumber(0,255),c[1]=o?L.randomOneNumber(o[0][1],o[1][1]):L.randomOneNumber(0,255),c[2]=o?L.randomOneNumber(o[0][2],o[1][2]):L.randomOneNumber(0,255),c[3]=o?L.randomOneNumber(o[0][3],o[1][3]):L.randomOneNumber(0,255),h._colour(this,c),this.alpha=0}}e._GlitterImage=a,e._blinkStar=function(e,t,n,r,o,l,i,s,c,u){let d=new a(e,t,n,r,o,l,i);d.scaleX=0,d.scaleY=0;let h=s?L.randomOneNumber(s[0],s[1]):L.randomOneNumber(.8,1.2),m=c?L.randomOneNumber(c[0],c[1]):L.randomOneNumber(.01,.02),y=u?L.randomOneInt(u[0],u[1]):L.randomOneInt(0,5);y=0==L.randomOneHalf()?-y:y;let g={appear:!0,scale:!1,vanish:!1};return d.moveCaller=g,Laya.timer.frameLoop(1,g,()=>{g.appear?(d.alpha+=.1,d.rotation+=y,d.scaleX=d.scaleY+=m,d.alpha>=1&&(g.appear=!1,g.scale=!0)):g.scale?(d.rotation+=y,d.scaleX=d.scaleY+=m,d.scaleX>h&&(g.scale=!1,g.vanish=!0)):g.vanish&&(d.rotation-=y,d.alpha-=.015,d.scaleX-=.01,d.scaleY-=.01,d.scaleX<=0&&(d.removeSelf(),Laya.timer.clearAll(g)))}),d},e._simpleInfinite=function(e,a,n,r,o,l,i,s){let c=new Laya.Image;e.addChild(c),c.width=r,c.height=o,c.pos(a,n),c.skin=i||t.光圈1,c.alpha=0,c.zOrder=l||0;let u=!0,d={};return Laya.timer.frameLoop(1,d,()=>{u?(c.alpha+=s?2*s:.02,c.alpha>=1&&(u=!1,d.end=!0)):(c.alpha-=s||.01,c.alpha<=0&&(d.end?(Laya.timer.clearAll(d),c.removeSelf()):u=!0))}),c}}(r=e._Glitter||(e._Glitter={})),function(e){class a extends Laya.Image{constructor(e,a,n,r,o,l){super(),e.addChild(this),this.skin=a?L.arrayRandomGetOne(a):t.圆形发光1,this.width=r?L.randomOneNumber(r[0],r[1]):80,this.height=o?L.randomOneNumber(o[0],o[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2;let i=[];i[0]=n?L.randomOneNumber(n[0][0],n[1][0]):L.randomOneNumber(0,255),i[1]=n?L.randomOneNumber(n[0][1],n[1][1]):L.randomOneNumber(0,255),i[2]=n?L.randomOneNumber(n[0][2],n[1][2]):L.randomOneNumber(0,255),i[3]=n?L.randomOneNumber(n[0][3],n[1][3]):L.randomOneNumber(0,255),h._colour(this,i),this.zOrder=l||0,this.alpha=0,this.scaleX=0,this.scaleY=0}}e._circulationImage=a,e._corner=function(e,t,n,r,o,l,i,s,c){if(t.length<=1)return;let d=new a(e,n,r,o,l,i);new a(e,n,r,o,l,i).filters=d.filters,d.pos(t[0][0],t[0][1]),d.alpha=1;let h={num:0,alpha:!0,move:!1};d.moveCaller=h;let m=0;d.scale(1,1),u._frameLoop(1,h,()=>{let t=new a(e,n,r,o,l,i);t.filters=d.filters,t.x=d.x,t.y=d.y,t.rotation=d.rotation,t.alpha=1,t.zOrder=-1,t.scaleX=d.scaleX,t.scaleY=d.scaleY,p.fadeOut(t,1,0,200,0,()=>{t.removeSelf()}),null==d.parent&&Laya.timer.clearAll(h),h.num++,n&&(h.num>n.length?h.num=0:d.skin=n[h.num])});var y=()=>{let e=[t[m][0],t[m][1]],a=new Laya.Point(d.x,d.y).distance(e[0],e[1]);s&&(d.rotation=L.d2_Vector_Angle(d.x-e[0],d.y-e[1])+180);let n=100*c+a/5;m==t.length+1&&(e=[t[0][0],t[0][1]]),p.move_Simple(d,d.x,d.y,e[0],e[1],n,0,()=>{++m==t.length&&(m=0),y()})};return y(),d}}(o=e._circulation||(e._circulation={}))}(m=e.Effects||(e.Effects={})),function(e){let t;e._createButton=function(){new Laya.Sprite,new Laya.Image,new Laya.Label},function(e){e.noEffect="noEffect",e.largen="largen",e.balloon="balloon",e.beetle="beetle"}(t=e._Type||(e._Type={})),e._on=function(e,a,n,r,o,l,i){let s;switch(e){case t.noEffect:s=new I;break;case t.largen:s=new B;break;case t.balloon:s=new H;break;case t.balloon:s=new M;break;default:s=new B}a.on(Laya.Event.MOUSE_DOWN,n,r),a.on(Laya.Event.MOUSE_MOVE,n,o),a.on(Laya.Event.MOUSE_UP,n,l),a.on(Laya.Event.MOUSE_OUT,n,i),a.on(Laya.Event.MOUSE_DOWN,n,s.down),a.on(Laya.Event.MOUSE_MOVE,n,s.move),a.on(Laya.Event.MOUSE_UP,n,s.up),a.on(Laya.Event.MOUSE_OUT,n,s.out)},e._off=function(e,a,n,r,o,l,i){let s;switch(e){case t.noEffect:s=new I;break;case t.largen:s=new B;break;case t.balloon:s=new H;break;case t.balloon:s=new M;break;default:s=new B}a._off(Laya.Event.MOUSE_DOWN,n,r),a._off(Laya.Event.MOUSE_MOVE,n,o),a._off(Laya.Event.MOUSE_UP,n,l),a._off(Laya.Event.MOUSE_OUT,n,i),a._off(Laya.Event.MOUSE_DOWN,n,s.down),a._off(Laya.Event.MOUSE_MOVE,n,s.move),a._off(Laya.Event.MOUSE_UP,n,s.up),a._off(Laya.Event.MOUSE_OUT,n,s.out)}}(y=e.Click||(e.Click={}));class I{constructor(){}down(e){}move(e){}up(e){}out(e){}}e.Btn_NoEffect=I;class B{constructor(){}down(e){e.currentTarget.scale(1.1,1.1),f.playSound(y._audioUrl)}move(e){}up(e){e.currentTarget.scale(1,1)}out(e){e.currentTarget.scale(1,1)}}e.Btn_LargenEffect=B;class H{constructor(){}down(e){e.currentTarget.scale(y._balloonScale+.06,y._balloonScale+.06),f.playSound(y._audioUrl)}up(e){e.currentTarget.scale(y._balloonScale,y._balloonScale)}move(e){e.currentTarget.scale(y._balloonScale,y._balloonScale)}out(e){e.currentTarget.scale(y._balloonScale,y._balloonScale)}}e.Btn_Balloon=H;class M{constructor(){}down(e){e.currentTarget.scale(y._beetleScale+.06,y._beetleScale+.06),f.playSound(y._audioUrl)}up(e){e.currentTarget.scale(y._beetleScale,y._beetleScale)}move(e){e.currentTarget.scale(y._beetleScale,y._beetleScale)}out(e){e.currentTarget.scale(y._beetleScale,y._beetleScale)}}e.Btn_Beetle=M,function(e){function moveTo(t,a,n,r,o,l,i=0,s=!0,c,u){let d=t.transform.position.clone();if(0==n||null==n)return t.transform.position=a.clone(),void(l&&l.apply(r));(u<=0||null==u)&&(u=e.frameRate);let h=function(){t.transform&&(t.transform.position=d),c&&c()};Laya.timer.once(i,t,function(){Laya.timer.frameLoop(u,t,h)});let m=Laya.Tween.to(d,{x:a.x,y:a.y,z:a.z},n,o,Laya.Handler.create(t,function(){t.transform&&(t.transform.position=a.clone(),Laya.timer.clear(t,h)),l&&l.apply(r)}),i,s);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(m)}function rotateTo(t,a,n,r,o,l,i,s,c,u){let d=t.transform.localRotationEuler.clone();if(0==n||null==n)return t.transform.localRotationEuler=a.clone(),void(l&&l.apply(r));(u<=0||null==u)&&(u=e.frameRate);let h=function(){t.transform&&(t.transform.localRotationEuler=d),c&&c()};Laya.timer.once(i,t,function(){Laya.timer.frameLoop(u,t,h)});let m=Laya.Tween.to(d,{x:a.x,y:a.y,z:a.z},n,o,Laya.Handler.create(t,function(){t.transform&&(t.transform.localRotationEuler=a.clone(),Laya.timer.clear(t,h)),l&&l.apply(r)}),i,s);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(m)}e.tweenMap={},e.frameRate=1,e.moveTo=moveTo,e.rotateTo=rotateTo,e.scaleTo=function(t,a,n,r,o,l,i,s,c,u){let d=t.transform.localScale.clone();if(0==n||null==n)return t.transform.localScale=a.clone(),void(l&&l.apply(r));(u<=0||null==u)&&(u=e.frameRate);let h=function(){t.transform.localScale=d.clone(),c&&c()};Laya.timer.once(i,this,function(){Laya.timer.frameLoop(u,t,h)});let m=Laya.Tween.to(d,{x:a.x,y:a.y,z:a.z},n,o,Laya.Handler.create(t,function(){t.transform.localScale=a.clone(),Laya.timer.clear(t,h),l&&l.apply(r)}),i,s);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(m)},e.ClearTween=function(t){let a=e.tweenMap[t.id];if(a&&a.length)for(;a.length>0;)a.pop().clear();Laya.timer.clearAll(t)},e.rock=function(e,t,a,n,r,o,l){o||(o=0);let i=new Laya.Vector3(e.transform.localRotationEulerX+t.x,e.transform.localRotationEulerY+t.y,e.transform.localRotationEulerZ+t.z);rotateTo(e,i,a/2,n,l,()=>{let o=new Laya.Vector3(e.transform.localRotationEulerX-2*t.x,e.transform.localRotationEulerY-2*t.y,e.transform.localRotationEulerZ-2*t.z);rotateTo(e,o,a,n,l,()=>{let o=new Laya.Vector3(e.transform.localRotationEulerX+t.x,e.transform.localRotationEulerY+t.y,e.transform.localRotationEulerZ+t.z);rotateTo(e,o,a/2,n,l,()=>{r&&r()})})},o)},e.moveRotateTo=function(e,t,a,n,r,o,l,i,s,c){moveTo(e,t.transform.position,a,n,r,null,l,i,s,c),rotateTo(e,t.transform.localRotationEuler,a,n,r,o,l,i,null,c)}}(g=e.Animation3D||(e.Animation3D={})),function(e){function bombs_Appear(e,t,a,n,r,o,l,i,s){e.scale(0,0),e.alpha=t,Laya.Tween.to(e,{scaleX:n,scaleY:n,alpha:1,rotation:r},o,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a,scaleY:a,rotation:0},l,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a+.2*(n-a),scaleY:a+.2*(n-a),rotation:0},l,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a,scaleY:a,rotation:0},l,null,Laya.Handler.create(this,function(){s&&s()}),0)}),0)}),0)}),i||0)}function bombs_Vanish(e,t,a,n,r,o,l){Laya.Tween.to(e,{scaleX:t,scaleY:t,alpha:a,rotation:n},r,Laya.Ease.cubicOut,Laya.Handler.create(this,function(){l&&l()}),o||0)}e.circulation_scale=function(e,t,a,n,r){Laya.Tween.to(e,{scaleX:1+t,scaleY:1+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1-t,scaleY:1-t},a/2,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1},a/2,null,Laya.Handler.create(this,function(){r&&r()}),0)}),0)}),n||0)},e.leftRight_Shake=function(e,t,a,n,r,o){n||(n=0),o||(d._clickLock.switch=!0),Laya.Tween.to(e,{x:e.x-t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x+2*t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x-t},a,null,Laya.Handler.create(this,function(){r&&r(),o||(d._clickLock.switch=!1)}))}))}),n)},e.simple_Rotate=function(e,t,a,n,r,o){e.rotation=t,r||(r=0),Laya.Tween.to(e,{rotation:a},n,null,Laya.Handler.create(this,function(){o&&o()}),r)},e.upDown_Overturn=function(e,t,a){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,function(){null===a&&void 0===a||a()}),0)}),0)}),0)}),0)},e.leftRight_Overturn=function(e,t,a){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},t,null,Laya.Handler.create(this,function(){}),0),null!==a&&a()}),0)}),0)}),0)},e.upDwon_Shake=function(e,t,a,n,r){Laya.Tween.to(e,{y:e.y+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y-2*t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y+t},a,null,Laya.Handler.create(this,function(){null!==r&&r()}))}))}),n)},e.fadeOut=function(e,t,a,n,r,o,l){e.alpha=t,l&&(d._clickLock.switch=!0),Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){o&&o(),l&&(d._clickLock.switch=!1)}),r||0)},e.fadeOut_KickBack=function(e,t,a,n,r,o){e.alpha=t,Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){null!==o&&o()}),r)},e.move_FadeOut=function(e,t,a,n,r,o,l,i){e.alpha=0,e.x=t,e.y=a,Laya.Tween.to(e,{alpha:1,x:n,y:r},o,null,Laya.Handler.create(this,function(){null!==i&&i()}),l)},e.move_Fade_Out=function(e,t,a,n,r,o,l,i){e.alpha=1,e.x=t,e.y=a,Laya.Tween.to(e,{alpha:0,x:n,y:r},o,null,Laya.Handler.create(this,function(){null!==i&&i()}),l)},e.move_FadeOut_Scale_01=function(e,t,a,n,r,o,l,i){e.alpha=0,e.targetX=0,e.targetY=0,e.x=t,e.y=a,Laya.Tween.to(e,{alpha:1,x:n,y:r,scaleX:1,scaleY:1},o,null,Laya.Handler.create(this,function(){null!==i&&i()}),l)},e.move_Scale=function(e,t,a,n,r,o,l,i,s,c,u){e.scaleX=t,e.scaleY=t,e.x=a,e.y=n,Laya.Tween.to(e,{x:r,y:o,scaleX:l,scaleY:l},i,c?null:c,Laya.Handler.create(this,function(){u&&u()}),s||0)},e.rotate_Scale=function(e,t,a,n,r,o,l,i,s,c){e.scaleX=a,e.scaleY=n,e.rotation=t,Laya.Tween.to(e,{rotation:r,scaleX:o,scaleY:l},i,null,Laya.Handler.create(this,()=>{c&&c(),e.rotation=0}),s||0)},e.drop_Simple=function(e,t,a,n,r,o,l){e.y=t,Laya.Tween.to(e,{y:a,rotation:n},r,Laya.Ease.circOut,Laya.Handler.create(this,function(){null!==l&&l()}),o)},e.drop_KickBack=function(e,t,a,n,r,o,l,i){e.alpha=t,e.y=a,l||(l=0),Laya.Tween.to(e,{alpha:1,y:n+r},o,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:n-r/2},o/2,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:n},o/4,null,Laya.Handler.create(this,function(){i&&i()}),0)}),0)}),l)},e.drop_Excursion=function(e,t,a,n,r,o,l){Laya.Tween.to(e,{x:e.x+a,y:e.y+1*t/6},r,Laya.Ease.expoIn,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x+a+50,y:t,rotation:n},r,null,Laya.Handler.create(this,function(){null!==l&&l()}),0)}),o)},e.goUp_Simple=function(e,t,a,n,r,o,l){e.y=t,e.rotation=a,Laya.Tween.to(e,{y:n,rotation:0},r,Laya.Ease.cubicOut,Laya.Handler.create(this,function(){null!==l&&l()}),o)},e.cardRotateX_TowFace=function(e,t,a,n,r){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,function(){L.Node.childrenVisible2D(e,!1),a&&a(),Laya.Tween.to(e,{scaleX:1},.9*t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:0},.8*t,null,Laya.Handler.create(this,function(){L.Node.childrenVisible2D(e,!0),Laya.Tween.to(e,{scaleX:1},.7*t,null,Laya.Handler.create(this,function(){r&&r()}),0)}),0)}),0)}),n)},e.cardRotateX_OneFace=function(e,t,a,n,r){Laya.Tween.to(e,{scaleX:0},a,null,Laya.Handler.create(this,function(){null!==t&&t(),Laya.Tween.to(e,{scaleX:1},a,null,Laya.Handler.create(this,function(){null!==r&&r()}),0)}),n)},e.cardRotateY_TowFace=function(e,t,a,n,r){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){L.Node.childrenVisible2D(e,!1),a&&a(),Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},1*t/2,null,Laya.Handler.create(this,function(){L.Node.childrenVisible2D(e,!0),r&&r()}),0)}),0)}),0)}),n)},e.cardRotateY_OneFace=function(e,t,a,n,r){Laya.Tween.to(e,{scaleY:0},a,null,Laya.Handler.create(this,function(){t&&t(),Laya.Tween.to(e,{scaleY:1},a,null,Laya.Handler.create(this,function(){r&&r()}),0)}),n||0)},e.move_changeRotate=function(e,t,a,n,r,o,l){let i=t*n+e.x*(1-n),s=a*n+e.y*(1-n);Laya.Tween.to(e,{x:i,y:s,rotation:45},o,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:t,y:a,rotation:0},o,null,Laya.Handler.create(this,function(){null!==l&&l()}),0)}),0)},e.bomb_LeftRight=function(e,t,a,n,r){Laya.Tween.to(e,{scaleX:t},a,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:.85},.5*a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:.9*t},.55*a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:.95},.6*a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},.65*a,null,Laya.Handler.create(this,function(){n&&n()}),0)}),0)}),0)}),0)}),r)},e.bombs_Appear=bombs_Appear,e.bombs_AppearAllChild=function(e,t,a,n,r,o,l,i,s,c){let u=0;i||(i=100);for(let c=0;c<e.numChildren;c++){let d=e.getChildAt(c);d.alpha=0,Laya.timer.once(u,this,()=>{d.alpha=1,e.numChildren,bombs_Appear(d,t,a,n,r,o,l,null,s)}),u+=i}},e.bombs_VanishAllChild=function(e,t,a,n,r,o,l){let i=0;o||(o=100);for(let s=0;s<e.numChildren;s++)e.getChildAt(s),Laya.timer.once(i,this,()=>{e.numChildren,bombs_Vanish(e,t,a,n,r,0,l)}),i+=o},e.bombs_Vanish=bombs_Vanish,e.swell_shrink=function(e,t,a,n,r,o){r||(r=0),Laya.Tween.to(e,{scaleX:a,scaleY:a,alpha:1},n,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t,scaleY:t,rotation:0},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t+.5*(a-t),scaleY:t+.5*(a-t),rotation:0},.5*n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t,scaleY:t,rotation:0},n,null,Laya.Handler.create(this,function(){o&&o()}),0)}),0)}),0)}),r)},e.move_Simple=function(e,t,a,n,r,o,l,i,s){e.x=t,e.y=a,Laya.Tween.to(e,{x:n,y:r},o,s||null,Laya.Handler.create(this,function(){i&&i()}),l||0)},e.move_Deform_X=function(e,t,a,n,r,o,l,i,s){e.alpha=0,e.x=t,e.rotation=a,Laya.Tween.to(e,{x:n,scaleX:1+r,scaleY:1+o,rotation:a/3,alpha:1},l,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1,rotation:0},l,null,Laya.Handler.create(this,function(){null!==s&&s()}),0)}),i)},e.move_Deform_Y=function(e,t,a,n,r,o,l,i,s){e.alpha=0,t&&(e.y=t),e.rotation=a,Laya.Tween.to(e,{y:n,scaleX:1+r,scaleY:1+o,rotation:a/3,alpha:1},l,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1,rotation:0},l,null,Laya.Handler.create(this,function(){null!==s&&s()}),0)}),i)},e.blink_FadeOut_v=function(e,t,a,n,r,o){e.alpha=t,Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:t},n,null,Laya.Handler.create(this,function(){null!==o&&o()}),0)}),r)},e.blink_FadeOut=function(e,t,a,n,r,o){e.alpha=t,r||(r=0),Laya.Tween.to(e,{alpha:t},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){o&&o()}),0)}),r)},e.shookHead_Simple=function(e,t,a,n,r){let o=e.rotation;Laya.Tween.to(e,{rotation:o+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:o-2*t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:o+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:o},a,null,Laya.Handler.create(this,function(){r&&r()}),0)}),0)}),0)}),n||0)},e.HintAni_01=function(e,t,a,n,r,o,l){e.alpha=0,Laya.Tween.to(e,{alpha:1,y:e.y-t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y-15},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:0,y:e.y+t+r},o,null,Laya.Handler.create(this,function(){null!==l&&l()}),0)}),0)}),0)},e.scale_Alpha=function(e,t,a,n,r,o,l,i,s,c,u){s||(s=0),s||(u=null),e.alpha=t,e.scaleX=a,e.scaleY=n,Laya.Tween.to(e,{scaleX:r,scaleY:o,alpha:l},i,u,Laya.Handler.create(this,function(){c&&c()}),s)},e.rotate_Magnify_KickBack=function(e,t,a,n,r,o,l,i){e.alpha=0,e.scaleX=0,e.scaleY=0,Laya.Tween.to(e,{alpha:1,rotation:360+t,scaleX:1+a,scaleY:1+a},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360-t/2,scaleX:1+a/2,scaleY:1+a/2},r,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360+t/3,scaleX:1+a/5,scaleY:1+a/5},r,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360,scaleX:1,scaleY:1},r,null,Laya.Handler.create(this,function(){e.rotation=0,null!==i&&i()}),0)}),l)}),0)}),o)}}(p=e.Animation2D||(e.Animation2D={})),function(e){e._sound={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting_sound")},set switch(e){let t;t=e?1:0,Laya.LocalStorage.setItem("Setting_sound",t.toString())}},e._bgMusic={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting_bgMusic")},set switch(e){let t;e?(t=1,Laya.LocalStorage.setItem("Setting_bgMusic",t.toString()),f.playMusic()):(t=0,Laya.LocalStorage.setItem("Setting_bgMusic",t.toString()),f.stopMusic())}},e._shake={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting_shake")},set switch(e){let t;t=e?1:0,Laya.LocalStorage.setItem("Setting_shake",t.toString())}},e.createSetBtn=function(t,a,n,r,o,l,i){let s=new Laya.Image;return s.width=n||100,s.height=n||100,s.skin=o||"Frame/UI/icon_set.png",l?l.addChild(s):Laya.stage.addChild(s),s.pivotX=s.width/2,s.pivotY=s.height/2,s.x=t,s.y=a,s.zOrder=i||100,y._on(y._Type.largen,s,null,null,function(e){e.stopPropagation(),d._openScene(d._SceneName.Set)},null),e.BtnSetNode=s,e.BtnSetNode.name="BtnSetNode",s},e.setBtnAppear=function(t,a,n){e.BtnSetNode&&(t?p.scale_Alpha(e.BtnSetNode,0,1,1,1,1,1,t,0,t=>{e.BtnSetNode.visible=!0}):e.BtnSetNode.visible=!0,a&&(e.BtnSetNode.x=a),n&&(e.BtnSetNode.y=n))},e.setBtnVinish=function(t){e.BtnSetNode&&(t?p.scale_Alpha(e.BtnSetNode,1,1,1,1,1,0,t,0,t=>{e.BtnSetNode.visible=!1}):e.BtnSetNode.visible=!1)}}(_=e.Setting||(e.Setting={})),function(e){let t;!function(e){e.btn="Frame/Voice/btn.wav",e.bgm="Frame/Voice/bgm.mp3",e.victory="Frame/Voice/guoguan.wav",e.defeated="Frame/Voice/wancheng.wav",e.huodejinbi="Frame/Voice/huodejinbi.wav"}(t=e.voiceUrl||(e.voiceUrl={})),e.playSound=function(e,a,n){e||(e=t.btn),a||(a=1),_._sound.switch&&Laya.SoundManager.playSound(e,a,Laya.Handler.create(this,function(){n&&n()}))},e.playDefeatedSound=function(e,a,n){e||(e=t.defeated),a||(a=1),_._sound.switch&&Laya.SoundManager.playSound(e,a,Laya.Handler.create(this,function(){n&&n()}))},e.playVictorySound=function(e,a,n){e||(e=t.victory),a||(a=1),_._sound.switch&&Laya.SoundManager.playSound(e,a,Laya.Handler.create(this,function(){n&&n()}))},e.playMusic=function(e,a,n){e||(e=t.bgm),a||(a=0),n||(n=0),_._bgMusic.switch&&Laya.SoundManager.playMusic(e,a,Laya.Handler.create(this,function(){}),n)},e.stopMusic=function(){Laya.SoundManager.stopMusic()}}(f=e.PalyAudio||(e.PalyAudio={})),function(e){let t,a,n;function d3_twoSubV3(e,t,a){let n=new Laya.Vector3;if(Laya.Vector3.subtract(e,t,n),a){let e=new Laya.Vector3;return Laya.Vector3.normalize(n,e),e}return n}function obj_Copy(e){var t={};for(const a in e)if(e.hasOwnProperty(a)){const n=e[a];if("object"==typeof n)if(Array.isArray(n)){let e=array_Copy(n);t[a]=e}else obj_Copy(n);else t[a]=n}return t}function array_Copy(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a]);return t}e.color_RGBtoHexString=function(e,t,a){return"#"+("00000"+(e<<16|t<<8|a).toString(16)).slice(-6)},e.format_FormatNumber=function(e,t=0){let a;return a=e>=1e27?(e/1e27).toFixed(t)+"ae":e>=1e24?(e/1e24).toFixed(t)+"ad":e>=1e21?(e/1e21).toFixed(t)+"ac":e>=1e18?(e/1e18).toFixed(t)+"ab":e>=1e15?(e/1e15).toFixed(t)+"aa":e>=1e12?(e/1e12).toFixed(t)+"t":e>=1e9?(e/1e9).toFixed(t)+"b":e>=1e6?(e/1e6).toFixed(t)+"m":e>=1e3?(e/1e3).toFixed(t)+"k":Math.round(e).toString()},e.format_StrAddNum=function(e,t){return(Number(e)+t).toString()},e.format_NumAddStr=function(e,t){return Number(t)+e},function(t){t.leaveStage=function(e,t){let a=e.parent.localToGlobal(new Laya.Point(e.x,e.y));return(a.x>Laya.stage.width+10||a.x<-10)&&t&&t(),(a.y>Laya.stage.height+10||a.y<-10)&&t&&t(),new Laya.Point(a.x,a.y)},t.checkTwoDistance=function(e,t,a,n){let r=e.parent.localToGlobal(new Laya.Point(e.x,e.y)),o=t.parent.localToGlobal(new Laya.Point(t.x,t.y));return r.distance(o.x,o.y)<a&&n&&n(),r.distance(o.x,o.y)},t.zOrderByY=function(t,a,n){let r=[];if(0==t.numChildren)return r;for(let e=0;e<t.numChildren;e++){const a=t.getChildAt(e);r.push(a)}if(e.objArrPropertySort(r,"y"),a)for(let e=0;e<r.length;e++)r[e].zOrder=e;if(n){let e=[];for(let t=r.length-1;t>=0;t--){const a=r[t];console.log(a),a.zOrder=r.length-t,e.push(a)}return e}return r},t.changePovit=function(e,t,a,n){let r=e.pivotX,o=e.pivotY;n&&(t=Math.round(t),a=Math.round(a)),e.width&&(e.pivot(t,a),e.x+=e.pivotX-r,e.y+=e.pivotY-o)},t.getChildArrByProperty=function(e,t,a){let n=[];for(let r=0;r<e.numChildren;r++){const o=e.getChildAt(r);o[t]==a&&n.push(o)}return n},t.randomChildren=function(t,a){let n=[],r=[];for(let e=0;e<t.numChildren;e++)r.push(e);let o=e.arrayRandomGetOut(r,a);for(let e=0;e<o.length;e++)n.push(t.getChildAt(o[e]));return n},t.removeAllChildren=function(e){e.numChildren>0&&e.removeChildren(0,e.numChildren-1)},t.removeOneChildren=function(e,t){for(let a=0;a<e.numChildren;a++){const n=e.getChildAt(a);n.name==t&&n.removeSelf()}},t.checkChildren=function(e,t){let a=!1;for(let n=0;n<e.numChildren;n++)e.getChildAt(n).name==t&&(a=!0);return a},t.showExcludedChild2D=function(e,t,a){for(let n=0;n<e.numChildren;n++){let r=e.getChildAt(n);for(let e=0;e<t.length;e++)r.name==t[e]?r.visible=!(!a&&null!=a):r.visible=!a&&null!=a}},t.showExcludedChild3D=function(e,t,a){for(let n=0;n<e.numChildren;n++){let r=e.getChildAt(n);for(let e=0;e<t.length;e++)r.name==t[e]?r.active=!(!a&&null!=a):r.active=!a&&null!=a}},t.prefabCreate=function(e,t){return Laya.Pool.getItemByCreateFun(t||e.json.props.name,e.create,e)},t.childrenVisible2D=function(e,t){for(let a=0;a<e.numChildren;a++){const n=e.getChildAt(a);n.visible=!!t}},t.childrenVisible3D=function(e,t){for(let a=0;a<e.numChildren;a++){const n=e.getChildAt(a);n.active=!!t}},t.findChild3D=function findChild3D(e,t){var a;if(null!=(a=e.getChildByName(t)))return a;for(var n=null,r=0;r<e.numChildren;r++)if(null!=(n=findChild3D(e.getChildAt(r),t)))return n;return null},t.findChild2D=function findChild2D(e,t){var a;if(null!=(a=e.getChildByName(t)))return a;for(var n=null,r=0;r<e.numChildren;r++)if(null!=(n=findChild2D(e.getChildAt(r),t)))return n;return null},t.findChildByName2D=function(e,t){return[]}}(t=e.Node||(e.Node={})),e.randomOneHalf=function(){let e;return e=Math.floor(2*Math.random())},e.randomOneInt=function(e,t){return t?Math.floor(Math.random()*(t-e))+e:Math.floor(Math.random()*e)},e.randomCountNumer=function(t,a,n,r){let o=[];if(n||(n=1),a){for(;n>o.length;){let n;n=r||null==r?Math.floor(Math.random()*(a-t))+t:Math.random()*(a-t)+t,o.push(n),e.arrayUnique_01(o)}return o}for(;n>o.length;){let a;a=r||null==r?Math.floor(Math.random()*t):Math.random()*t,o.push(a),e.arrayUnique_01(o)}return o},e.randomOneNumber=function(e,t,a){let n;if(e>t&&(n=e,e=t,t=n),t){let n;return n=a?Math.floor(Math.random()*(t-e))+e:Math.random()*(t-e)+e}{let t;return t=a?Math.floor(Math.random()*e):Math.random()*e}},e.d2_twoObjectsLen=function(e,t){return new Laya.Point(e.x,e.y).distance(t.x,t.y)},e.d2_Vector_Angle=function(e,t){let a=90-Math.atan2(e,t)*(180/Math.PI);return a<=0&&(a=270+(90+a)),a-90},e.d2_angle_Vector=function(e){let t=(90-e)/(180/Math.PI),a=new Laya.Point(Math.sin(t),Math.cos(t));return a.normalize(),a},e.d3_twoObjectsLen=function(e,t){let a=e.transform.position,n=t.transform.position,r=new Laya.Vector3;return Laya.Vector3.subtract(a,n,r),Laya.Vector3.scalarLength(r)},e.d3_twoPositionLen=function(e,t){let a=d3_twoSubV3(e,t);return Laya.Vector3.scalarLength(a)},e.d3_twoSubV3=d3_twoSubV3,e.d3_maximumDistanceLimi=function(e,t,a){let n=new Laya.Vector3,r=t.transform.position;if(Laya.Vector3.subtract(r,e,n),Laya.Vector3.scalarLength(n)>=a){let r=new Laya.Vector3;Laya.Vector3.normalize(n,r);let o=e.x+r.x*a,l=e.y+r.y*a,i=e.z+r.z*a,s=new Laya.Vector3(o,l,i);return t.transform.position=s,s}},e.d3_rayScanning=function(e,t,a,n){let r=new Laya.Ray(new Laya.Vector3(0,0,0),new Laya.Vector3(0,0,0)),o=new Array;if(e.viewportPointToRay(a,r),t.physicsSimulation.rayCastAll(r,o),0!=o.length&&n){let e=null;for(var l=0;l<o.length;l++)o[l].collider.owner.name===n&&(e=o[l]);return e}return o},e.d3_TransitionScreenPointfor=function(e,t){let a=new Laya.Vector4;t.viewport.project(e,t.projectionViewMatrix,a);let n=new Laya.Vector2;return n.x=a.x,n.y=a.y,n},e.d3_animatorPlay=function(e,t,a,n){let r=e.getComponent(Laya.Animator);if(r)return n||(n=0),r.play(t,n,a),r;console.log(e.name,"没有动画组件")},e.dAll_reverseVector=function(e,t,a,n){let r;if("2d"===e)return r=new Laya.Point(t.x-a.x,t.y-a.y),n&&r.normalize(),r;if("3d"===e){if(r=new Laya.Vector3(t.x-a.x,t.y-a.y,t.z-a.z),n){let e=new Laya.Vector3;return Laya.Vector3.normalize(r,e),e}return r}},e.sk_indexControl=function(e,t){e.play(t,!0),e.player.currentTime=15e3/e.player.cacheFrameRate},function(e){e.drawPieMask=function(e,t,a){e.cacheAs="bitmap";let n=new Laya.Sprite;return n.blendMode="destination-out",e.addChild(n),n.graphics.drawPie(e.width/2,e.height/2,e.width/2+10,t,a,"#000000")},e.reverseRoundMask=function(e,a,n,r,o){null!=o&&1!=o||t.removeAllChildren(e);let l=new Laya.Sprite;return l.name="reverseRoundMask",l.blendMode="destination-out",e.cacheAs="bitmap",e.addChild(l),l.graphics.drawCircle(0,0,r,"#000000"),l.pos(a,n),l},e.reverseRoundrectMask=function(e,a,n,r,o,l,i){null!=i&&1!=i||t.removeAllChildren(e);let s=new Laya.Sprite;s.name="reverseRoundrectMask",s.blendMode="destination-out",e.cacheAs="bitmap",e.addChild(s),s.graphics.drawPath(0,0,[["moveTo",5,0],["lineTo",r-l,0],["arcTo",r,0,r,l,l],["lineTo",r,o-l],["arcTo",r,o,r-l,o,l],["lineTo",o-l,o],["arcTo",0,o,0,o-l,l],["lineTo",0,l],["arcTo",0,0,l,0,l],["closePath"]],{fillStyle:"#000000"}),s.width=r,s.height=o,s.pivotX=r/2,s.pivotY=o/2,s.pos(a,n)}}(a=e.Draw||(e.Draw={})),e.objArrPropertySort=function(e,t){return e.sort(function(e,a){var n=e[t],r=a[t];return isNaN(Number(n))||isNaN(Number(r))||(n=Number(n),r=Number(r)),n<r?-1:n>r?1:0}),e},e.objArr2DifferentPropertyObjArr1=function(e,t,a){for(var n=[],r=0;r<e.length;r++){for(var o=e[r],l=o[a],i=!1,s=0;s<t.length;s++)if(t[s][a]==l){i=!0;break}i||n.push(o)}return n},e.objArr1IdenticalPropertyObjArr2=function(e,t,a){for(var n=[],r=0;r<e.length;r++){for(var o=e[r],l=(o[a],!1),i=0;i<t.length;i++)if(t[i][a]==name){l=!0;break}l&&n.push(o)}return n},e.objArrUnique=function(e,t){for(var a=0,n=e.length;a<n;a++){var r=a+1;for(n=e.length;r<n;r++)e[a][t]===e[r][t]&&(e.splice(r,1),r--,n--)}return e},e.objArrGetValue=function(e,t){let a=[];for(let n=0;n<e.length;n++)e[n][t]&&a.push(e[n][t]);return a},e.objArray_Copy=function(e){var t=e instanceof Array?[]:{};for(var a in e)t[a]="object"==typeof e[a]?obj_Copy(e[a]):e[a];return t},e.obj_Copy=obj_Copy,e.arrayAddToarray=function(e,t){for(let a=0;a<t.length;a++){const n=t[a];e.push(n)}return e},e.arrayRandomGetOut=function(t,a){a||(a=1);let n=e.array_Copy(t),r=[];if(a>n.length)return"数组长度小于取出的数！";for(let e=0;e<a;e++){let e=Math.round(Math.random()*(n.length-1)),t=n[e];n.splice(e,1),r.push(t)}return r},e.arrayRandomGetOne=function(t){let a=e.array_Copy(t);return a[Math.round(Math.random()*(a.length-1))]},e.array_Copy=array_Copy,e.arrayUnique_01=function(e){for(var t=0,a=e.length;t<a;t++){var n=t+1;for(a=e.length;n<a;n++)e[t]===e[n]&&(e.splice(n,1),n--,a--)}return e},e.arrayUnique_02=function(e){for(var t=[(e=e.sort())[0]],a=1,n=e.length;a<n;a++)e[a]!==e[a-1]&&t.push(e[a]);return t},e.arrayUnique_03=function(e){return Array.from(new Set(e))},e.array1ExcludeArray2=function(e,t){let a=array_Copy(e),n=array_Copy(t);for(let e=0;e<a.length;e++)for(let t=0;t<n.length;t++)a[e]==n[t]&&(a.splice(e,1),e--);return a},e.array_ExcludeArrays=function(t,a){let n=[];for(let e=0;e<t.length;e++)for(let a=0;a<t[e].length;a++)n.push(t[e][a]);let r=e.array_Copy(n),o=e.arrayUnique_01(r),l=[];for(let e=0;e<o.length;e++)l.push({name:o[e],num:0});for(let e=0;e<n.length;e++)for(let t=0;t<l.length;t++)n[e]==l[t].name&&l[t].num++;let i=[],s=[];for(let e=0;e<l.length;e++)l[e],l[e].num==t.length?i.push(l[e].name):s.push(l[e].name);return a?s:i},function(t){t.dotRotatePoint=function(e,t,a,n,r){let o=e+(a-e)*Math.cos(r*Math.PI/180)-(n-t)*Math.sin(r*Math.PI/180),l=t+(a-e)*Math.sin(r*Math.PI/180)+(n-t)*Math.cos(r*Math.PI/180);return new Laya.Point(o,l)},t.SpeedXYByAngle=function(e,t){const a={x:0,y:0};return a.x=t*Math.cos(e*Math.PI/180),a.y=t*Math.sin(e*Math.PI/180),new Laya.Point(a.x,a.y)},t.getRoundPos=function(e,t,a){var n=a,r=(t=t,2*Math.PI/360*e),o=n.x+Math.sin(r)*t,l=n.y-Math.cos(r)*t;return new Laya.Point(o,l)},t.randomPointByCenter=function(t,a,n,r){r||(r=1);let o=[];for(let l=0;l<r;l++){let r=e.randomCountNumer(0,a,1,!1),l=e.randomCountNumer(0,n,1,!1),i=0==e.randomOneHalf()?r[0]:-r[0],s=0==e.randomOneHalf()?l[0]:-l[0],c=new Laya.Point(t.x+i,t.y+s);o.push(c)}return o},t.getPArrBetweenTwoP=function(e,t,a){let n=[],r=t.x-e.x,o=t.y-e.y;for(let t=0;t<a;t++)n.push(new Laya.Point(e.x+r/a*t,e.y+o/a*t));return n.length>=1&&n.unshift(),n.length>=1&&n.pop(),n}}(n=e.Point||(e.Point={})),e.angle_GetRad=function(e){return e/180*Math.PI},e.jsonCompare=function(t,a,n){let r;try{Laya.LocalStorage.getJSON(a)}catch(e){return r=Laya.loader.getRes(t).RECORDS,Laya.LocalStorage.setJSON(a,JSON.stringify(r)),r}if(Laya.LocalStorage.getJSON(a)){r=JSON.parse(Laya.LocalStorage.getJSON(a)),console.log(a+"从本地缓存中获取到数据,将和文件夹的json文件进行对比");try{let o=Laya.loader.getRes(t).RECORDS;if(o.length>=r.length){let t=e.objArr2DifferentPropertyObjArr1(o,r,n);console.log("两个数据的差值为：",t),e.arrayAddToarray(r,t)}else console.log(a+"数据表填写有误，长度不能小于之前的长度")}catch(e){console.log(a,"数据赋值失败！请检查数据表或者手动赋值！")}}else try{r=Laya.loader.getRes(t).RECORDS}catch(e){console.log(a+"数据赋值失败！请检查数据表或者手动赋值！")}return Laya.LocalStorage.setJSON(a,JSON.stringify(r)),r}}(L=e.Tools||(e.Tools={})),function(e){function getProperty(e,t,a){let n=null,r=getClassArr(e);for(let e=0;e<r.length;e++){const o=r[e];if(o.name===t){n=o[a];break}}return null!==n?n:(console.log(t+"找不到属性:"+a,n),null)}function setProperty(t,a,n,r){let o=getClassArr(t);for(let e=0;e<o.length;e++){const t=o[e];if(t.name===a){t[n]=r;break}}let l={};l[t]=o,Laya.LocalStorage.setJSON(t,JSON.stringify(l)),e._ShopList&&e._ShopList.refresh()}function get_Current(t){let a=null;switch(t){case n.Skin:a=e._currentSkin.name;break;case n.Props:a=e._currentProp.name;break;case n.Other:a=e._currentOther.name}return a}function getClassArr(t){let a=[];switch(t){case n.Skin:a=e.allSkin;break;case n.Props:a=e.allProps;break;case n.Other:a=e.allOther}return a}let t,a,n,r;e.goodsClassArr=[],e.classWarehouse=[],e._tryName=[],e.allSkin=[],e._currentSkin={get name(){return Laya.LocalStorage.getItem("Shop_currentSkin")?Laya.LocalStorage.getItem("Shop_currentSkin"):null},set name(e){Laya.LocalStorage.setItem("Shop_currentSkin",e)}},e.allProps=[],e._currentProp={get name(){return Laya.LocalStorage.getItem("Shop_currentProp")?Laya.LocalStorage.getItem("Shop_currentProp"):null},set name(e){Laya.LocalStorage.setItem("Shop_currentProp",e)}},e.allOther=[],e._currentOther={get name(){return Laya.LocalStorage.getItem("Shop_crrentOther")?Laya.LocalStorage.getItem("Shop_crrentOther"):null},set name(e){Laya.LocalStorage.setItem("Shop_crrentOther",e)}},e.useSkinType=[],e.setUseSkinType=function(){let t=[];try{Laya.LocalStorage.getJSON("Shop_useSkinType")&&(t=JSON.parse(Laya.LocalStorage.getJSON("Shop_useSkinType")),e.useSkinType=null!==t?t.Shop_useSkinType:[],e.useSkinType.push(e._currentOther.name,e._currentProp.name,e._currentSkin.name),e.useSkinType=L.arrayUnique_03(e.useSkinType))}catch(e){}let a={Shop_useSkinType:e.useSkinType};return Laya.LocalStorage.setJSON("Shop_useSkinType",JSON.stringify(a)),e.useSkinType.length},e.getProperty=getProperty,e.setProperty=setProperty,e.getHaveArr=function(e){let a=getClassArr(e),n=[];for(let e=0;e<a.length;e++){const r=a[e];r[t.have]&&n.push(r)}return n},e.getwayGoldArr=function(e,n,r){let o=getClassArr(e),l=[];for(let e=0;e<o.length;e++){const r=o[e];n&&void 0!==n?r[t.have]&&r[t.getway]===a.gold&&l.push(r):n||void 0===n?null==n&&r[t.getway]===a.gold&&l.push(r):r[t.have]||r[t.getway]!==a.gold||l.push(r)}if(r&&void 0!==r)for(let a=0;a<l.length;a++)if(l[a][t.name]===get_Current(e)){l.splice(a,1);break}return l},e.getwayIneedwinArr=function(e,n){let r=getClassArr(e),o=[];for(let e=0;e<r.length;e++){const l=r[e];n&&void 0!==n?l[t.have]&&l[t.getway]===a.ineedwin&&o.push(l):n||void 0===n?null==n&&l[t.getway]===a.ineedwin&&o.push(l):l[t.have]||l[t.getway]!==a.ineedwin||o.push(l)}return o},e.get_Current=get_Current,e.getClassArr=getClassArr,e.buyGoods=function(a,n,r){r||(r=1);let o=getProperty(a,n,t.resCondition),l=getProperty(a,n,t.condition),i=getProperty(a,n,t.have);return!0!==i&&null!==i?l<=o+r?(setProperty(a,n,t.resCondition,l),setProperty(a,n,t.have,!0),e._ShopList&&e._ShopList.refresh(),!0):(setProperty(a,n,t.resCondition,o+r),e._ShopList&&e._ShopList.refresh(),!1):-1},e.initShop=function(){e.allSkin=L.jsonCompare("GameData/Shop/Skin.json",n.Skin,t.name),e.allProps=L.jsonCompare("GameData/Shop/Props.json",n.Props,t.name),e.allOther=L.jsonCompare("GameData/Shop/Other.json",n.Other,t.name)},function(e){e.name="name",e.getway="getway",e.condition="condition",e.resCondition="resCondition",e.arrange="arrange",e.getOder="getOder",e.have="have"}(t=e.GoodsProperty||(e.GoodsProperty={})),function(e){e.free="free",e.ads="ads",e.adsXD="adsXD",e.ineedwin="ineedwin",e.gold="gold",e.diamond="diamond",e.easte_registerg="easte_registerg",e.other="other"}(a=e.Getway||(e.Getway={})),function(e){e.Skin="Shop_Skin",e.Props="Shop_Props",e.Other="Shop_Other"}(n=e.GoodsClass||(e.GoodsClass={})),function(e){e.select="select"}(r=e.EventType||(e.EventType={}));e.ShopScene=class extends d._SceneBase{moduleOnAwake(){e._ShopTap=this.Owner.MyTap,e._ShopList=this.Owner.MyList,e.allSkin||(e.allSkin=L.jsonCompare("GameData/Shop/Skin.json",n.Skin,t.name)),e.allProps||(e.allProps=L.jsonCompare("GameData/Shop/Props.json",n.Props,t.name)),e.allOther||(e.allOther=L.jsonCompare("GameData/Shop/Other.json",n.Other,t.name)),e.goodsClassArr=[e.allSkin,e.allProps,e.allOther],e.classWarehouse=[n.Skin,n.Props,n.Skin]}moduleOnEnable(){this.myList_Create(),this.myTap_Create()}myTap_Create(){e._ShopTap.selectHandler=new Laya.Handler(this,this.myTap_Select)}myTap_Select(e){}myList_Create(){e._ShopList.selectEnable=!0,e._ShopList.selectHandler=new Laya.Handler(this,this.myList_Scelet),e._ShopList.renderHandler=new Laya.Handler(this,this.myList_Update),this.myList_refresh()}myList_Scelet(e){}myList_Update(e,t){}myList_refresh(){e._ShopList&&e.goodsClassArr.length>0&&(e._ShopList.array=e.goodsClassArr[0],e._ShopList.refresh())}}}(w=e.Shop||(e.Shop={})),function(e){let t,a;e._BoxArray=[],e._canOpenNum=3,e._alreadyOpenNum=0,e._adsMaxOpenNum=6,e._openVictoryBoxNum=0,e.getProperty=function(t,a){let n=null;for(let r=0;r<e._BoxArray.length;r++){const o=e._BoxArray[r];if(o.name===t){n=o[a];break}}return null!==n?n:(console.log(t+"找不到属性:"+a,n),null)},e.setProperty=function(t,a,n){for(let r=0;r<e._BoxArray.length;r++){const o=e._BoxArray[r];if(o.name===t){o[a]=n;break}}e._BoxList&&e._BoxList.refresh()},function(e){e.name="name",e.rewardType="rewardType",e.rewardNum="rewardNum",e.openState="openState",e.ads="ads",e.select="select"}(t=e.BoxProperty||(e.BoxProperty={})),function(e){e.openBox="openBox"}(a=e.EventType||(e.EventType={}));e.VictoryBoxScene=class extends d._SceneBase{moduleOnAwake(){e._BoxList=this.Owner.MyList,e._BoxArray=L.objArray_Copy(Laya.loader.getRes("GameData/VictoryBox/VictoryBox.json").RECORDS),e._selectBox=null,e._canOpenNum=3,e._openVictoryBoxNum++,e._adsMaxOpenNum=6,e._alreadyOpenNum=0}moduleOnEnable(){this.boxList_Create()}boxList_Create(){e._BoxList.selectEnable=!0,e._BoxList.selectHandler=new Laya.Handler(this,this.boxList_Scelet),e._BoxList.renderHandler=new Laya.Handler(this,this.boxList_Update),this.boxList_refresh()}boxList_Scelet(e){}boxList_Update(e,t){}boxList_refresh(){e._BoxList&&(e._BoxList.array=e._BoxArray,e._BoxList.refresh())}}}(O=e.VictoryBox||(e.VictoryBox={})),function(e){function getProperty(t,a){let n=null;for(let r=0;r<e._checkArray.length;r++){const o=e._checkArray[r];if(o.name===t){n=o[a];break}}return null!==n?n:(console.log(t+"找不到属性:"+a,n),null)}function setProperty(t,a,n,r){for(let t=0;t<e._checkArray.length;t++){const o=e._checkArray[t];if(o.name===a){o[n]=r;break}}let o={};o[t]=e._checkArray,Laya.LocalStorage.setJSON(t,JSON.stringify(o)),e._checkList&&e._checkList.refresh()}let t,a,n;e._fromWhich=d._SceneName.PreLoad,e._lastCheckDate={get date(){return Laya.LocalStorage.getItem("Check_lastCheckDate")?Number(Laya.LocalStorage.getItem("Check_lastCheckDate")):-1},set date(e){Laya.LocalStorage.setItem("Check_lastCheckDate",e.toString())}},e._checkInNum={get number(){return Laya.LocalStorage.getItem("Check_checkInNum")?Number(Laya.LocalStorage.getItem("Check_checkInNum")):0},set number(e){Laya.LocalStorage.setItem("Check_checkInNum",e.toString())}},e._todayCheckIn={get bool(){return e._lastCheckDate.date==c._date.date}},e.getProperty=getProperty,e.setProperty=setProperty,e.openCheckIn=function(){e._todayCheckIn.bool?(k._adsNum.value<7&&d._openScene(d._SceneName.SkinQualified),console.log("签到过了，今日不可以再签到")):(console.log("没有签到过，弹出签到页面！"),d._openScene(d._SceneName.CheckIn))},e.todayCheckIn_7Days=function(){return e._lastCheckDate.date=c._date.date,e._checkInNum.number++,setProperty(t.chek_7Days,"day"+e._checkInNum.number,a.checkInState,!0),getProperty("day"+e._checkInNum.number,a.rewardNum)},e.init=function(){7!==e._checkInNum.number||e._todayCheckIn.bool||(e._checkInNum.number=0,Laya.LocalStorage.removeItem(t.chek_7Days))},function(e){e.chek_7Days="Chek_7Days",e.chek_15Days="Chek_15Days",e.chek_30Days="Chek_30Days"}(t=e.CheckClass||(e.CheckClass={})),function(e){e.name="name",e.rewardType="rewardType",e.rewardNum="rewardNum",e.checkInState="checkInState",e.arrange="arrange"}(a=e.CheckProPerty||(e.CheckProPerty={})),function(e){e.removeCheckBtn="removeCheckBtn"}(n=e.EventType||(e.EventType={}));e.CheckInScene=class extends d._SceneBase{moduleOnAwake(){e._checkList=this.Owner.CheckList,e._checkArray=L.jsonCompare("GameData/CheckIn/CheckIn.json",t.chek_7Days,a.name)}moduleOnEnable(){this.checkList_Create()}moduleEventRegister(){}checkList_Create(){e._checkList.selectEnable=!0,e._checkList.selectHandler=new Laya.Handler(this,this.checkList_Scelet),e._checkList.renderHandler=new Laya.Handler(this,this.checkList_Update),this.checkList_refresh()}checkList_Scelet(e){}checkList_Update(e,t){}checkList_refresh(){e._checkList&&(e._checkList.array=e._checkArray,e._checkList.refresh())}}}(b=e.CheckIn||(e.CheckIn={})),function(e){let t;e._adsNum={get value(){return Laya.LocalStorage.getItem("SkinQualified_adsNum")?Number(Laya.LocalStorage.getItem("SkinQualified_adsNum")):0},set value(e){Laya.LocalStorage.setItem("SkinQualified_adsNum",e.toString())}},e.openUISkinQualified=function(t){e._adsNum.value>=e._needAdsNum||(d._openScene(d._SceneName.SkinQualified),e._fromScene=t)},function(e){e.acquisition="acquisition"}(t=e.EventType||(e.EventType={}));e.SkinQualifiedScene=class extends d._SceneBase{moduleOnEnable(){e._needAdsNum=3}}}(k=e.SkinQualified||(e.SkinQualified={})),function(e){let t,a,n;e._skinClassArr=[],e._headSkinArr=[],e._currentHead={get name(){return Laya.LocalStorage.getItem("Skin_currentHead")?Laya.LocalStorage.getItem("Skin_currentHead"):null},set name(e){Laya.LocalStorage.setItem("Skin_currentHead",e)}},e._eyeSkinArr=[],e._currentEye={get name(){return Laya.LocalStorage.getItem("Skin_currentEye")?Laya.LocalStorage.getItem("Skin_currentEye"):null},set name(e){Laya.LocalStorage.setItem("Skin_currentEye",e)}},function(e){e.head="head",e.eye="eye",e.body="body",e.upperBody="upperBody",e.lowerBody="lowerBody"}(t=e.SkinClass||(e.SkinClass={})),function(e){e.name="name",e.getway="getway",e.condition="condition",e.resCondition="resCondition",e.arrange="arrange",e.getOder="getOder",e.classify="classify",e.have="have"}(a=e.SkinProperty||(e.SkinProperty={})),function(e){e.purchase="purchase",e.select="select"}(n=e.EventType||(e.EventType={}));e.SkinScene=class extends d._SceneBase{moduleOnAwake(){e._SkinTap=this.Owner.SkinTap,e._SkinList=this.Owner.SkinList,e._skinClassArr=[e._eyeSkinArr,e._headSkinArr]}moduleOnEnable(){this.skinList_Create(),this.skinTap_Create()}skinTap_Create(){e._SkinTap.selectHandler=new Laya.Handler(this,this.skinTap_Select)}skinTap_Select(e){}skinList_Create(){e._SkinList.selectEnable=!0,e._SkinList.selectHandler=new Laya.Handler(this,this.skinList_Scelet),e._SkinList.renderHandler=new Laya.Handler(this,this.skinList_Update),this.skinList_refresh()}skinList_Scelet(e){}skinList_Update(e,t){}skinList_refresh(){e._SkinList&&e._skinClassArr.length>1&&(e._SkinList.array=e._skinClassArr[0],e._SkinList.refresh())}}}(v=e.Skin||(e.Skin={})),function(e){function getProperty(e,t,a){let n=null,r=getClassArr(e);for(let e=0;e<r.length;e++){const o=r[e];if(o.name===t){n=o[a];break}}return null!==n?n:(console.log(t+"找不到属性:"+a,n),null)}function setProperty(e,t,a,n){let r=getClassArr(e);for(let e=0;e<r.length;e++){const o=r[e];if(o.name===t){o[a]=n;break}}let o={};o[e]=r,Laya.LocalStorage.setJSON(e,JSON.stringify(o))}function getClassArr(t){let a=[];switch(t){case n.Easte_registerg_01:a=e._easte_registerg_1Arr}return a}let t,a,n,r,o;e._easte_registerg_1Arr=[],e._easte_registerg_1={get value(){return!!Laya.LocalStorage.getItem("_easte_registerg_01")},set value(e){Laya.LocalStorage.setItem("_easte_registerg_01",e.toString())}},e.initEaste_registerg=function(){e._easte_registerg_1Arr=L.jsonCompare("GameData/Easte_registerg/Easte_registerg.json",n.Easte_registerg_01,a.name),Laya.loader.getRes("GameData/Easte_registerg/Easte_registerg.json").RECORDS},e.getProperty=getProperty,e.setProperty=setProperty,e.getClassArr=getClassArr,e.doDetection=function(e,t,n){n||(n=0);let r=getProperty(e,t,a.resCondition),o=getProperty(e,t,a.condition);return!!getProperty(e,t,a.complete)||(o<=r+n?(setProperty(e,t,a.resCondition,o),setProperty(e,t,a.complete,!0),console.log(getProperty(e,t,a.complete)),!0):(setProperty(e,t,a.resCondition,r+n),!1))},e.detectAllTasks=function(e){let t=1,n=getClassArr(e);for(const r in n)if(n.hasOwnProperty(r)){const o=n[r];let l=getProperty(e,o.name,a.resCondition);getProperty(e,o.name,a.condition)>l&&(t=0)}return 1==t?console.log(e,"完成了！"):console.log(e,"没有完成！"),t},function(e){e.gold="gold",e.diamond="diamond",e.assembly="assembly"}(t=e.rewardType||(e.rewardType={})),function(e){e.name="name",e.explain="explain",e.condition="condition",e.resCondition="resCondition",e.complete="complete"}(a=e.Property||(e.Property={})),function(e){e.Easte_registerg_01="Easte_registerg_01"}(n=e.Classify||(e.Classify={})),function(e){e.assembly_1="assembly_1",e.assembly_2="assembly_2",e.assembly_3="assembly_3",e.assembly_4="assembly_4",e.assembly_5="assembly_5"}(r=e.Name||(e.Name={})),function(e){e.trigger="trigger",e.easte_registergAds="easte_registergAds"}(o=e.EventType||(e.EventType={}));e.Easte_registergScene=class extends d._SceneBase{moduleOnAwake(){}moduleOnEnable(){}moduleEventRegister(){}}}(C=e.Easte_registerg||(e.Easte_registerg={})),function(e){e.VictoryScene=class extends d._SceneBase{moduleOnAwake(){}moduleEventRegister(){}moduleOnEnable(){}}}(N=e.Victory||(e.Victory={})),function(e){e.DefeatedScene=class extends d._SceneBase{moduleOnAwake(){}moduleEventRegister(){}moduleOnEnable(){}}}(P=e.Defeated||(e.Defeated={})),function(e){e._freeAds={get num(){return Laya.LocalStorage.getItem("DrawCard_freeAdsNum")?Number(Laya.LocalStorage.getItem("DrawCard_freeAdsNum")):0},set num(e){Laya.LocalStorage.setItem("DrawCard_freeAdsNum",e.toString())}},e._residueDraw={get num(){return Laya.LocalStorage.getItem("DrawCard_residueDraw")?Number(Laya.LocalStorage.getItem("DrawCard_residueDraw")):2},set num(e){Laya.LocalStorage.setItem("DrawCard_residueDraw",e.toString())}},e._drawCount={get num(){return Laya.LocalStorage.getItem("DrawCard_drawCount")?Number(Laya.LocalStorage.getItem("DrawCard_drawCount")):0},set num(e){Laya.LocalStorage.setItem("DrawCard_drawCount",e.toString())}};e.DrawCardScene=class extends d._SceneBase{moduleOnAwake(){}moduleEventRegister(){}moduleOnEnable(){}}}(X=e.DrawCard||(e.DrawCard={})),function(e){e._fromWhich=d._SceneName.Victory;e.ShareScene=class extends d._SceneBase{moduleOnAwake(){}moduleEventRegister(){}moduleOnEnable(){}}}(A=e.Share||(e.Share={})),function(e){e.PropTryScene=class extends d._SceneBase{moduleOnAwake(){}moduleEventRegister(){}moduleOnEnable(){}}}(x=e.PropTry||(e.PropTry={})),function(e){e._prop1={get num(){return Laya.LocalStorage.getItem("Backpack_prop1")?Number(Laya.LocalStorage.getItem("Backpack_prop1")):1},set num(e){Laya.LocalStorage.setItem("Backpack_prop1",e.toString())}},e._prop2={get num(){return Laya.LocalStorage.getItem("Backpack_prop2")?Number(Laya.LocalStorage.getItem("Backpack_prop2")):1},set num(e){Laya.LocalStorage.setItem("Backpack_prop2",e.toString())}},e._trophy={get num(){return Laya.LocalStorage.getItem("Backpack_trophy")?Number(Laya.LocalStorage.getItem("Backpack_trophy")):0},set num(e){Laya.LocalStorage.setItem("Backpack_trophy",e.toString())}},e._haveCardArray={get arr(){try{let e=Laya.LocalStorage.getJSON("Backpack_haveCardArray");return e?JSON.parse(e):[]}catch(e){return[]}},set arr(e){Laya.LocalStorage.setJSON("Backpack_haveCardArray",JSON.stringify(e))},add(t){let a=e._haveCardArray.arr;for(let e=0;e<t.length;e++)a.push(t[e]);let n=L.arrayUnique_01(a);return Laya.LocalStorage.setJSON("Backpack_haveCardArray",JSON.stringify(n)),n},sub(t){let a=e._haveCardArray.arr;for(let e=0;e<a.length;e++)for(let n=0;n<t.length;n++)a[e]==t[n]&&(a.splice(e,1),e--);return Laya.LocalStorage.setJSON("Backpack_haveCardArray",JSON.stringify(a)),a}},e._backpackArray=[];e.BackpackScene=class extends d._SceneBase{moduleOnAwake(){}moduleEventRegister(){}moduleOnEnable(){}}}(D=e.Backpack||(e.Backpack={})),function(e){let t,a,n=[],r=[],o=[],l=[],i=[],c=[],u=[],h=[],m=[],y=[],g=[];e._sumProgress=0,e._loadOrder=[],e._loadOrderIndex=0,e._whereToLoad=d._SceneName.PreLoad,function(e){e.scene3D="scene3D",e.prefab3D="prefab3D",e.mesh3D="mesh3D",e.material="material",e.texture="texture",e.texture2D="texture2D",e.pic2D="pic2D",e.scene2D="scene2D",e.prefab2D="prefab2D",e.json="json",e.skeleton="skeleton"}(t=e._ListName||(e._ListName={})),e._currentProgress={get value(){return this.len?this.len:0},set value(t){if(this.len=t,this.len>=e._sumProgress){if(0==e._sumProgress)return;console.log("当前进度条进度为:",e._currentProgress.value/e._sumProgress),console.log("进度条停止！"),console.log('所有资源加载完成！此时所有资源可通过例如 Laya.loader.getRes("url")获取'),s._notify(e._Event.complete)}else{let t=0;for(let a=0;a<=e._loadOrderIndex;a++)t+=e._loadOrder[a].length;this.len==t&&e._loadOrderIndex++,s._notify(e._Event.startLoding)}}},function(e){e.importList="_PreLoad_importList",e.complete="_PreLoad_complete",e.startLoding="_PreLoad_startLoding",e.progress="_PreLoad_progress"}(a=e._Event||(e._Event={})),e._remakeLode=function(){n=[],r=[],o=[],l=[],c=[],u=[],h=[],m=[],y=[],g=[],e._loadOrder=[],e._sumProgress=0,e._loadOrderIndex=0,e._currentProgress.value=0};e._PreLoadScene=class extends d._SceneBase{moduleOnAwake(){e._remakeLode()}lwgStartLoding(t){s._notify(e._Event.importList,t)}moduleEventRegister(){s._register(a.importList,this,a=>{for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))for(const s in a[e])if(Object.prototype.hasOwnProperty.call(a[e],s)){const d=a[e][s];switch(e){case t.json:y.push(d);break;case t.material:l.push(d);break;case t.mesh3D:o.push(d);break;case t.pic2D:u.push(d);break;case t.prefab2D:m.push(d);break;case t.prefab3D:r.push(d);break;case t.scene2D:h.push(d);break;case t.scene3D:n.push(d);break;case t.texture2D:c.push(d);break;case t.skeleton:g.push(d);break;case t.texture:i.push(d)}}e._loadOrder=[u,h,m,n,r,y,i,c,o,l,g];for(let t=0;t<e._loadOrder.length;t++)e._sumProgress+=e._loadOrder[t].length,e._loadOrder[t].length<=0&&(e._loadOrder.splice(t,1),t--);let d=this.lwgOpenAni();null==d&&(d=0),Laya.timer.once(d,this,()=>{s._notify(e._Event.startLoding)})}),s._register(a.startLoding,this,()=>{this.startLodingRule()}),s._register(a.complete,this,()=>{let t=this.lwgAllComplete();Laya.timer.once(t,this,()=>{if(this.Owner.name=e._whereToLoad,d._sceneControl[e._whereToLoad]=this.Owner,e._whereToLoad!==d._SceneName.PreLoad)d._preLoadOpenSceneLater.openSceneName&&d._openScene(d._preLoadOpenSceneLater.openSceneName,d._preLoadOpenSceneLater.cloesSceneName,()=>{d._preLoadOpenSceneLater.func,d._closeScene(e._whereToLoad)},d._preLoadOpenSceneLater.zOrder);else{for(const e in d._moudel)if(Object.prototype.hasOwnProperty.call(d._moudel,e)){const t=d._moudel[e];t._init?t._init():console.log(t,"模块没有初始化函数！")}f.playMusic(),d._closeScene(e._whereToLoad,()=>{e._whereToLoad=d._SceneName.PreLoadStep})}})}),s._register(a.progress,this,()=>{e._currentProgress.value++,e._currentProgress.value<e._sumProgress&&(console.log("当前进度条进度为:",e._currentProgress.value/e._sumProgress),this.lwgStepComplete())})}moduleOnEnable(){e._loadOrderIndex=0}startLodingRule(){if(e._loadOrder.length<=0)return console.log("没有加载项"),void s._notify(e._Event.complete);let t=0;for(let a=0;a<e._loadOrderIndex;a++)t+=e._loadOrder[a].length;let d=e._currentProgress.value-t;switch(e._loadOrder[e._loadOrderIndex]){case u:Laya.loader.load(u[d],Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX2D资源"+u[d]+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):console.log("2D图片"+u[d]+"加载完成！","数组下标为：",d),s._notify(a.progress)}));break;case h:Laya.loader.load(h[d],Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX数据表"+h[d]+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):console.log("2D场景"+h[d]+"加载完成！","数组下标为：",d),s._notify(a.progress)}),null,Laya.Loader.JSON);break;case n:Laya.Scene3D.load(n[d].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX3D场景"+n[d].url+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):(n[d].scene=e,console.log("3D场景"+n[d].url+"加载完成！","数组下标为：",d)),s._notify(a.progress)}));break;case r:Laya.Sprite3D.load(r[d].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX3D预设体"+r[d].url+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):(r[d].prefab=e,console.log("3D预制体"+r[d].url+"加载完成！","数组下标为：",d)),s._notify(a.progress)}));break;case o:Laya.Mesh.load(o[d].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX3D网格"+o[d].url+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):console.log("3D网格"+o[d].url+"加载完成！","数组下标为：",d),s._notify(a.progress)}));break;case i:Laya.loader.load(i[d].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX2D纹理"+i[d].url+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):(i[d].texture=e,console.log("纹理"+i[d].url+"加载完成！","数组下标为：",d)),s._notify(a.progress)}));break;case c:Laya.Texture2D.load(c[d].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX2D纹理"+c[d].url+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):(c[d].texture2D=e,console.log("2D纹理"+c[d].url+"加载完成！","数组下标为：",d)),s._notify(a.progress)}));break;case l:Laya.Material.load(l[d].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX材质"+l[d].url+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):console.log("材质"+l[d].url+"加载完成！","数组下标为：",d),s._notify(a.progress)}));break;case y:Laya.loader.load(y[d].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX数据表"+y[d]+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):(y[d].data=e.RECORDS,console.log("数据表"+y[d].url+"加载完成！","数组下标为：",d)),s._notify(a.progress)}),null,Laya.Loader.JSON);break;case g:g[d].templet.on(Laya.Event.ERROR,this,()=>{console.log("XXXXXXXXXXX骨骼动画"+g[d]+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"),s._notify(a.progress)}),g[d].templet.on(Laya.Event.COMPLETE,this,()=>{console.log("骨骼动画",g[d].templet.url,"加载完成！","数组下标为：",d),s._notify(a.progress)}),g[d].templet.loadAni(g[d].url);break;case m:Laya.loader.load(m[d].url,Laya.Handler.create(this,e=>{if(null==e)console.log("XXXXXXXXXXX数据表"+m[d].url+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX");else{let t=new Laya.Prefab;t.json=e,m[d].prefab=t,console.log("2D预制体"+m[d].url+"加载完成！","数组下标为：",d)}s._notify(a.progress)}))}}lwgStepComplete(){}lwgAllComplete(){return 0}}}(E=e.LwgPreLoad||(e.LwgPreLoad={})),function(e){let t;function _init(){switch(d._platform.name){case d._platform.tpye.WeChat:_loadPkg_Wechat();break;case d._platform.tpye.OPPO||d._platform.tpye.VIVO:_loadPkg_VIVO()}}function _loadPkg_VIVO(){if(e._pkgStep!==e._pkgInfo.length){let t=e._pkgInfo[e._pkgStep].name;Laya.Browser.window.qg.loadSubpackage({name:t,success:t=>{e._pkgStep++,_loadPkg_VIVO()},fail:e=>{console.error(`load ${t} err: `,e)}})}}function _loadPkg_Wechat(){if(e._pkgStep!==e._pkgInfo.length){let t=e._pkgInfo[e._pkgStep],a=t.name,n=t.root;Laya.Browser.window.wx.loadSubpackage({name:a,success:t=>{console.log(`load ${a} suc`),Laya.MiniAdpter.subNativeFiles[a]=n,Laya.MiniAdpter.nativefiles.push(n),e._pkgStep++,console.log("加载次数",e._pkgStep),_loadPkg_Wechat()},fail:e=>{console.error(`load ${a} err: `,e)}})}}e._pkgStep=0,e._pkgInfo=[{name:"sp1",root:"res"},{name:"sp2",root:"3DScene"},{name:"sp3",root:"3DPrefab"}],function(e){e.start="_ResPrepare_start",e.nextStep="_ResPrepare_nextStep",e.compelet="_ResPrepare_compelet"}(t=e._Event||(e._Event={})),e._init=_init,e._loadPkg_VIVO=_loadPkg_VIVO,e._loadPkg_Wechat=_loadPkg_Wechat;e._LwgInitScene=class extends d._SceneBase{moduleOnStart(){_init(),this.lwgOpenScene(a.PreLoad,null,()=>{})}}}(T=e._LwgInit||(e._LwgInit={}))}(e||(e={}));let t=e.Admin,a=(t._SceneBase,t._SceneName),n=e.EventAdmin,r=(e.DateAdmin,e.TimerAdmin),o=(e.Pause,e.Execution,e.Gold),l=(e.Setting,e.PalyAudio,e.Click),i=(e.Color,e.Effects,e.Dialogue,e.Animation2D),s=(e.Animation3D,e.Tools),c=(e.Elect,e.LwgPreLoad),u=(e.LwgPreLoad._PreLoadScene,e._LwgInit),d=e._LwgInit._LwgInitScene;e.Shop,e.Shop.ShopScene,e.VictoryBox,e.VictoryBox.VictoryBoxScene,e.CheckIn,e.CheckIn.CheckInScene,e.SkinQualified,e.SkinQualified.SkinQualifiedScene,e.Skin,e.Skin.SkinScene,e.Easte_registerg,e.Victory,e.Victory.VictoryScene,e.Defeated,e.Defeated.DefeatedScene,e.DrawCard,e.DrawCard.DrawCardScene,e.Share,e.Share.ShareScene,e.PropTry,e.PropTry.PropTryScene,e.Backpack,e.Backpack.BackpackScene;var h,m,y;!function(e){e._list={prefab2D:{LwgGold:{url:"Prefab/LwgGold.json",prefab:null},Weapon:{url:"Prefab/Weapon.json",prefab:null},Enemy:{url:"Prefab/Enemy.json",prefab:null},EnemyBullet:{url:"Prefab/EnemyBullet.json",prefab:null}},scene2D:{UIStart:"Scene/"+a.Start+".json",GameScene:"Scene/"+a.Game+".json"},json:{}}}(h||(h={})),function(e){e.PreLoad=class extends c._PreLoadScene{lwgOnStart(){n._notify(c._Event.importList,h._list)}lwgOpenAni(){return 1}lwgStepComplete(){}lwgAllComplete(){return 1e3}}}(m||(m={})),function(e){class o{}let i,c,u,d;o._property={name:"name",index:"index"},o._arr=[{index:1,name:"blue"},{index:2,name:"red"},{index:3,name:"yellow"},{index:4,name:"red"},{index:5,name:"yellow"},{index:6,name:"red"},{index:7,name:"blue"},{index:8,name:"yellow"}],e._Data=o,function(e){e.trigger="trigger",e.weapon="weapon",e.enemy="enemy"}(i=e._Label||(e._Label={})),e._fireControl={Aim:null,EnemyParent:null,rotateSwitch:!0,moveDownY:0,get moveRotateSpeed(){return this._rotateSpeed?this._rotateSpeed:0},set moveRotateSpeed(t){e._fireControl.rotateSwitch||(this._rotateSpeed=t,n._notify(c.WeaponSate,[u.mouseMove]))}},function(e){e.WeaponSate="_Game_WeaponSate",e.EnemyMove="_Game_EnemyMove",e.calculateBlood="_Game_calculateBlood",e.destroyEnemy="_Game_destroyEnemy",e.closeScene="_Game_closeScene"}(c=e._Event||(e._Event={})),function(e){e.rotate="_WeaponSateType_rotate",e.mouseMove="_WeaponSateType_mouseMove",e.launch="_WeaponSateType_launch",e.free="_WeaponSateType_free"}(u=e._WeaponSateType||(e._WeaponSateType={})),function(e){e.activity="_EnemySate_activity",e.death="_EnemySate_death"}(d=e._EnemySate||(e._EnemySate={})),e._init=function(){};class m extends t._Object{constructor(){super(...arguments),this.speed=5}lwgOnStart(){let e=this._SceneImg("HeroContent").localToGlobal(new Laya.Point(this._SceneImg("Hero").x,this._SceneImg("Hero").y)),t=new Laya.Point(this._Owner.x-e.x,this._Owner.y-e.y);t.normalize(),r._frameLoop(1,this,()=>{this._Owner.x-=t.x*this.speed,this._Owner.y-=t.y*this.speed,s.Node.leaveStage(this._Owner,()=>{this._Owner.removeSelf()})}),r._frameLoop(1,this,()=>{s.Node.checkTwoDistance(this._Owner,this._SceneImg("Hero"),50,()=>{this._Owner.removeSelf(),n._notify(c.calculateBlood,1)})})}}e._EnemyBullet=m;class y extends t._Object{constructor(){super(...arguments),this.time=0,this.state=""}lwgOnStart(){this.state=d.activity,r._frameRandomLoop(60,100,this,()=>{if(this.state==d.activity){let e=s.Node.prefabCreate(h._list.prefab2D.EnemyBullet.prefab);e.addComponent(m);let t=this._Parent.localToGlobal(new Laya.Point(this._Owner.x,this._Owner.y));this._Scene.addChild(e),e.pos(t.x,t.y)}});let e=1==s.randomOneHalf()?-.5:.5;r._frameLoop(1,this,()=>{let t=s.Point.getRoundPos(this._Owner.rotation+=e,this._SceneImg("MobileFrame").width/2+this._Owner.height/2,new Laya.Point(this._SceneImg("LandContent").width/2,this._SceneImg("LandContent").height/2));this._Owner.x=t.x,this._Owner.y=t.y})}}e._Enemy=y;class g extends t._Object{constructor(){super(...arguments),this.distance=0,this.baseSpeed=60,this.accelerated=1}get state(){return this.Statevalue}set state(e){this.Statevalue=e}speed(){this.weaponGetTime||(this.weaponGetTime=0),this.weaponGetTime++,this.baseSpeed+=this.accelerated;let e=this.baseSpeed*this.weaponGetTime;return this.distance+e}lwgOnAwake(){this.distance=this._Parent.width/2}lwgOnStart(){}lwgEventRegister(){var t=()=>{let t=e._fireControl.Aim.getChildAt(0),a=e._fireControl.Aim.localToGlobal(new Laya.Point(t.x,t.y)),n=this._Parent.localToGlobal(new Laya.Point(this._Owner.x,this._Owner.y));a.distance(n.x,n.y)<30?this._Owner.scale(1.2,1.2):this._Owner.scale(1,1)},a=(e,t)=>{let a=s.Point.getRoundPos(e?this._Owner.rotation+=e:this._Owner.rotation,t,new Laya.Point(this._Parent.width/2,this._Parent.height/2));this._Owner.x=a.x,this._Owner.y=a.y};n._register(c.WeaponSate,this,o=>{this.state!=u.launch&&this.state!=u.free&&(Laya.timer.clearAll(this),o==u.rotate?r._frameLoop(1,this,()=>{a(e._fireControl.moveRotateSpeed>0?.1:-.1,this._Parent.width/2-50),t()}):o==u.mouseMove?(a(e._fireControl.moveRotateSpeed,this._Parent.width/2-50),t()):o==u.launch&&(1.2==this._Owner.scaleX?(this.state=u.free,r._frameLoop(1,this,()=>{this.state=u.launch,a(null,this.speed());for(let t=0;t<e._fireControl.EnemyParent.numChildren;t++){const a=e._fireControl.EnemyParent.getChildAt(t);let o=e._fireControl.EnemyParent.localToGlobal(new Laya.Point(a.x,a.y)),l=this._Parent.localToGlobal(new Laya.Point(this._Owner.x,this._Owner.y));if(o.distance(l.x,l.y)<50)return this.state=u.free,Laya.timer.clearAll(this),void(this._Owner.name==a.name.substr(5)?(n._notify(c.destroyEnemy,1),a.removeSelf(),this._Owner.removeSelf()):r._frameLoop(1,this,()=>{this._Owner.y+=40,this._Owner.rotation+=10,this._Owner.y>Laya.stage.height&&this._Owner.removeSelf()}))}})):r._frameLoop(1,this,()=>{a(e._fireControl.moveRotateSpeed>0?.1:-.1,this._Parent.width/2-50),t()})))})}}e._Weapon=g;e.Game=class extends t._SceneBase{constructor(){super(...arguments),this.aimControl={moveDownY:0}}lwgOnEnable(){for(let e=0;e<o._arr.length;e++){let t=s.Node.prefabCreate(h._list.prefab2D.Weapon.prefab);this.ImgVar("WeaponParent").addChild(t);let a=s.Point.getRoundPos(e/o._arr.length*360,this.ImgVar("WeaponParent").width/2-50,new Laya.Point(this.ImgVar("WeaponParent").width/2,this.ImgVar("WeaponParent").height/2));t.x=a.x,t.y=a.y,t.rotation=e/o._arr.length*360,t.skin=`Game/UI/Game/Hero/Hero_01_weapon_${o._arr[e].name}.png`,t.addComponent(g),t.name=o._arr[e][o._property.name]}n._notify(c.WeaponSate,[u.rotate])}lwgEventRegister(){let e=20;n._register(c.calculateBlood,this,t=>{let n=this.ImgVar("Blood").getChildAt(0);n.width=n.width-5,e-=t,this.bloodNumSwitch||e<=0&&(this.bloodNumSwitch=!0,this.lwgOpenScene(a.Defeated,!1))});let t=this.ImgVar("EnemyParent").numChildren;n._register(c.destroyEnemy,this,()=>{t-=1,this.EnemyNumSwitch||t<=0&&(this.EnemyNumSwitch=!0,this.lwgOpenScene(a.Victory,!1))}),n._register(c.closeScene,this,()=>{this.lwgCloseScene()})}lwgOnStart(){r._frameLoop(1,this,()=>{this.ImgVar("LandContent").rotation+=.1}),e._fireControl.EnemyParent=this.ImgVar("EnemyParent"),e._fireControl.Aim=this.ImgVar("Aim");for(let e=0;e<this.ImgVar("EnemyParent").numChildren;e++){const t=this.ImgVar("EnemyParent").getChildAt(e);s.Node.changePovit(t,t.width/2,t.height/2),t.addComponent(y)}}lwgBtnClick(){this.ImgVar("AimOperation").height=this.ImgVar("WeaponOperation").height=Laya.stage.height,l._on(l._Type.noEffect,this.ImgVar("WeaponOperation"),this,t=>{e._fireControl.rotateSwitch=!1,e._fireControl.moveDownY=t.stageY},t=>{!e._fireControl.rotateSwitch&&Math.abs(e._fireControl.moveDownY-t.stageY)>10&&(e._fireControl.moveDownY-t.stageY>10?e._fireControl.moveRotateSpeed=-2:e._fireControl.moveRotateSpeed=2,e._fireControl.moveDownY=t.stageY,n._notify(c.WeaponSate,[u.mouseMove]))},t=>{e._fireControl.rotateSwitch=!0,e._fireControl.moveDownY=0,n._notify(c.WeaponSate,[u.launch])},t=>{e._fireControl.rotateSwitch=!0,e._fireControl.moveDownY=0}),l._on(l._Type.noEffect,this.ImgVar("AimOperation"),this,e=>{this.aimControl.moveDownY=e.stageY},e=>{this.aimControl.moveDownY&&Math.abs(this.aimControl.moveDownY-e.stageY)>5&&(this.aimControl.moveDownY-e.stageY>0?this.ImgVar("Aim").rotation+=2.5:this.ImgVar("Aim").rotation-=2.5,this.ImgVar("Aim").rotation<-45&&(this.ImgVar("Aim").rotation=-45),45<this.ImgVar("Aim").rotation&&(this.ImgVar("Aim").rotation=45),this.aimControl.moveDownY=e.stageY)},e=>{this.aimControl.moveDownY=null},e=>{this.aimControl.moveDownY=null}),l._on(l._Type.noEffect,this.ImgVar("Hero"),this,()=>{this.HeroMove=!0},e=>{this.HeroMove&&(this.ImgVar("HeroContent").x=e.stageX,this.ImgVar("HeroContent").y=e.stageY)},()=>{this.HeroMove=!1},()=>{this.HeroMove=!1})}}}(y||(y={}));var g;y.Game;!function(e){e._data=class{},e._init=function(){};e.Defeated=class extends t._SceneBase{lwgBtnClick(){l._on(l._Type.largen,this.ImgVar("BtnBack"),this,null,null,()=>{this.lwgOpenScene(a.Start),n._notify(y._Event.closeScene)})}}}(g||(g={}));var p;g.Defeated;!function(e){let o;e._complete={get bool(){return!!Laya.LocalStorage.getItem("_Guide_complete")&&0!=Number(Laya.LocalStorage.getItem("_Guide_complete"))},set bool(e){1==e&&(e=1),Laya.LocalStorage.setItem("_Guide_complete",e.toString())}},e._whichStep={get num(){return Laya.LocalStorage.getItem("_Guide_whichStep")?Number(Laya.LocalStorage.getItem("_Guide_whichStep")):1},set num(e){Laya.LocalStorage.setItem("_Guide_whichStep",e.toString())}},e._whichStepNum=1,function(e){e.onStep="_Guide_onStep",e.stepComplete="_Guide_stepComplete",e.appear="_Guide_appear",e.start="_Guide_start",e.complete="_Guide_complete"}(o=e._Event||(e._Event={})),e._init=function(){console.log("开始进行新手引导！"),t._openScene(a.Start,null,()=>{console.log("新手引导完成！")})};e._GuideBase=class extends t._SceneBase{moduleOnAwake(){}moduleOnEnable(){}moduleEventRegister(){}};e.Guide=class extends e._GuideBase{lwgOnEnable(){this.Owner.Background.alpha=0,this.Owner.Hand.alpha=0,n._notify(e._Event.onStep),this.Owner.Draw.on(Laya.Event.LABEL,this,e=>{if("start"===e){if(!this.Owner.Hand.getChildByName("DrawCanvas")){let e=new Laya.Sprite;e.name="DrawCanvas",this.Owner.Hand.addChild(e),this.Owner.Handpic.pos(0,0),this.Owner.Handpic.pivotX=0,this.Owner.Handpic.pivotY=0,this.drawLinePos=new Laya.Point(this.Owner.Handpic.x,this.Owner.Handpic.y)}}else if("end"===e){let e=this.Owner.Hand.getChildByName("DrawCanvas");this.Owner.Hand.getChildByName("DrawCanvas")&&(this.drawLinePos,e.removeSelf())}}),r._frameLoop(1,this,()=>{let e=this.Owner.Hand.getChildByName("DrawCanvas");e&&this.drawLinePos&&(e.graphics.drawLine(this.drawLinePos.x,this.drawLinePos.y,this.Owner.Handpic.x,this.Owner.Handpic.y,"#000000",8),e.graphics.drawCircle(this.Owner.Handpic.x,this.Owner.Handpic.y,4,"#000000"),this.drawLinePos=new Laya.Point(this.Owner.Handpic.x,this.Owner.Handpic.y))})}lwgEventRegister(){var a=()=>{this.Owner.Draw.play(0,!0),n._notify(e._Event.appear),this.Owner.Hand.pos(198,523),s.Draw.reverseRoundMask(this.Owner.Background,360,598,350,!0)},r=()=>{n._notify(e._Event.appear),this.Owner.Hand.pos(360,1161),this.Owner.Click.play(0,!0),s.Draw.reverseRoundrectMask(this.Owner.Background,360,1161,320,150,40,!0)},o=()=>{n._notify(e._Event.appear),this.Owner.Hand.pos(75,102),this.Owner.Click.play(0,!0),s.Draw.reverseRoundMask(this.Owner.Background,72,105,60)},l=()=>{n._notify(e._Event.appear),this.Owner.Hand.pos(630,790),this.Owner.Click.play(0,!0),s.Draw.reverseRoundrectMask(this.Owner.Background,653,758,130,150,20,!0)},c=()=>{n._notify(e._Event.appear),this.Owner.Hand.pos(360,.779*Laya.stage.height),this.Owner.Click.play(0,!0),s.Draw.reverseRoundrectMask(this.Owner.Background,360,.779*Laya.stage.height,450,180,20,!0)};n._register(e._Event.onStep,this,()=>{Laya.timer.once(500,this,()=>{switch(console.log("新手引导到了第：",e._whichStepNum+"步了"),e._whichStepNum){case 1:a();break;case 2:r();break;case 3:a();break;case 4:r();break;case 5:o();break;case 6:l();break;case 7:o();break;case 8:c()}})}),n._register(e._Event.appear,this,e=>{i.fadeOut(this.Owner.Hand,0,1,150),i.fadeOut(this.Owner.Background,0,.5,300)}),n._register(e._Event.stepComplete,this,()=>{e._whichStepNum++;let t=this.Owner.Hand.getChildByName("DrawCanvas");this.Owner.Hand.getChildByName("DrawCanvas")&&(this.drawLinePos,t.removeSelf()),i.fadeOut(this.Owner.Hand,1,0,150),i.fadeOut(this.Owner.Background,.5,0,300,0,()=>{this.Owner.Draw.stop(),this.Owner.Click.stop()})}),n._register(e._Event.complete,this,()=>{i.fadeOut(this.Owner.Hand,1,0,150),i.fadeOut(this.Owner.Background,.5,0,300,0,()=>{e._complete.bool=!0,t._closeScene(this.Owner.name)})})}}}(p||(p={}));var _;p.Guide;!function(e){e._init=function(){};class n extends t._SceneBase{moduleOnAwake(){}}e._StartScene=n;e.Start=class extends n{lwgOnAwake(){}lwgBtnClick(){l._on(l._Type.largen,this.btnVar("BtnStart"),this,null,null,()=>{let e=a.Game+1;this.lwgOpenScene(e,!0,()=>{t._sceneControl[e].getComponent(y.Game)||t._sceneControl[e].addComponent(y.Game)})})}};e.StartItem=class extends t._Object{}}(_||(_={}));var f;_.Start;!function(e){e._data=class{},e._init=function(){};e.Victory=class extends t._SceneBase{lwgBtnClick(){l._on(l._Type.largen,this.ImgVar("BtnGet"),this,null,null,()=>{this.lwgOpenScene(a.Start),n._notify(y._Event.closeScene)})}}}(f||(f={}));var L;f.Victory;L||(L={});class w extends d{lwgOnAwake(){u._pkgInfo=[],t._platform.name=t._platform.tpye.Research,t._sceneAnimation.presentAni=t._sceneAnimation.type.stickIn.random,t._moudel={_PreLoad:m,_Guide:p,_Start:_,_Game:y,_Victory:f,_Defeated:g}}}class S{constructor(){}static init(){(0,Laya.ClassUtils.regClass)("script/Frame/LwgInit.ts",w)}}S.width=720,S.height=1280,S.scaleMode="fixedwidth",S.screenMode="vertical",S.alignV="top",S.alignH="left",S.startScene="Scene/Lwginit.scene",S.sceneRoot="",S.debug=!1,S.stat=!1,S.physicsDebug=!0,S.exportSceneToJson=!0,S.init();new class{constructor(){window.Laya3D?Laya3D.init(S.width,S.height):Laya.init(S.width,S.height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=S.scaleMode,Laya.stage.screenMode=S.screenMode,Laya.stage.alignV=S.alignV,Laya.stage.alignH=S.alignH,Laya.URL.exportSceneToJson=S.exportSceneToJson,(S.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),S.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),S.stat&&Laya.Stat.show(),Laya.alertGlobalError=!0,Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){S.startScene&&Laya.Scene.open(S.startScene)}}}();