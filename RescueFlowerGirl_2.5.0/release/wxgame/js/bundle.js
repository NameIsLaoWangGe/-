!function(){"use strict";var e;!function(e){let t,n,o,r,i,l,s,c,u,h,_,d,m,y,g,p,f,L,S,w,b,v;!function(e){let t,a,n,o;function getDialogContent_Random(e){let t=[],a=getUseWhere(e),n=Math.floor(Math.random()*a.length);for(const e in a[n])if(a[n].hasOwnProperty(e)){const o=a[n][e];"content"==e.substring(0,7)&&"-1"!==o&&t.push(o)}return t}function getUseWhere(t){let a=[];for(let n=0;n<e._dialogContent.Array.length;n++){const o=e._dialogContent.Array[n];o.useWhere==t&&a.push(o)}return a}!function(e){e.blackBord="Frame/UI/ui_orthogon_black.png"}(t||(t={})),e.createHint_Middle=function(e){let a=Laya.Pool.getItemByClass("Hint_M",Laya.Sprite);a.name="Hint_M",Laya.stage.addChild(a),a.width=Laya.stage.width,a.height=100,a.pivotY=a.height/2,a.pivotX=Laya.stage.width/2,a.x=Laya.stage.width/2,a.y=Laya.stage.height/2,a.zOrder=100;let n=new Laya.Image;a.addChild(n),n.skin=t.blackBord,n.width=Laya.stage.width,n.pivotX=Laya.stage.width/2,n.height=100,n.pivotY=n.height/2,n.y=a.height/2,n.x=Laya.stage.width/2,n.alpha=.6;let o=new Laya.Label;a.addChild(o),o.width=Laya.stage.width,o.text=e,o.pivotX=Laya.stage.width/2,o.x=Laya.stage.width/2,o.height=100,o.pivotY=50,o.y=a.height/2,o.bold=!0,o.fontSize=35,o.color="#ffffff",o.align="center",o.valign="middle",o.alpha=0,p.scale_Alpha(a,0,1,0,1,1,1,200,0,e=>{p.fadeOut(o,0,1,150,0,e=>{p.fadeOut(o,1,0,200,800,e=>{p.scale_Alpha(a,1,1,1,1,0,0,200,0,e=>{a.removeSelf()})})})})},e._dialogContent={get Array(){return null!==Laya.loader.getRes("GameData/Dialogue/Dialogue.json").RECORDS?Laya.loader.getRes("GameData/Dialogue/Dialogue.json").RECORDS:[]}},e.getDialogContent=function(t,a){let n;for(let o=0;o<e._dialogContent.Array.length;o++){const r=e._dialogContent.Array[o];if(r.useWhere==t&&r.name==a){n=r;break}}let o=[];for(const e in n)if(n.hasOwnProperty(e)){const t=n[e];"content"!=e.substring(0,7)&&-1===t||o.push(t)}return o},e.getDialogContent_Random=getDialogContent_Random,e.getUseWhere=getUseWhere,function(e){e.scene1="scene1",e.scene2="scene2",e.scene3="scene3"}(a=e.UseWhere||(e.UseWhere={})),function(e){e.name="name",e.useWhere="useWhere",e.content="content",e.max="max"}(n=e.DialogProperty||(e.DialogProperty={})),function(e){e.voluntarily="voluntarily",e.manual="manual",e.clickContent="clickContent"}(o=e.PlayMode||(e.PlayMode={})),e.createVoluntarilyDialogue=function(t,a,n,o,r,i,l){null==o&&(o=0),Laya.timer.once(o,this,()=>{let o;Laya.loader.load("Prefab/Dialogue_Common.json",Laya.Handler.create(this,function(s){let c=new Laya.Prefab;c.json=s,o=Laya.Pool.getItemByCreateFun("Pre_Dialogue",c.create,c),i?i.addChild(o):Laya.stage.addChild(o),o.x=t,o.y=a;let u,h=o.getChildByName("Content");void 0!==l?h.text=l[0]:(u=getDialogContent_Random(n),h.text=u[0]),o.zOrder=100,null==r&&(r=1e3),p.scale_Alpha(o,0,0,0,1,1,1,150,1e3,()=>{for(let e=0;e<u.length;e++)Laya.timer.once(e*r,this,()=>{h.text=u[e],e==u.length-1&&Laya.timer.once(r,this,()=>{p.scale_Alpha(o,1,1,1,0,0,0,150,1e3,()=>{o.removeSelf()})})})}),e.DialogueNode=o}))})},e.createCommonDialog=function(e,t,a,n){let o;Laya.loader.load("Prefab/Dialogue_Common.json",Laya.Handler.create(this,function(r){let i=new Laya.Prefab;i.json=r,o=Laya.Pool.getItemByCreateFun("Dialogue_Common",i.create,i),e.addChild(o),o.pos(t,a),o.getChildByName("Dialogue_Common").text=n}))}}(t=e.Dialogue||(e.Dialogue={})),function(e){let t;function _createOne(a,n,o){let r=Laya.Pool.getItemByClass("addGold",Laya.Image);r.name="addGold";Math.floor(12*Math.random());return r.alpha=1,r.zOrder=60,r.width=a,r.height=n,r.pivotX=a/2,r.pivotY=n/2,r.skin=o||t[0],e.GoldNode&&(r.zOrder=e.GoldNode.zOrder+10),r}e._num={get value(){return Laya.LocalStorage.getItem("GoldNum")?Number(Laya.LocalStorage.getItem("GoldNum")):0},set value(e){Laya.LocalStorage.setItem("GoldNum",e.toString())}},e._createGoldNode=function(t,a,n){let o;n||(n=Laya.stage),e.GoldNode&&e.GoldNode.removeSelf(),Laya.loader.load("Prefab/LwgGold.json",Laya.Handler.create(this,function(r){let i=new Laya.Prefab;i.json=r,(o=Laya.Pool.getItemByCreateFun("gold",i.create,i)).getChildByName("Num").text=S._Format.formatNumber(e._num.value),n.addChild(o),o.pos(t,a),o.zOrder=100,e.GoldNode=o}))},e._add=function(t){e._num.value+=Number(t),e.GoldNode.getChildByName("Num").text=S._Format.formatNumber(e._num.value)},e._addDisPlay=function(t){let a=e.GoldNode.getChildByName("Num");a.value=(Number(a.value)+Number(t)).toString()},e._addNoDisPlay=function(t){e._num.value+=Number(t)},e._nodeAppear=function(t,a,n){e.GoldNode&&(t?p.scale_Alpha(e.GoldNode,0,1,1,1,1,1,t,0,t=>{e.GoldNode.visible=!0}):e.GoldNode.visible=!0,a&&(e.GoldNode.x=a),n&&(e.GoldNode.y=n))},e._nodeVinish=function(t){e.GoldNode&&(t?p.scale_Alpha(e.GoldNode,1,1,1,1,1,0,t,0,t=>{e.GoldNode.visible=!1}):e.GoldNode.visible=!1)},function(e){e[e["Frame/Effects/iconGold.png"]=0]="Frame/Effects/iconGold.png"}(t||(t={})),e._createOne=_createOne,e._getAni_Single=function(e,t,a,n,o,r,i,l,s){for(let c=0;c<t;c++)Laya.timer.once(30*c,this,()=>{let u=_createOne(a,n,o);e.addChild(u),p.move_Scale(u,1,r.x,r.y,i.x,i.y,1,350,0,null,()=>{L._playSound(L._voiceUrl.huodejinbi),c===t-1?Laya.timer.once(200,this,()=>{s&&s()}):l&&l(),u.removeSelf()})})},e._getAni_Heap=function(a,n,o,r,i,l,s,c,u){for(let h=0;h<n;h++){let _=_createOne(o||100,r||100,i||t[0]);(a=a||Laya.stage).addChild(_),l=l||new Laya.Point(Laya.stage.width/2,Laya.stage.height/2),s=s||new Laya.Point(e.GoldNode.x,e.GoldNode.y);let d=1==Math.floor(2*Math.random())?l.x+100*Math.random():l.x-100*Math.random(),m=1==Math.floor(2*Math.random())?l.y+100*Math.random():l.y-100*Math.random();p.move_Scale(_,.5,l.x,l.y,d,m,1,300,100*Math.random()+100,Laya.Ease.expoIn,()=>{p.move_Scale(_,1,_.x,_.y,s.x,s.y,1,400,200*Math.random()+100,Laya.Ease.cubicOut,()=>{L._playSound(L._voiceUrl.huodejinbi),h===n-1?Laya.timer.once(200,this,()=>{u&&u()}):c&&c(),_.removeSelf()})})}}}(n=e.Gold||(e.Gold={})),function(e){e.dispatcher=new Laya.EventDispatcher,e._register=function(t,a,n){a||console.error("事件的执行域必须存在!"),e.dispatcher.on(t.toString(),a,n)},e._registerOnce=function(t,a,n){a||console.error("事件的执行域必须存在!"),e.dispatcher.once(t.toString(),a,n)},e._notify=function(t,a){e.dispatcher.event(t.toString(),a)},e._off=function(t,a,n){e.dispatcher.off(t.toString(),a,n)},e._offAll=function(t){e.dispatcher.offAll(t.toString())},e._offCaller=function(t){e.dispatcher.offAllCaller(t)}}(o=e.EventAdmin||(e.EventAdmin={})),function(e){e._date={get year(){return(new Date).getFullYear()},get month(){return(new Date).getMonth()},get date(){return(new Date).getDate()},get day(){return(new Date).getDay()},get hours(){return(new Date).getHours()},get minutes(){return(new Date).getMinutes()},get seconds(){return(new Date).getSeconds()},get milliseconds(){return(new Date).getMilliseconds()},get toLocaleDateString(){return(new Date).toLocaleDateString()},get toLocaleTimeString(){return(new Date).toLocaleTimeString()}},e._loginDate={get value(){let e,t=[],a=new Date,n=[a.getFullYear(),a.getMonth()+1,a.getDate(),a.getDay()];try{e=Laya.LocalStorage.getJSON("DateAdmin_loginDate");let t=[];t=JSON.parse(e);let a=!1;for(let e=0;e<t.length;e++)t[e].toString()==n.toString()&&(a=!0);a||t.push(n)}catch(e){0==t.length&&t.push(n)}return Laya.LocalStorage.setJSON("DateAdmin_loginDate",JSON.stringify(t)),t}},e._loginNumber={get value(){return Laya.LocalStorage.getItem("DateAdmin_loginNumber")?Number(Laya.LocalStorage.getItem("DateAdmin_loginNumber")):1},set value(e){Laya.LocalStorage.setItem("DateAdmin_loginNumber",e.toString())}},e._last={get date(){return Laya.LocalStorage.getItem("DateAdmin_last")?Number(Laya.LocalStorage.getItem("DateAdmin_last")):e._date.date},setLastDate(){Laya.LocalStorage.setItem("DateAdmin_last",e._date.date.toString())}}}(r=e.DateAdmin||(e.DateAdmin={})),function(e){e._switch=!0,e._frameLoop=function(t,a,n,o,r,i){o&&e._switch&&n(),Laya.timer.frameLoop(t,a,()=>{e._switch&&n()},r,i)},e._frameRandomLoop=function(t,a,n,o,r,i,l){r&&e._switch&&o();var s=()=>{let r=S._Number.randomOneInt(t,a);Laya.timer.frameOnce(r,n,()=>{e._switch&&(o(),s())},i,l)};s()},e._frameNumLoop=function(t,a,n,o,r,i,l,s){i&&e._switch&&o();let c=0;var u=()=>{e._switch&&(++c>=a?(o(),r&&r(),Laya.timer.clear(n,u)):o())};Laya.timer.frameLoop(t,n,u,l,s)},e._frameOnce=function(e,t,a,n,o,r){n&&n(),Laya.timer.frameOnce(e,t,()=>{a()},o,r)},e._loop=function(t,a,n,o,r,i){o&&e._switch&&n(),Laya.timer.loop(t,a,()=>{e._switch&&n()},r,i)},e._randomLoop=function(t,a,n,o,r,i,l){r&&e._switch&&o();var s=()=>{let r=S._Number.randomOneInt(t,a);Laya.timer.once(r,n,()=>{e._switch&&(o(),s())},i,l)};s()},e._numLoop=function(t,a,n,o,r,i,l,s){i&&o();let c=0;var u=()=>{e._switch&&(++c>a?(o(),r&&r(),Laya.timer.clear(n,u)):o())};Laya.timer.loop(t,n,u,l,s)},e._once=function(e,t,a,n,o){a&&a(),Laya.timer.once(e,{},()=>{t()},n,o)}}(i=e.TimerAdmin||(e.TimerAdmin={})),function(e){e._Use={get value(){return this.Adaptive_value?this.Adaptive_value:null},set value(e){this.Adaptive_value=e}},e._stageWidth=function(t){for(let a=0;a<t.length;a++){const n=t[a];0==n.pivotX&&n.width?n.x=n.x/e._Use.value[0]*Laya.stage.width+n.width/2:n.x=n.x/e._Use.value[0]*Laya.stage.width}},e._stageHeight=function(t){for(let a=0;a<t.length;a++){const n=t[a];0==n.pivotY&&n.height?n.y=n.y/e._Use.value[1]*n.scaleX*Laya.stage.height+n.height/2:n.y=n.y/e._Use.value[1]*n.scaleX*Laya.stage.height}},e._center=function(e,t){for(let a=0;a<e.length;a++){const n=e[a];n.width>0?n.x=t.width/2-(n.width/2-n.pivotX)*n.scaleX:n.x=t.width/2,n.height>0?n.y=t.height/2-(n.height/2-n.pivotY)*n.scaleY:n.y=t.height/2}}}(l=e.Adaptive||(e.Adaptive={})),function(e){function _stickIn(t,a){let n=0;t.getChildByName("Background")&&p.fadeOut(t.getChildByName("Background"),0,1,700);let o=S._Node.zOrderByY(t,!1);for(let t=0;t<o.length;t++){const n=o[t];if("Background"!==n.name&&"NoAni"!==n.name.substr(0,5)){let o=n.pivotX,r=n.pivotY;switch(a){case e._Type.stickIn.upLeftDownLeft:n.rotation=n.y>Laya.stage.height/2?-180:180,S._Node.changePivot(n,0,0);break;case e._Type.stickIn.upRightDownLeft:n.rotation=n.y>Laya.stage.height/2?-180:180,S._Node.changePivot(n,180==n.rotation?n.width:0,0);break;case e._Type.stickIn.random:n.rotation=1==S._Number.randomOneHalf()?180:-180,S._Node.changePivot(n,1==S._Number.randomOneHalf()?0:n.width,1==S._Number.randomOneHalf()?0:n.height)}let i=n.x,l=n.y;n.x=n.pivotX>n.width/2?800+n.width:-800-n.width,n.y=n.rotation>0?n.y+200:n.y-200,p.simple_Rotate(n,n.rotation,0,700,100*t),p.move_Simple(n,n.x,n.y,i,l,700,100*t,()=>{S._Node.changePivot(n,o,r)})}}return n=100*t.numChildren+700+200}e._Type={fadeOut:"fadeOut",stickIn:{random:"random",upLeftDownLeft:"upLeftDownRight",upRightDownLeft:"upRightDownLeft"},leftMove:"leftMove",rightMove:"rightMove",centerRotate:"centerRotate",drawUp:"drawUp"},e._vanishSwitch=!1,e._openSwitch=!0,e._Use={get value(){return this.SceneAnimation_name?this.SceneAnimation_name:null},set value(e){this.SceneAnimation_name=e}},e._commonVanishAni=function(t,a){let n,o;switch(t[t.name].lwgBeforeVanishAni(),e._Use.value){case e._Type.fadeOut:n=150,o=50,t.Background&&p.fadeOut(t,1,0,75),p.fadeOut(t,1,0,150,50,()=>{a()});break;case e._Type.stickIn.random:a()}},e._commonOpenAni=function(t){let a,n,o;switch(e._Use.value){case e._Type.fadeOut:a=400,n=300,t.Background&&p.fadeOut(t,0,1,200,300),p.fadeOut(t,0,1,400,0),o=400;break;case e._Type.stickIn.upLeftDownLeft:_stickIn(t,e._Type.stickIn.upLeftDownLeft);break;case e._Type.stickIn.upRightDownLeft:_stickIn(t,e._Type.stickIn.upRightDownLeft);case e._Type.stickIn.random:_stickIn(t,e._Type.stickIn.random)}return Laya.timer.once(o,this,()=>{u._clickLock.switch=!1,t[t.name]&&(t[t.name].lwgOpenAniAfter(),t[t.name].lwgBtnRegister())}),o}}(s=e.SceneAnimation||(e.SceneAnimation={})),function(e){e._Tpye={Bytedance:"Bytedance",WeChat:"WeChat",OPPO:"OPPO",OPPOTest:"OPPOTest",VIVO:"VIVO",General:"General",Web:"Web",WebTest:"WebTest",Research:"Research"},e._Ues={get value(){return this._platform_name?this._platform_name:null},set value(t){switch(this._platform_name=t,t){case e._Tpye.WebTest:Laya.LocalStorage.clear(),n._num.value=5e3;break;case e._Tpye.Research:Laya.Stat.show(),n._num.value=5e13}}}}(c=e.Platform||(e.Platform={})),function(e){e._game={switch:!0,get level(){return Laya.LocalStorage.getItem("_gameLevel")?Number(Laya.LocalStorage.getItem("_gameLevel")):1},set level(e){let t=e-this.level;t>0&&(this.maxLevel+=t),e>this.loopLevel&&-1!=this.loopLevel?Laya.LocalStorage.setItem("_gameLevel",1..toString()):Laya.LocalStorage.setItem("_gameLevel",e.toString())},get maxLevel(){return Laya.LocalStorage.getItem("_game_maxLevel")?Number(Laya.LocalStorage.getItem("_game_maxLevel")):this.level},set maxLevel(e){Laya.LocalStorage.setItem("_game_maxLevel",e.toString())},get loopLevel(){return this._gameloopLevel?this._gameloopLevel:-1},set loopLevel(e){this._gameloopLevel=e},LevelNode:new Laya.Sprite,_createLevel(t,a,n){let o;Laya.loader.load("prefab/LevelNode.json",Laya.Handler.create(this,function(r){let i=new Laya.Prefab;i.json=r,o=Laya.Pool.getItemByCreateFun("prefab",i.create,i),t.addChild(o),o.pos(a,n),o.zOrder=0;o.getChildByName("level");e._game.LevelNode=o}))},pause:{get switch(){return e._game.switch},set switch(t){this.bool=t,t?(e._game.switch=!1,Laya.timer.pause()):(e._game.switch=!0,Laya.timer.resume())}}};function _unlockPreventClick(e){let t=e.getChildByName("__lockClick__");t&&t.removeSelf()}let t;function _openScene(t,a,n,o){e._clickLock.switch=!0,Laya.Scene.load("Scene/"+t+".json",Laya.Handler.create(this,function(r){e._moudel["_"+t]?e._moudel["_"+t][t]&&(r.getComponent(e._moudel["_"+t][t])||r.addComponent(e._moudel["_"+t][t])):console.log(`${t}场景没有同名脚本！,需在LwgInit脚本中导入该模块！`),r.width=Laya.stage.width,r.height=Laya.stage.height;var i=()=>{S._Node.checkChildren(Laya.stage,t)?console.log(t,"场景重复出现！请检查代码"):(o?Laya.stage.addChildAt(r,o):Laya.stage.addChild(r),n&&n())};r.name=t,e._sceneControl[t]=r;let l=r.getChildByName("Background");l&&(l.width=Laya.stage.width,l.height=Laya.stage.height),e._sceneControl[a]?_closeScene(a,i):i()}))}function _closeScene(t,a){if(!e._sceneControl[t])return void console.log("场景",t,"关闭失败！可能是名称不对！");var n=()=>{e._clickLock.switch=!1,e._sceneControl[t].close(),a&&a()};if(!s._vanishSwitch)return void n();let o=e._sceneControl[t][e._sceneControl[t].name];if(o&&o){e._clickLock.switch=!0,o.lwgBeforeVanishAni();let a=o.lwgVanishAni();null!==a?Laya.timer.once(a,this,()=>{n(),e._clickLock.switch=!1}):s._commonVanishAni(e._sceneControl[t],n)}}e._Game=class{},e._clickLock={get switch(){return!!Laya.stage.getChildByName("__stageClickLock__")},set switch(e){if(e){if(!Laya.stage.getChildByName("__stageClickLock__")){let e=new Laya.Sprite;e.name="__stageClickLock__",Laya.stage.addChild(e),e.zOrder=3e3,e.width=Laya.stage.width,e.height=Laya.stage.height,e.pos(0,0),y._on(y._Type.no,e,this,null,null,e=>{console.log("舞台点击被锁住了！请用admin._clickLock=false解锁"),e.stopPropagation()})}}else Laya.stage.getChildByName("__stageClickLock__")&&Laya.stage.getChildByName("__stageClickLock__").removeSelf()}},e._secneLockClick=function(e){_unlockPreventClick(e);let t=new Laya.Sprite;e.addChild(t),t.zOrder=1e3,t.name="__lockClick__",t.width=Laya.stage.width,t.height=Laya.stage.height,t.pos(0,0),y._on(y._Type.no,t,this,null,null,e=>{console.log("场景点击被锁住了！请用admin._unlockPreventClick（）解锁"),e.stopPropagation()})},e._unlockPreventClick=_unlockPreventClick,e._sceneControl={},e._sceneScript={},e._moudel={},function(e){e.PreLoad="PreLoad",e.PreLoadCutIn="PreLoadCutIn",e.Guide="Guide",e.Start="Start",e.Shop="Shop",e.Task="Task",e.Set="Set",e.Skin="Skin",e.Puase="Puase",e.Share="Share",e.Game3D="Game3D",e.Victory="Victory",e.Defeated="Defeated",e.PassHint="PassHint",e.SkinTry="SkinTry",e.Redeem="Redeem",e.Turntable="Turntable",e.CaidanPifu="CaidanPifu",e.Operation="Operation",e.VictoryBox="VictoryBox",e.CheckIn="CheckIn",e.Resurgence="Resurgence",e.AdsHint="AdsHint",e.LwgInit="LwgInit",e.Game="Game",e.SmallHint="SmallHint",e.DrawCard="DrawCard",e.PropTry="PropTry",e.Card="Card",e.ExecutionHint="ExecutionHint",e.SkinQualified="SkinQualified",e.Eastereggister="Eastereggister",e.SelectLevel="SelectLevel",e.Settle="Settle",e.Special="Special",e.Compound="Compound"}(t=e._SceneName||(e._SceneName={})),e._preLoadOpenScene=function(a,n,o,r){_openScene(t.PreLoadCutIn),e._preLoadOpenSceneLater.openName=a,e._preLoadOpenSceneLater.cloesName=n,e._preLoadOpenSceneLater.func=o,e._preLoadOpenSceneLater.zOrder=r},e._preLoadOpenSceneLater={openName:null,cloesName:null,func:null,zOrder:null},e._openScene=_openScene,e._closeScene=_closeScene,e._gameState={type:{Start:"Start",Play:"Play",Pause:"pause",Victory:"victory",Defeated:"defeated"},state:"Start",setState(a){switch(a){case t.Start:e._gameState.state=e._gameState.type.Start;break;case t.Game:e._gameState.state=e._gameState.type.Play;break;case t.Defeated:e._gameState.state=e._gameState.type.Defeated;break;case t.Victory:e._gameState.state=e._gameState.type.Victory}}};class a extends Laya.Script{constructor(){super(...arguments),this.ownerSceneName=""}_storeNum(e,t){return h._mum(`${this.owner.name}/${e}`,t)}_storeStr(e,t){return h._str(`${this.owner.name}/${e}`,t)}_storeBool(e,t){return h._bool(`${this.owner.name}/${e}`,t)}_storeArray(e,t){return h._array(`${this.owner.name}/${e}`,t)}lwgOnAwake(){}lwgAdaptive(){}lwgEventRegister(){}_evReg(e,t){o._register(e,this,t)}_evRegOne(e,t){o._registerOnce(e,this,t)}_evNotify(e,t){o._notify(e,t)}lwgOnEnable(){}lwgOnStart(){}lwgBtnRegister(){}_btnDown(e,t,a){y._on(null==a?y._Use.value:a,e,this,e=>{y._switch&&t&&t(e)},null,null,null)}_btnMove(e,t,a){y._on(null==a?y._Use.value:a,e,this,null,e=>{y._switch&&t&&t(e)},null,null)}_btnUp(e,t,a){y._on(null==a?y._Use.value:a,e,this,null,null,e=>{y._switch&&t&&t(e)},null)}_btnOut(e,t,a){y._on(null==a?y._Use.value:a,e,this,null,null,null,e=>{y._switch&&t&&t(e)})}_btnFour(e,t,a,n,o,r){y._on(null==r?r:y._Use.value,e,this,e=>{y._switch&&t&&t(e)},e=>{y._switch&&a&&a(e)},e=>{y._switch&&n&&n(e)},e=>{y._switch&&o&&o(e)})}_openScene(t,a,n,o,r){let i;null!=a&&1!=a||(i=this.ownerSceneName),o?e._preLoadOpenScene(t,i,n,r):e._openScene(t,i,n,r)}_closeScene(t,a){e._closeScene(t||this.ownerSceneName,a)}lwgOnUpdate(){}lwgOnDisable(){}onStageMouseDown(e){y._switch&&this.lwgOnStageDown(e)}onStageMouseMove(e){y._switch&&this.lwgOnStageMove(e)}onStageMouseUp(e){y._switch&&this.lwgOnStageUp(e)}lwgOnStageDown(e){}lwgOnStageMove(e){}lwgOnStageUp(e){}}e._SceneBase=class extends a{constructor(){super(),this._calssName=t.PreLoad}get _Owner(){return this.owner}getVar(e,t){return this[`_Scene${t}${e}`]?this[`_Scene${t}${e}`]:this._Owner[e]?this[`_Scene${t}${e}`]=this._Owner[e]:void console.log("场景内不存在var节点：",e)}_SpriteVar(e){return this.getVar(e,"_SpriteVar")}_AniVar(e){return this.getVar(e,"_AniVar")}_BtnVar(e){return this.getVar(e,"_BtnVar")}_ImgVar(e){return this.getVar(e,"_ImgVar")}_LabelVar(e){return this.getVar(e,"_LabelVar")}_ListVar(e){return this.getVar(e,"_ListVar")}_TapVar(e){return this.getVar(e,"_TapVar")}_TextVar(e){return this.getVar(e,"_TextVar")}_FontClipVar(e){return this.getVar(e,"_FontClipVar")}_FontBox(e){return this.getVar(e,"_FontBox")}onAwake(){null==this._Owner.name?console.log("场景名称失效，脚本赋值失败"):(this._calssName=this._Owner.name,this._Owner[this._calssName]=this),this.ownerSceneName=this.owner.name,this.moduleOnAwake(),this.lwgOnAwake(),this.lwgAdaptive()}moduleOnAwake(){}onEnable(){this.moduleEventRegister(),this.lwgEventRegister(),this.moduleOnEnable(),this.lwgOnEnable(),this.btnAndlwgOpenAni()}moduleOnEnable(){}moduleEventRegister(){}onStart(){this.moduleOnStart(),this.lwgOnStart()}moduleOnStart(){}btnAndlwgOpenAni(){let t=this.lwgOpenAni();null!==t?Laya.timer.once(t,this,()=>{e._clickLock.switch=!1,this.lwgOpenAniAfter(),this.lwgBtnRegister()}):t=s._commonOpenAni(this._Owner)}lwgOpenAni(){return null}lwgOpenAniAfter(){}_adaHeight(e){l._stageHeight(e)}_adaWidth(e){l._stageWidth(e)}_adaptiveCenter(e){l._center(e,Laya.stage)}onUpdate(){this.lwgOnUpdate()}lwgBeforeVanishAni(){}lwgVanishAni(){return null}onDisable(){p.fadeOut(this._Owner,1,0,2e3,1),this.lwgOnDisable(),Laya.timer.clearAll(this),Laya.Tween.clearAll(this),o._offCaller(this)}};e._ObjectBase=class extends a{constructor(){super()}get _Owner(){return this.owner}get _Scene(){return this.owner.scene}get _Parent(){if(this._Owner.parent)return this.owner.parent}get _RigidBody(){return this._Owner._OwnerRigidBody||(this._Owner._OwnerRigidBody=this._Owner.getComponent(Laya.RigidBody)),this._Owner._OwnerRigidBody}get _BoxCollier(){return this._Owner._OwnerBoxCollier||(this._Owner._OwnerBoxCollier=this._Owner.getComponent(Laya.BoxCollider)),this._Owner._OwnerBoxCollier}get _CilrcleCollier(){return this._Owner._OwnerCilrcleCollier?this._Owner._OwnerCilrcleCollier:this._Owner._OwnerCilrcleCollier=this._Owner.getComponent(Laya.BoxCollider)}get _PolygonCollier(){return this._Owner._OwnerPolygonCollier?this._Owner._OwnerPolygonCollier:this._Owner._OwnerPolygonCollier=this._Owner.getComponent(Laya.BoxCollider)}getSceneVar(e,t){return this[`_Scene${t}${e}`]?this[`_Scene${t}${e}`]:this._Scene[e]?this[`_Scene${t}${e}`]=this._Scene[e]:void console.log(`场景内不存在var节点${e}`)}_SceneSprite(e){return this.getSceneVar(e,"_SceneSprite")}_SceneImg(e){return this.getSceneVar(e,"_SceneImg")}_SceneLabel(e){return this.getSceneVar(e,"_SceneLabel")}_SceneList(e){return this.getSceneVar(e,"_SceneList")}_SceneTap(e){return this.getSceneVar(e,"_SceneTap")}_SceneText(e){return this.getSceneVar(e,"_SceneText")}_SceneFontClip(e){return this.getSceneVar(e,"_SceneFontClip")}_SceneBox(e){return this.getSceneVar(e,"_SceneBox")}getChild(e,t){return this[`${t}${e}`]?this[`${t}${e}`]:this._Owner.getChildByName(e)?this[`${t}${e}`]=this._Owner.getChildByName(e):(console.log("场景内不存在子节点：",e),null)}_ImgChild(e){return this.getChild(e,"_ImgChild")}_SpriteChild(e){return this.getChild(e,"_SpriteChild")}_LableChild(e){return this.getChild(e,"_LableChild")}_ListChild(e){return this.getChild(e,"_ListChild")}_TapChild(e){return this.getChild(e,"_TapChild")}_TapBox(e){return this.getChild(e,"_TapBox")}_TapFontClip(e){return this.getChild(e,"_TapFontClip")}onAwake(){this._Owner[this.__proto__.constructor.name]=this,this.ownerSceneName=this._Scene.name,this.lwgOnAwake(),this.lwgAdaptive()}onEnable(){this.lwgBtnRegister(),this.lwgEventRegister(),this.lwgOnEnable()}onStart(){this.lwgOnStart()}onUpdate(){this.lwgOnUpdate()}onDisable(){this.lwgOnDisable(),Laya.timer.clearAll(this),o._offCaller(this)}}}(u=e.Admin||(e.Admin={})),function(e){class t{get value(){}set value(e){this._numVariable=e}}e._NumVariable=t;class a{get value(){}set value(e){this._strVariable=e}}e._StrVariable=a;class n{get value(){}set value(e){this._boolVariable=e}}e._BoolVariable=n;class o{get value(){}set value(e){this._arrayVariable=e}}e._ArrayVariable=o,e._mum=function(e,a){let n=new t;return n=this[`_mum${e}`]={get value(){return Laya.LocalStorage.getItem(e)?Laya.LocalStorage.getItem(e):(a=a||0,Laya.LocalStorage.setItem(e,a.toString()),a)},set value(t){Laya.LocalStorage.setItem(e,t.toString())}}},e._str=function(e,t){let n=new a;return n=this[`_str${e}`]={get value(){return Laya.LocalStorage.getItem(e)?Laya.LocalStorage.getItem(e):(t=t||null,Laya.LocalStorage.setItem(e,t.toString()),t)},set value(t){Laya.LocalStorage.setItem(e,t.toString())}}},e._bool=function(e,t){let a=new n;return a=this[`_bool${e}`]={get value(){return Laya.LocalStorage.getItem(e)?"false"!=Laya.LocalStorage.getItem(e)&&("true"==Laya.LocalStorage.getItem(e)||void 0):(t?Laya.LocalStorage.setItem(e,"true"):Laya.LocalStorage.setItem(e,"false"),t)},set value(t){t=t?"true":"false",Laya.LocalStorage.setItem(e,t.toString())}}},e._array=function(e,t){let a=new o;return a=this[`_array${e}`]={get value(){try{let a=Laya.LocalStorage.getJSON(e);return a?JSON.parse(a):(t=t||[],Laya.LocalStorage.setItem(e,t.toString()),t)}catch(e){return[]}},set value(t){Laya.LocalStorage.setJSON(e,JSON.stringify(t))}}}}(h=e.StorageAdmin||(e.StorageAdmin={})),function(e){e._Table=class{constructor(e,t,a,n){this._property={name:"name",chName:"chName",classify:"classify",unlockWay:"unlockWay",conditionNum:"conditionNum",degreeNum:"degreeNum",compelet:"compelet",unlock:"unlock",have:"have",getAward:"getAward"},this._arr=[],e&&(a?this._arr=S.jsonCompare(t,e,n||"name"):Laya.Loader.getRes(t)?this._arr=Laya.Loader.getRes(t):console.log(t,"数据表不存在！"))}_getProperty(e,t){let a;for(const n in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,n)){const o=this._arr[n];if(o[this._property.name]==e){a=o[t];break}}return a}_setProperty(e,t,a){for(const n in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,n)){const o=this._arr[n];if(o[this._property.name]==e){o[t]=a;break}}return a}_randomOne(e,t){let a=[];for(const t in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,t)){const n=this._arr[t];n[e]&&a.push(n)}return 0==a.length?null:S._Array.randomGetOne(a)}_getPropertyArr(e,t){let a=[];for(const n in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,n)){const o=this._arr[n];o[e]&&o[e]==t&&a.push(o)}return a}_setPropertyArr(e,t){let a=[];for(const t in this._arr)if(Object.prototype.hasOwnProperty.call(this._arr,t)){const n=this._arr[t];n[e]&&(n[e],a.push(n))}return a}_checkCondition(e,t,a){let n=null;t=null==t?1:t;let o=this._getProperty(e,this._property.degreeNum),r=this._getProperty(e,this._property.conditionNum);return this._getProperty(e,this._property.compelet)?n=-1:r<=o+t?(this._setProperty(e,this._property.degreeNum,r),this._setProperty(e,this._property.compelet,!0),n=!0):(this._setProperty(e,this._property.degreeNum,o+t),n=!1),a&&a(),n}_checkAllCompelet(){let e=!0;for(let t=0;t<this._arr.length;t++)if(!this._arr[t][this._property.compelet])return e=!1;return e}}}(_=e.DataAdmin||(e.DataAdmin={})),function(e){e.RGBToHexString=function(e,t,a){return"#"+("00000"+(e<<16|t<<8|a).toString(16)).slice(-6)},e.HexStringToRGB=function(e){return[]},e._colour=function(e,t,a){let n=new Laya.ColorFilter;return e.blendMode="null",t?n.color(t[0],t[1],t[2],t[3]):n.color(S._Number.randomOneBySection(255,100,!0),S._Number.randomOneBySection(255,100,!0),S._Number.randomOneBySection(255,100,!0),1),e.filters=[n],a&&Laya.timer.once(a,this,()=>{for(let t=0;t<e.filters.length;t++)if(e.filters[t]==n){e.filters=[];break}}),n},e._changeOnce=function(e,t,a,n){if(!e)return;let o=new Laya.ColorFilter;o.color(0,0,0,0);let r=t[0]/a,l=t[1]/a,s=t[2]/a,c=0;t[3]&&(c=t[3]/a);let u={add:!0},h=0,_=0,d=0,m=0;i._frameLoop(1,u,()=>{h<t[0]&&u.add?(_+=l,d+=s,0!==c&&(m+=c),(h+=r)>=t[0]&&(u.add=!1)):(_-=l,d-=s,0!==c&&(m-=c),(h-=r)<=0&&(n&&n(),Laya.timer.clearAll(u))),o.color(h,_,d,m),e.filters=[o]})},e._changeConstant=function(e,t,a,n){let o,r=[];e.filters?(o=e.filters[0],r=[e.filters[0]._alpha[0],e.filters[0]._alpha[1],e.filters[0]._alpha[2],e.filters[0]._alpha[3]?e.filters[0]._alpha[3]:1]):((o=new Laya.ColorFilter).color(t[0],t[1],t[2],t[3]?t[3]:1),r=[t[0],t[1],t[2],t[3]?t[3]:1],e.filters=[o]);let l=[S._Number.randomCountBySection(t[0],a[0])[0],S._Number.randomCountBySection(t[1],a[1])[0],S._Number.randomCountBySection(t[2],a[2])[0],S._Number.randomCountBySection(t[3]?t[3]:1,a[3]?a[3]:1)[0]],s=(l[0]-r[0])/n,c=(l[1]-r[1])/n,u=(l[2]-r[2])/n,h=0;l[3]&&(h=(l[3]-r[3])/n),e.changeCaller&&Laya.timer.clearAll(e.changeCaller);let _={};e.changeCaller=_;let d=0;i._frameLoop(1,_,()=>{++d<=n?(r[0]+=s,r[1]+=c,r[2]+=u):Laya.timer.clearAll(_),o.color(r[0],r[1],r[2],r[3]),e.filters=[o]})}}(d=e.Color||(e.Color={})),function(e){let t,a,n,o,r;!function(e){e["爱心1"]="Frame/Effects/aixin1.png",e["爱心2"]="Frame/Effects/aixin2.png",e["爱心3"]="Frame/Effects/aixin3.png",e["花1"]="Frame/Effects/hua1.png",e["花2"]="Frame/Effects/hua2.png",e["花3"]="Frame/Effects/hua3.png",e["花4"]="Frame/Effects/hua4.png",e["星星1"]="Frame/Effects/star1.png",e["星星2"]="Frame/Effects/star2.png",e["星星3"]="Frame/Effects/star3.png",e["星星4"]="Frame/Effects/star4.png",e["星星5"]="Frame/Effects/star5.png",e["星星6"]="Frame/Effects/star6.png",e["星星7"]="Frame/Effects/star7.png",e["雪花1"]="Frame/Effects/xuehua1.png",e["叶子1"]="Frame/Effects/yezi1.png",e["圆形发光1"]="Frame/Effects/yuanfaguang.png",e["圆形1"]="Frame/Effects/yuan1.png",e["光圈1"]="Frame/Effects/guangquan1.png",e["光圈2"]="Frame/Effects/guangquan2.png"}(t=e._SkinUrl||(e._SkinUrl={})),function(e){class a extends Laya.Image{constructor(e,a,n,o,r,i,l,s){if(super(),!e.parent)return;e.addChild(this),a?this.pos(a.x,a.y):this.pos(0,0),this.width=n||100,this.height=o||100,this.pivotX=this.width/2,this.pivotY=this.height/2,this.rotation=r?S._Number.randomOneBySection(r[0],r[1]):S._Number.randomOneBySection(360),this.skin=i?S._Array.randomGetOne(i):t.花3,this.zOrder=s||0,this.alpha=0;let c=[];c[0]=l?S._Number.randomOneBySection(l[0][0],l[1][0]):S._Number.randomOneBySection(0,255),c[1]=l?S._Number.randomOneBySection(l[0][1],l[1][1]):S._Number.randomOneBySection(0,255),c[2]=l?S._Number.randomOneBySection(l[0][2],l[1][2]):S._Number.randomOneBySection(0,255),c[3]=l?S._Number.randomOneBySection(l[0][3],l[1][3]):S._Number.randomOneBySection(0,255),d._colour(this,c)}}e._ApertureImage=a,e._continuous=function(e,t,n,o,r,l,s,c,u,h,_){let d=new a(e,t,n,o,r,l,s,c),m=h?S._Number.randomOneBySection(h[0],h[1]):.025,y=_?S._Number.randomOneBySection(_[0],_[1]):5e-4,g=u?S._Number.randomOneBySection(u[0],u[1]):2,p={alpha:!0,scale:!1,vanish:!1};d.moveCaller=p;let f=0;i._frameLoop(1,p,()=>{p.alpha?(d.alpha+=.05,f=0,d.alpha>=1&&(p.alpha=!1,p.scale=!0)):p.scale?(f+=y,d.scaleX>g&&(p.scale=!1,p.vanish=!0)):p.vanish&&(f-=y)<0&&(d.alpha-=.015,d.alpha<=0&&(d.removeSelf(),Laya.timer.clearAll(p))),d.scaleX=d.scaleY+=m+f})}}(a=e._Aperture||(e._Aperture={})),function(e){class a extends Laya.Image{constructor(e,a,n,o,r,i,l,s,c){super(),e.addChild(this);let u=n?S._Number.randomOneBySection(n[0]):S._Number.randomOneBySection(200),h=n?S._Number.randomOneBySection(n[1]):S._Number.randomOneBySection(50);u=0==S._Number.randomOneHalf()?u:-u,h=0==S._Number.randomOneHalf()?h:-h,this.x=a?a.x+u:u,this.y=a?a.y+h:h,this.width=o?S._Number.randomOneBySection(o[0],o[1]):S._Number.randomOneBySection(20,50),this.height=r?S._Number.randomOneBySection(r[0],r[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2,this.skin=l?S._Array.randomGetOne(l):t.圆形1,this.rotation=i?S._Number.randomOneBySection(i[0],i[1]):0,this.alpha=0,this.zOrder=c||0;let _=[];_[0]=s?S._Number.randomOneBySection(s[0][0],s[1][0]):S._Number.randomOneBySection(0,255),_[1]=s?S._Number.randomOneBySection(s[0][1],s[1][1]):S._Number.randomOneBySection(0,255),_[2]=s?S._Number.randomOneBySection(s[0][2],s[1][2]):S._Number.randomOneBySection(0,255),_[3]=s?S._Number.randomOneBySection(s[0][3],s[1][3]):S._Number.randomOneBySection(0,255),d._colour(this,_)}}e._ParticleImgBase=a,e._snow=function(e,t,n,o,r,l,s,c,u,h,_,d,m){let y=new a(e,t,n,o,r,l,s,c,u),g=_?S._Number.randomOneBySection(_[0],_[1]):S._Number.randomOneBySection(0,1);g=0==S._Number.randomOneHalf()?g:-g;let p=d?S._Number.randomOneBySection(d[0],d[1]):S._Number.randomOneBySection(1,2.5),f=m?S._Number.randomOneBySection(m[0],m[1]):0,L={alpha:!0,move:!1,vinish:!1};y.moveCaller=L;let w=0,b=h?S._Number.randomOneBySection(h[0],h[1]):S._Number.randomOneBySection(100,300);return i._frameLoop(1,L,()=>{y.x+=f,y.rotation+=g,y.alpha<1&&L.alpha&&(y.alpha+=.05,w=y.y++,y.alpha>=1&&(L.alpha=!1,L.move=!0)),w<b&&L.move&&(w=y.y+=p)>=b&&(L.move=!1,L.vinish=!0),L.vinish&&(y.alpha-=.03,y.y+=p,(y.alpha<=0||p<=0)&&(y.removeSelf(),Laya.timer.clearAll(L)))}),y},e._fallingVertical=function(e,t,n,o,r,l,s,c,u,h,_,d){let m=new a(e,t,n,o,r,l,s,c,u),y=_?S._Number.randomOneBySection(_[0],_[1]):S._Number.randomOneBySection(4,8),g=d?S._Number.randomOneBySection(d[0],d[1]):S._Number.randomOneBySection(.25,.45),p=0,f={alpha:!0,move:!1,vinish:!1};m.moveCaller=f;let L=0,w=h?S._Number.randomOneBySection(h[0],h[1]):S._Number.randomOneBySection(100,300);return i._frameLoop(1,f,()=>{m.alpha<1&&f.alpha&&(m.alpha+=.05,L=m.y++,m.alpha>=1&&(f.alpha=!1,f.move=!0)),L<w&&f.move&&(p+=g,(L=m.y+=y+p)>=w&&(f.move=!1,f.vinish=!0)),f.vinish&&(p-=g/2,m.alpha-=.03,m.y+=y+p,(m.alpha<=0||y+p<=0)&&(m.removeSelf(),Laya.timer.clearAll(f)))}),m},e._slowlyUp=function(e,t,n,o,r,l,s,c,u,h,_,d){let m=new a(e,t,n,o,r,l,s,c,u),y=_?S._Number.randomOneBySection(_[0],_[1]):S._Number.randomOneBySection(1.5,2),g=d?S._Number.randomOneBySection(d[0],d[1]):S._Number.randomOneBySection(.001,.005),p=0,f={alpha:!0,move:!1,vinish:!1};m.moveCaller=f;let L=m.y,w=0,b=h?S._Number.randomOneBySection(h[0],h[1]):S._Number.randomOneBySection(-250,-600);return i._frameLoop(1,f,()=>{m.alpha<1&&f.alpha&&(m.alpha+=.03,m.alpha>=1&&(f.alpha=!1,f.move=!0)),w>b&&f.move||(f.move=!1,f.vinish=!0),f.vinish&&(m.alpha-=.02,m.scaleX-=.005,m.scaleY-=.005,m.alpha<=0&&(m.removeSelf(),Laya.timer.clearAll(f))),p+=g,m.y-=y+p,w=L-m.y}),m},e._spray=function(e,t,n,o,r,l,s,c,u,h,_,d,m,y){let g=new a(e,t,[0,0],o,r,l,s,c,u),p=t||new Laya.Point(0,0),f=m?S._Number.randomOneBySection(m[0],m[1]):S._Number.randomOneBySection(3,10),L=y?S._Number.randomOneBySection(y[0],y[1]):S._Number.randomOneBySection(.25,.45),w=0,b={alpha:!0,move:!1,vinish:!1};g.moveCaller=b;let v=0,O=_?S._Number.randomOneBySection(_[0],_[1]):S._Number.randomOneBySection(100,200),C=h?S._Number.randomOneBySection(h[0],h[1]):S._Number.randomOneBySection(0,360),N=d?S._Number.randomOneBySection(d[0],d[1]):S._Number.randomOneBySection(0,20);return i._frameLoop(1,b,()=>{if(g.rotation+=N,g.alpha<1&&b.alpha)g.alpha+=.5,g.alpha>=1&&(b.alpha=!1,b.move=!0);else{v<O&&b.move||(b.move=!1,b.vinish=!0),b.vinish&&(g.alpha-=.05,g.alpha<=.3&&(g.removeSelf(),Laya.timer.clearAll(b))),v+=f+(w+=L);let e=S._Point.getRoundPos(C,v,p);g.pos(e.x,e.y)}}),g},e._outsideBox=function(e,t,n,o,r,l,s,c,u,h,_,d,m,y){let g=new a(e,t,[0,0],o,r,l,s,c,u),p=0;n=n||[100,100],h=h||60,"x"==(0==S._Number.randomOneHalf()?"x":"y")?(0==S._Number.randomOneHalf()?(g.x+=n[0],p=0==S._Number.randomOneHalf()?S._Number.randomOneBySection(0,90-h):S._Number.randomOneBySection(0,-90+h)):(g.x-=n[0],p=S._Number.randomOneBySection(90+h,270-h)),g.y+=S._Number.randomOneBySection(-n[1],n[1])):(0==S._Number.randomOneHalf()?(g.y-=n[1],p=S._Number.randomOneBySection(180+h,360-h)):(g.y+=n[1],p=S._Number.randomOneBySection(0+h,180-h)),g.x+=S._Number.randomOneBySection(-n[0],n[0]));let f=S._Point.angleByPoint(p),L=_?S._Number.randomOneBySection(_[0],_[1]):S._Number.randomOneBySection(20,50),w=m?S._Number.randomOneBySection(m[0],m[1]):S._Number.randomOneBySection(.5,1),b=y?S._Number.randomOneBySection(y[0],y[1]):S._Number.randomOneBySection(.25,.45),v=0,O=d?S._Number.randomOneBySection(d[0],d[1]):S._Number.randomOneBySection(0,20),C=new Laya.Point(g.x,g.y),N={alpha:!0,move:!1,vinish:!1};return g.moveCaller=N,i._frameLoop(1,N,()=>{g.rotation+=O,N.alpha?(g.alpha+=.5,g.alpha>=1&&(N.alpha=!1,N.move=!0)):N.move?C.distance(g.x,g.y)>=L&&(N.move=!1,N.vinish=!0):N.vinish&&(g.alpha-=.05,g.alpha<=.3&&(g.removeSelf(),Laya.timer.clearAll(N))),N.alpha||(v+=b,g.x+=f.x*(w+v),g.y+=f.y*(w+v))}),g},e._moveToTargetToMove=function(e,t,n,o,r,l,s,c,u,h,_,d,m,y){let g=new a(e,t,[0,0],n,o,r,s,c,u),p=t||new Laya.Point(0,0),f=m?S._Number.randomOneBySection(m[0],m[1]):S._Number.randomOneBySection(5,6),L=y?S._Number.randomOneBySection(y[0],y[1]):S._Number.randomOneBySection(.25,.45),w=0,b={alpha:!0,move1:!1,stop:!1,move2:!1,vinish:!1};g.moveCaller=b;let v=0,O=h?S._Number.randomOneBySection(h[0],h[1]):S._Number.randomOneBySection(100,200),C=_?S._Number.randomOneBySection(_[0],_[1]):S._Number.randomOneBySection(100,200),N=l?S._Number.randomOneBySection(l[0],l[1]):S._Number.randomOneBySection(0,360);return g.rotation=N-90,d?S._Number.randomOneBySection(d[0],d[1]):S._Number.randomOneBySection(0,20),i._frameLoop(1,b,()=>{b.alpha?(v+=f+(w+=L),g.alpha+=.5,g.alpha>=1&&(b.alpha=!1,b.move1=!0)):b.move1?(v+=f+(w+=L))>=O&&(b.move1=!1,b.stop=!0):b.stop?(v+=.1,(w-=.3)<=0&&(b.stop=!1,b.move2=!0)):b.move2?(v+=f+(w+=L/2))>=O+C&&(b.move2=!1,b.vinish=!0):b.vinish&&(v+=.5,g.alpha-=.05,g.alpha<=0&&(g.removeSelf(),Laya.timer.clearAll(b)));let e=S._Point.getRoundPos(N,v,p);g.pos(e.x,e.y)}),g},e._AnnularInhalation=function(e,a,n,o,r,l,s,c,u,h){let _=new Laya.Image;e.addChild(_),r=r||[25,50],_.width=S._Number.randomCountBySection(r[0],r[1])[0],_.height=l?S._Number.randomCountBySection(l[0],l[1])[0]:_.width,_.pivotX=_.width/2,_.pivotY=_.height/2,_.skin=s?S._Array.randomGetOut(s)[0]:t[S._Number.randomCountBySection(0,12)[0]];let d=S._Number.randomCountBySection(n[0],n[1])[0];_.alpha=0;let m=c?S._Number.randomCountBySection(c[0],c[1])[0]:S._Number.randomCountBySection(5,10)[0],y=o?S._Number.randomCountBySection(o[0],o[1])[0]:S._Number.randomCountBySection(0,360)[0],g={},p=0;return u=u||.35,i._frameLoop(1,g,()=>{_.alpha<1?(_.alpha+=.05,d-=m/2+(p+=u/5)):d-=m+(p+=u);let e=S._Point.getRoundPos(y,d,a);_.pos(e.x,e.y),(e.distance(a.x,a.y)<=20||e.distance(a.x,a.y)>=1e3)&&(_.removeSelf(),Laya.timer.clearAll(g))}),_}}(n=e._Particle||(e._Particle={})),function(e){class a extends Laya.Image{constructor(e,a,n,o,r,i,l){if(super(),!e.parent)return;e.addChild(this),this.skin=o?S._Array.randomGetOne(o):t.星星1,this.width=i?S._Number.randomOneBySection(i[0],i[1]):80,this.height=l?S._Number.randomOneBySection(l[0],l[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2;let s=n?S._Point.randomPointByCenter(a,n[0],n[1],1):S._Point.randomPointByCenter(a,100,100,1);this.pos(s[0].x,s[0].y);let c=[];c[0]=r?S._Number.randomOneBySection(r[0][0],r[1][0]):S._Number.randomOneBySection(0,255),c[1]=r?S._Number.randomOneBySection(r[0][1],r[1][1]):S._Number.randomOneBySection(0,255),c[2]=r?S._Number.randomOneBySection(r[0][2],r[1][2]):S._Number.randomOneBySection(0,255),c[3]=r?S._Number.randomOneBySection(r[0][3],r[1][3]):S._Number.randomOneBySection(0,255),d._colour(this,c),this.alpha=0}}e._GlitterImage=a,e._blinkStar=function(e,t,n,o,r,i,l,s,c,u){let h=new a(e,t,n,o,r,i,l);h.scaleX=0,h.scaleY=0;let _=s?S._Number.randomOneBySection(s[0],s[1]):S._Number.randomOneBySection(.8,1.2),d=c?S._Number.randomOneBySection(c[0],c[1]):S._Number.randomOneBySection(.01,.02),m=u?S._Number.randomOneInt(u[0],u[1]):S._Number.randomOneInt(0,5);m=0==S._Number.randomOneHalf()?-m:m;let y={appear:!0,scale:!1,vanish:!1};return h.moveCaller=y,Laya.timer.frameLoop(1,y,()=>{y.appear?(h.alpha+=.1,h.rotation+=m,h.scaleX=h.scaleY+=d,h.alpha>=1&&(y.appear=!1,y.scale=!0)):y.scale?(h.rotation+=m,h.scaleX=h.scaleY+=d,h.scaleX>_&&(y.scale=!1,y.vanish=!0)):y.vanish&&(h.rotation-=m,h.alpha-=.015,h.scaleX-=.01,h.scaleY-=.01,h.scaleX<=0&&(h.removeSelf(),Laya.timer.clearAll(y)))}),h},e._simpleInfinite=function(e,a,n,o,r,i,l,s){let c=new Laya.Image;e.addChild(c),c.width=o,c.height=r,c.pos(a,n),c.skin=l||t.光圈1,c.alpha=0,c.zOrder=i||0;let u=!0,h={};return Laya.timer.frameLoop(1,h,()=>{u?(c.alpha+=s?2*s:.02,c.alpha>=1&&(u=!1,h.end=!0)):(c.alpha-=s||.01,c.alpha<=0&&(h.end?(Laya.timer.clearAll(h),c.removeSelf()):u=!0))}),c}}(o=e._Glitter||(e._Glitter={})),function(e){class a extends Laya.Image{constructor(e,a,n,o,r,i){super(),e.addChild(this),this.skin=a?S._Array.randomGetOne(a):t.圆形发光1,this.width=o?S._Number.randomOneBySection(o[0],o[1]):80,this.height=r?S._Number.randomOneBySection(r[0],r[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2;let l=[];l[0]=n?S._Number.randomOneBySection(n[0][0],n[1][0]):S._Number.randomOneBySection(0,255),l[1]=n?S._Number.randomOneBySection(n[0][1],n[1][1]):S._Number.randomOneBySection(0,255),l[2]=n?S._Number.randomOneBySection(n[0][2],n[1][2]):S._Number.randomOneBySection(0,255),l[3]=n?S._Number.randomOneBySection(n[0][3],n[1][3]):S._Number.randomOneBySection(0,255),d._colour(this,l),this.zOrder=i||0,this.alpha=0,this.scaleX=0,this.scaleY=0}}e._circulationImage=a,e._corner=function(e,t,n,o,r,l,s,c,u){if(t.length<=1)return;let h=new a(e,n,o,r,l,s);new a(e,n,o,r,l,s).filters=h.filters,h.pos(t[0][0],t[0][1]),h.alpha=1;let _={num:0,alpha:!0,move:!1};h.moveCaller=_;let d=0;h.scale(1,1),i._frameLoop(1,_,()=>{let t=new a(e,n,o,r,l,s);t.filters=h.filters,t.x=h.x,t.y=h.y,t.rotation=h.rotation,t.alpha=1,t.zOrder=-1,t.scaleX=h.scaleX,t.scaleY=h.scaleY,p.fadeOut(t,1,0,200,0,()=>{t.removeSelf()}),null==h.parent&&Laya.timer.clearAll(_),_.num++,n&&(_.num>n.length?_.num=0:h.skin=n[_.num])});var m=()=>{let e=[t[d][0],t[d][1]],a=new Laya.Point(h.x,h.y).distance(e[0],e[1]);c&&(h.rotation=S._Point.pointByAngle(h.x-e[0],h.y-e[1])+180);let n=100*u+a/5;d==t.length+1&&(e=[t[0][0],t[0][1]]),p.move_Simple(h,h.x,h.y,e[0],e[1],n,0,()=>{++d==t.length&&(d=0),m()})};return m(),h}}(r=e._circulation||(e._circulation={}))}(m=e.Effects||(e.Effects={})),function(e){e._switch=!0,e._createButton=function(){new Laya.Sprite,new Laya.Image,new Laya.Label},e._Type={no:"no",largen:"largen",balloon:"balloon",beetle:"beetle"},e._Use={get value(){return this.Click_name?this.Click_name:null},set value(e){this.Click_name=e}},e._on=function(t,a,n,o,r,i,l){let s;switch(t){case e._Type.no:s=new O;break;case e._Type.largen:s=new C;break;case e._Type.balloon:s=new N;break;case e._Type.balloon:s=new x;break;default:s=new O}a.on(Laya.Event.MOUSE_DOWN,n,o),a.on(Laya.Event.MOUSE_MOVE,n,r),a.on(Laya.Event.MOUSE_UP,n,i),a.on(Laya.Event.MOUSE_OUT,n,l),a.on(Laya.Event.MOUSE_DOWN,n,s.down),a.on(Laya.Event.MOUSE_MOVE,n,s.move),a.on(Laya.Event.MOUSE_UP,n,s.up),a.on(Laya.Event.MOUSE_OUT,n,s.out)},e._off=function(t,a,n,o,r,i,l){let s;switch(t){case e._Type.no:s=new O;break;case e._Type.largen:s=new C;break;case e._Type.balloon:s=new N;break;case e._Type.balloon:s=new x;break;default:s=new C}a._off(Laya.Event.MOUSE_DOWN,n,o),a._off(Laya.Event.MOUSE_MOVE,n,r),a._off(Laya.Event.MOUSE_UP,n,i),a._off(Laya.Event.MOUSE_OUT,n,l),a._off(Laya.Event.MOUSE_DOWN,n,s.down),a._off(Laya.Event.MOUSE_MOVE,n,s.move),a._off(Laya.Event.MOUSE_UP,n,s.up),a._off(Laya.Event.MOUSE_OUT,n,s.out)}}(y=e.Click||(e.Click={}));class O{constructor(){}down(e){}move(e){}up(e){}out(e){}}e._NoEffect=O;class C{constructor(){}down(e){e.currentTarget.scale(1.1,1.1),L._playSound(y._audioUrl)}move(e){}up(e){e.currentTarget.scale(1,1)}out(e){e.currentTarget.scale(1,1)}}e._Largen=C;class N{constructor(){}down(e){e.currentTarget.scale(y._balloonScale+.06,y._balloonScale+.06),L._playSound(y._audioUrl)}up(e){e.currentTarget.scale(y._balloonScale,y._balloonScale)}move(e){e.currentTarget.scale(y._balloonScale,y._balloonScale)}out(e){e.currentTarget.scale(y._balloonScale,y._balloonScale)}}e._Balloon=N;class x{constructor(){}down(e){e.currentTarget.scale(y._beetleScale+.06,y._beetleScale+.06),L._playSound(y._audioUrl)}up(e){e.currentTarget.scale(y._beetleScale,y._beetleScale)}move(e){e.currentTarget.scale(y._beetleScale,y._beetleScale)}out(e){e.currentTarget.scale(y._beetleScale,y._beetleScale)}}e._Beetle=x,function(e){function moveTo(t,a,n,o,r,i,l=0,s=!0,c,u){let h=t.transform.position.clone();if(0==n||null==n)return t.transform.position=a.clone(),void(i&&i.apply(o));(u<=0||null==u)&&(u=e.frameRate);let _=function(){t.transform&&(t.transform.position=h),c&&c()};Laya.timer.once(l,t,function(){Laya.timer.frameLoop(u,t,_)});let d=Laya.Tween.to(h,{x:a.x,y:a.y,z:a.z},n,r,Laya.Handler.create(t,function(){t.transform&&(t.transform.position=a.clone(),Laya.timer.clear(t,_)),i&&i.apply(o)}),l,s);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(d)}function rotateTo(t,a,n,o,r,i,l,s,c,u){let h=t.transform.localRotationEuler.clone();if(0==n||null==n)return t.transform.localRotationEuler=a.clone(),void(i&&i.apply(o));(u<=0||null==u)&&(u=e.frameRate);let _=function(){t.transform&&(t.transform.localRotationEuler=h),c&&c()};Laya.timer.once(l,t,function(){Laya.timer.frameLoop(u,t,_)});let d=Laya.Tween.to(h,{x:a.x,y:a.y,z:a.z},n,r,Laya.Handler.create(t,function(){t.transform&&(t.transform.localRotationEuler=a.clone(),Laya.timer.clear(t,_)),i&&i.apply(o)}),l,s);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(d)}e.tweenMap={},e.frameRate=1,e.moveTo=moveTo,e.rotateTo=rotateTo,e.scaleTo=function(t,a,n,o,r,i,l,s,c,u){let h=t.transform.localScale.clone();if(0==n||null==n)return t.transform.localScale=a.clone(),void(i&&i.apply(o));(u<=0||null==u)&&(u=e.frameRate);let _=function(){t.transform.localScale=h.clone(),c&&c()};Laya.timer.once(l,this,function(){Laya.timer.frameLoop(u,t,_)});let d=Laya.Tween.to(h,{x:a.x,y:a.y,z:a.z},n,r,Laya.Handler.create(t,function(){t.transform.localScale=a.clone(),Laya.timer.clear(t,_),i&&i.apply(o)}),l,s);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(d)},e.ClearTween=function(t){let a=e.tweenMap[t.id];if(a&&a.length)for(;a.length>0;)a.pop().clear();Laya.timer.clearAll(t)},e.rock=function(e,t,a,n,o,r,i){r||(r=0);let l=new Laya.Vector3(e.transform.localRotationEulerX+t.x,e.transform.localRotationEulerY+t.y,e.transform.localRotationEulerZ+t.z);rotateTo(e,l,a/2,n,i,()=>{let r=new Laya.Vector3(e.transform.localRotationEulerX-2*t.x,e.transform.localRotationEulerY-2*t.y,e.transform.localRotationEulerZ-2*t.z);rotateTo(e,r,a,n,i,()=>{let r=new Laya.Vector3(e.transform.localRotationEulerX+t.x,e.transform.localRotationEulerY+t.y,e.transform.localRotationEulerZ+t.z);rotateTo(e,r,a/2,n,i,()=>{o&&o()})})},r)},e.moveRotateTo=function(e,t,a,n,o,r,i,l,s,c){moveTo(e,t.transform.position,a,n,o,null,i,l,s,c),rotateTo(e,t.transform.localRotationEuler,a,n,o,r,i,l,null,c)}}(g=e.Animation3D||(e.Animation3D={})),function(e){function bombs_Appear(e,t,a,n,o,r,i,l,s){e.scale(0,0),e.alpha=t,Laya.Tween.to(e,{scaleX:n,scaleY:n,alpha:1,rotation:o},r,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a,scaleY:a,rotation:0},i,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a+.2*(n-a),scaleY:a+.2*(n-a),rotation:0},i,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a,scaleY:a,rotation:0},i,null,Laya.Handler.create(this,function(){s&&s()}),0)}),0)}),0)}),l||0)}function bombs_Vanish(e,t,a,n,o,r,i){Laya.Tween.to(e,{scaleX:t,scaleY:t,alpha:a,rotation:n},o,Laya.Ease.cubicOut,Laya.Handler.create(this,function(){i&&i()}),r||0)}e.circulation_scale=function(e,t,a,n,o){Laya.Tween.to(e,{scaleX:1+t,scaleY:1+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1-t,scaleY:1-t},a/2,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1},a/2,null,Laya.Handler.create(this,function(){o&&o()}),0)}),0)}),n||0)},e.leftRight_Shake=function(e,t,a,n,o,r){n||(n=0),r||(u._clickLock.switch=!0),Laya.Tween.to(e,{x:e.x-t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x+2*t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x-t},a,null,Laya.Handler.create(this,function(){o&&o(),r||(u._clickLock.switch=!1)}))}))}),n)},e.simple_Rotate=function(e,t,a,n,o,r){e.rotation=t,o||(o=0),Laya.Tween.to(e,{rotation:a},n,null,Laya.Handler.create(this,function(){r&&r()}),o)},e.upDown_Overturn=function(e,t,a){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,function(){null===a&&void 0===a||a()}),0)}),0)}),0)}),0)},e.leftRight_Overturn=function(e,t,a){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},t,null,Laya.Handler.create(this,function(){}),0),null!==a&&a()}),0)}),0)}),0)},e.upDwon_Shake=function(e,t,a,n,o){Laya.Tween.to(e,{y:e.y+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y-2*t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y+t},a,null,Laya.Handler.create(this,function(){null!==o&&o()}))}))}),n)},e.fadeOut=function(e,t,a,n,o,r,i){e.alpha=t,i&&(u._clickLock.switch=!0),Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){r&&r(),i&&(u._clickLock.switch=!1)}),o||0)},e.fadeOut_KickBack=function(e,t,a,n,o,r){e.alpha=t,Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){null!==r&&r()}),o)},e.move_FadeOut=function(e,t,a,n,o,r,i,l){e.alpha=0,e.x=t,e.y=a,Laya.Tween.to(e,{alpha:1,x:n,y:o},r,null,Laya.Handler.create(this,function(){null!==l&&l()}),i)},e.move_Fade_Out=function(e,t,a,n,o,r,i,l){e.alpha=1,e.x=t,e.y=a,Laya.Tween.to(e,{alpha:0,x:n,y:o},r,null,Laya.Handler.create(this,function(){null!==l&&l()}),i)},e.move_FadeOut_Scale_01=function(e,t,a,n,o,r,i,l){e.alpha=0,e.targetX=0,e.targetY=0,e.x=t,e.y=a,Laya.Tween.to(e,{alpha:1,x:n,y:o,scaleX:1,scaleY:1},r,null,Laya.Handler.create(this,function(){null!==l&&l()}),i)},e.move_Scale=function(e,t,a,n,o,r,i,l,s,c,u){e.scaleX=t,e.scaleY=t,e.x=a,e.y=n,Laya.Tween.to(e,{x:o,y:r,scaleX:i,scaleY:i},l,c?null:c,Laya.Handler.create(this,function(){u&&u()}),s||0)},e.move_rotate=function(e,t,a,n,o,r){Laya.Tween.to(e,{rotation:t,x:a.x,y:a.y},n,null,Laya.Handler.create(e.move_rotate,()=>{r&&r()}),o||0)},e.rotate_Scale=function(e,t,a,n,o,r,i,l,s,c){e.scaleX=a,e.scaleY=n,e.rotation=t,Laya.Tween.to(e,{rotation:o,scaleX:r,scaleY:i},l,null,Laya.Handler.create(this,()=>{c&&c(),e.rotation=0}),s||0)},e.drop_Simple=function(e,t,a,n,o,r,i){e.y=t,Laya.Tween.to(e,{y:a,rotation:n},o,Laya.Ease.circOut,Laya.Handler.create(this,function(){null!==i&&i()}),r)},e.drop_KickBack=function(e,t,a,n,o,r,i,l){e.alpha=t,e.y=a,i||(i=0),Laya.Tween.to(e,{alpha:1,y:n+o},r,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:n-o/2},r/2,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:n},r/4,null,Laya.Handler.create(this,function(){l&&l()}),0)}),0)}),i)},e.drop_Excursion=function(e,t,a,n,o,r,i){Laya.Tween.to(e,{x:e.x+a,y:e.y+1*t/6},o,Laya.Ease.expoIn,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x+a+50,y:t,rotation:n},o,null,Laya.Handler.create(this,function(){null!==i&&i()}),0)}),r)},e.goUp_Simple=function(e,t,a,n,o,r,i){e.y=t,e.rotation=a,Laya.Tween.to(e,{y:n,rotation:0},o,Laya.Ease.cubicOut,Laya.Handler.create(this,function(){null!==i&&i()}),r)},e.cardRotateX_TowFace=function(e,t,a,n,o){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,function(){S._Node.childrenVisible2D(e,!1),a&&a(),Laya.Tween.to(e,{scaleX:1},.9*t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:0},.8*t,null,Laya.Handler.create(this,function(){S._Node.childrenVisible2D(e,!0),Laya.Tween.to(e,{scaleX:1},.7*t,null,Laya.Handler.create(this,function(){o&&o()}),0)}),0)}),0)}),n)},e.cardRotateX_OneFace=function(e,t,a,n,o){Laya.Tween.to(e,{scaleX:0},a,null,Laya.Handler.create(this,function(){null!==t&&t(),Laya.Tween.to(e,{scaleX:1},a,null,Laya.Handler.create(this,function(){null!==o&&o()}),0)}),n)},e.cardRotateY_TowFace=function(e,t,a,n,o){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){S._Node.childrenVisible2D(e,!1),a&&a(),Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},1*t/2,null,Laya.Handler.create(this,function(){S._Node.childrenVisible2D(e,!0),o&&o()}),0)}),0)}),0)}),n)},e.cardRotateY_OneFace=function(e,t,a,n,o){Laya.Tween.to(e,{scaleY:0},a,null,Laya.Handler.create(this,function(){t&&t(),Laya.Tween.to(e,{scaleY:1},a,null,Laya.Handler.create(this,function(){o&&o()}),0)}),n||0)},e.move_changeRotate=function(e,t,a,n,o,r,i){let l=t*n+e.x*(1-n),s=a*n+e.y*(1-n);Laya.Tween.to(e,{x:l,y:s,rotation:45},r,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:t,y:a,rotation:0},r,null,Laya.Handler.create(this,function(){null!==i&&i()}),0)}),0)},e.bomb_LeftRight=function(e,t,a,n,o){Laya.Tween.to(e,{scaleX:t},a,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:.85},.5*a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:.9*t},.55*a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:.95},.6*a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},.65*a,null,Laya.Handler.create(this,function(){n&&n()}),0)}),0)}),0)}),0)}),o)},e.bombs_Appear=bombs_Appear,e.bombs_AppearAllChild=function(e,t,a,n,o,r,i,l,s,c){let u=0;l||(l=100);for(let c=0;c<e.numChildren;c++){let h=e.getChildAt(c);h.alpha=0,Laya.timer.once(u,this,()=>{h.alpha=1,e.numChildren,bombs_Appear(h,t,a,n,o,r,i,null,s)}),u+=l}},e.bombs_VanishAllChild=function(e,t,a,n,o,r,i){let l=0;r||(r=100);for(let s=0;s<e.numChildren;s++)e.getChildAt(s),Laya.timer.once(l,this,()=>{e.numChildren,bombs_Vanish(e,t,a,n,o,0,i)}),l+=r},e.bombs_Vanish=bombs_Vanish,e.swell_shrink=function(e,t,a,n,o,r){o||(o=0),Laya.Tween.to(e,{scaleX:a,scaleY:a,alpha:1},n,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t,scaleY:t,rotation:0},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t+.5*(a-t),scaleY:t+.5*(a-t),rotation:0},.5*n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t,scaleY:t,rotation:0},n,null,Laya.Handler.create(this,function(){r&&r()}),0)}),0)}),0)}),o)},e.move_Simple=function(e,t,a,n,o,r,i,l,s){e.x=t,e.y=a,Laya.Tween.to(e,{x:n,y:o},r,s||null,Laya.Handler.create(this,function(){l&&l()}),i||0)},e.move_Deform_X=function(e,t,a,n,o,r,i,l,s){e.alpha=0,e.x=t,e.rotation=a,Laya.Tween.to(e,{x:n,scaleX:1+o,scaleY:1+r,rotation:a/3,alpha:1},i,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1,rotation:0},i,null,Laya.Handler.create(this,function(){null!==s&&s()}),0)}),l)},e.move_Deform_Y=function(e,t,a,n,o,r,i,l,s){e.alpha=0,t&&(e.y=t),e.rotation=a,Laya.Tween.to(e,{y:n,scaleX:1+o,scaleY:1+r,rotation:a/3,alpha:1},i,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1,rotation:0},i,null,Laya.Handler.create(this,function(){null!==s&&s()}),0)}),l)},e.blink_FadeOut_v=function(e,t,a,n,o,r){e.alpha=t,Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:t},n,null,Laya.Handler.create(this,function(){null!==r&&r()}),0)}),o)},e.blink_FadeOut=function(e,t,a,n,o,r){e.alpha=t,o||(o=0),Laya.Tween.to(e,{alpha:t},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){r&&r()}),0)}),o)},e.shookHead_Simple=function(e,t,a,n,o){let r=e.rotation;Laya.Tween.to(e,{rotation:r+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:r-2*t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:r+t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:r},a,null,Laya.Handler.create(this,function(){o&&o()}),0)}),0)}),0)}),n||0)},e.HintAni_01=function(e,t,a,n,o,r,i){e.alpha=0,Laya.Tween.to(e,{alpha:1,y:e.y-t},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y-15},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:0,y:e.y+t+o},r,null,Laya.Handler.create(this,function(){null!==i&&i()}),0)}),0)}),0)},e.scale_Alpha=function(e,t,a,n,o,r,i,l,s,c,u){s||(s=0),s||(u=null),e.alpha=t,e.scaleX=a,e.scaleY=n,Laya.Tween.to(e,{scaleX:o,scaleY:r,alpha:i},l,u,Laya.Handler.create(this,function(){c&&c()}),s)},e.rotate_Magnify_KickBack=function(e,t,a,n,o,r,i,l){e.alpha=0,e.scaleX=0,e.scaleY=0,Laya.Tween.to(e,{alpha:1,rotation:360+t,scaleX:1+a,scaleY:1+a},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360-t/2,scaleX:1+a/2,scaleY:1+a/2},o,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360+t/3,scaleX:1+a/5,scaleY:1+a/5},o,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360,scaleX:1,scaleY:1},o,null,Laya.Handler.create(this,function(){e.rotation=0,null!==l&&l()}),0)}),i)}),0)}),r)}}(p=e.Animation2D||(e.Animation2D={})),function(e){e._sound={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting_sound")},set switch(e){let t;t=e?1:0,Laya.LocalStorage.setItem("Setting_sound",t.toString())}},e._bgMusic={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting_bgMusic")},set switch(e){let t;e?(t=1,Laya.LocalStorage.setItem("Setting_bgMusic",t.toString()),L._playMusic()):(t=0,Laya.LocalStorage.setItem("Setting_bgMusic",t.toString()),L._stopMusic())}},e._shake={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting_shake")},set switch(e){let t;t=e?1:0,Laya.LocalStorage.setItem("Setting_shake",t.toString())}},e._createBtnSet=function(t,a,n,o,r,i,l){let s=new Laya.Image;return s.width=n||100,s.height=n||100,s.skin=r||"Frame/UI/icon_set.png",i?i.addChild(s):Laya.stage.addChild(s),s.pivotX=s.width/2,s.pivotY=s.height/2,s.x=t,s.y=a,s.zOrder=l||100,y._on(y._Type.largen,s,null,null,function(e){e.stopPropagation(),u._openScene(u._SceneName.Set)},null),e._BtnSet=s,e._BtnSet.name="BtnSetNode",s},e.btnSetAppear=function(t,a,n){e._BtnSet&&(t?p.scale_Alpha(e._BtnSet,0,1,1,1,1,1,t,0,t=>{e._BtnSet.visible=!0}):e._BtnSet.visible=!0,a&&(e._BtnSet.x=a),n&&(e._BtnSet.y=n))},e.btnSetVinish=function(t){e._BtnSet&&(t?p.scale_Alpha(e._BtnSet,1,1,1,1,1,0,t,0,t=>{e._BtnSet.visible=!1}):e._BtnSet.visible=!1)}}(f=e.Setting||(e.Setting={})),function(e){let t;!function(e){e.btn="Lwg/Voice/btn.wav",e.bgm="Lwg/Voice/bgm.mp3",e.victory="Lwg/Voice/guoguan.wav",e.defeated="Lwg/Voice/wancheng.wav",e.huodejinbi="Lwg/Voice/huodejinbi.wav"}(t=e._voiceUrl||(e._voiceUrl={})),e._playSound=function(e,a,n){e||(e=t.btn),a||(a=1),f._sound.switch&&Laya.SoundManager.playSound(e,a,Laya.Handler.create(this,function(){n&&n()}))},e._playDefeatedSound=function(e,a,n){e||(e=t.defeated),a||(a=1),f._sound.switch&&Laya.SoundManager.playSound(e,a,Laya.Handler.create(this,function(){n&&n()}))},e._playVictorySound=function(e,a,n){e||(e=t.victory),a||(a=1),f._sound.switch&&Laya.SoundManager.playSound(e,a,Laya.Handler.create(this,function(){n&&n()}))},e._playMusic=function(e,a,n){e||(e=t.bgm),a||(a=0),n||(n=0),f._bgMusic.switch&&Laya.SoundManager.playMusic(e,a,Laya.Handler.create(this,function(){}),n)},e._stopMusic=function(){Laya.SoundManager.stopMusic()}}(L=e.Audio||(e.Audio={})),function(e){let t,a,n,o,r,i,l,s,c;e.color_RGBtoHexString=function(e,t,a){return"#"+("00000"+(e<<16|t<<8|a).toString(16)).slice(-6)},function(e){e.formatNumber=function(e,t=0){let a;return a=e>=1e27?(e/1e27).toFixed(t)+"ae":e>=1e24?(e/1e24).toFixed(t)+"ad":e>=1e21?(e/1e21).toFixed(t)+"ac":e>=1e18?(e/1e18).toFixed(t)+"ab":e>=1e15?(e/1e15).toFixed(t)+"aa":e>=1e12?(e/1e12).toFixed(t)+"t":e>=1e9?(e/1e9).toFixed(t)+"b":e>=1e6?(e/1e6).toFixed(t)+"m":e>=1e3?(e/1e3).toFixed(t)+"k":Math.round(e).toString()},e.strAddNum=function(e,t){return(Number(e)+t).toString()},e.NumAddStr=function(e,t){return Number(t)+e}}(t=e._Format||(e._Format={})),function(t){t.simpleCopyImg=function(e){let t=new Laya.Image;return t.skin=e.skin,t.width=e.width,t.height=e.height,t.pivotX=e.pivotX,t.pivotY=e.pivotY,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.skewX=e.skewX,t.skewY=e.skewY,t.rotation=e.rotation,t},t.leaveStage=function(e,t){let a=e.parent.localToGlobal(new Laya.Point(e.x,e.y));return(a.x>Laya.stage.width+10||a.x<-10)&&t&&t(),(a.y>Laya.stage.height+10||a.y<-10)&&t&&t(),new Laya.Point(a.x,a.y)},t.checkTwoDistance=function(e,t,a,n){let o=e.parent.localToGlobal(new Laya.Point(e.x,e.y)),r=t.parent.localToGlobal(new Laya.Point(t.x,t.y));return o.distance(r.x,r.y)<a&&n&&n(),o.distance(r.x,r.y)},t.zOrderByY=function(e,t,a){let n=[];if(0==e.numChildren)return n;for(let t=0;t<e.numChildren;t++){const a=e.getChildAt(t);n.push(a)}if(s.onPropertySort(n,"y"),t)for(let e=0;e<n.length;e++)n[e].zOrder=e;if(a){let e=[];for(let t=n.length-1;t>=0;t--){const a=n[t];console.log(a),a.zOrder=n.length-t,e.push(a)}return e}return n},t.changePivot=function(e,t,a,n){let o=e.pivotX,r=e.pivotY;n&&(t=Math.round(t),a=Math.round(a)),e.width&&(e.pivot(t,a),e.x+=e.pivotX-o,e.y+=e.pivotY-r)},t.changePivotCenter=function(e,t){let a,n,o=e.pivotX,r=e.pivotY;t&&(a=Math.round(e.width/2),n=Math.round(e.height/2)),e.width&&(e.pivot(e.width/2,e.height/2),e.x+=e.pivotX-o,e.y+=e.pivotY-r)},t.getChildArrByProperty=function(e,t,a){let n=[];for(let o=0;o<e.numChildren;o++){const r=e.getChildAt(o);r[t]==a&&n.push(r)}return n},t.randomChildren=function(t,a){let n=[],o=[];for(let e=0;e<t.numChildren;e++)o.push(e);let r=e._Array.randomGetOut(o,a);for(let e=0;e<r.length;e++)n.push(t.getChildAt(r[e]));return n},t.removeAllChildren=function(e){e.numChildren>0&&e.removeChildren(0,e.numChildren-1)},t.removeOneChildren=function(e,t){for(let a=0;a<e.numChildren;a++){const n=e.getChildAt(a);n.name==t&&n.removeSelf()}},t.checkChildren=function(e,t){let a=!1;for(let n=0;n<e.numChildren;n++)e.getChildAt(n).name==t&&(a=!0);return a},t.showExcludedChild2D=function(e,t,a){for(let n=0;n<e.numChildren;n++){let o=e.getChildAt(n);for(let e=0;e<t.length;e++)o.name==t[e]?o.visible=!(!a&&null!=a):o.visible=!a&&null!=a}},t.showExcludedChild3D=function(e,t,a){for(let n=0;n<e.numChildren;n++){let o=e.getChildAt(n);for(let e=0;e<t.length;e++)o.name==t[e]?o.active=!(!a&&null!=a):o.active=!a&&null!=a}},t.createPrefab=function(e,t){return Laya.Pool.getItemByCreateFun(t||e.json.props.name,e.create,e)},t.childrenVisible2D=function(e,t){for(let a=0;a<e.numChildren;a++){const n=e.getChildAt(a);n.visible=!!t}},t.childrenVisible3D=function(e,t){for(let a=0;a<e.numChildren;a++){const n=e.getChildAt(a);n.active=!!t}},t.findChild3D=function findChild3D(e,t){var a;if(null!=(a=e.getChildByName(t)))return a;for(var n=null,o=0;o<e.numChildren;o++)if(null!=(n=findChild3D(e.getChildAt(o),t)))return n;return null},t.findChild2D=function findChild2D(e,t){var a;if(null!=(a=e.getChildByName(t)))return a;for(var n=null,o=0;o<e.numChildren;o++)if(null!=(n=findChild2D(e.getChildAt(o),t)))return n;return null},t.findChildByName2D=function(e,t){return[]}}(a=e._Node||(e._Node={})),function(e){e.randomOneHalf=function(){let e;return e=Math.floor(2*Math.random())},e.randomOneInt=function(e,t){return t?Math.floor(Math.random()*(t-e))+e:Math.floor(Math.random()*e)},e.randomCountBySection=function(e,t,a,n){let o=[];if(a||(a=1),t){for(;a>o.length;){let a;a=n||null==n?Math.floor(Math.random()*(t-e))+e:Math.random()*(t-e)+e,o.push(a),c.unique01(o)}return o}for(;a>o.length;){let t;t=n||null==n?Math.floor(Math.random()*e):Math.random()*e,o.push(t),c.unique01(o)}return o},e.randomOneBySection=function(e,t,a){let n;if(e>t&&(n=e,e=t,t=n),t){let n;return n=a?Math.floor(Math.random()*(t-e))+e:Math.random()*(t-e)+e}{let t;return t=a?Math.floor(Math.random()*e):Math.random()*e}}}(n=e._Number||(e._Number={})),function(t){t.getOtherLocal=function(e,t){let a=e.parent.localToGlobal(new Laya.Point(e.x,e.y));return t.globalToLocal(a)},t.angleByRad=function(e){return e/180*Math.PI},t.twoNodeDistance=function(e,t){return new Laya.Point(e.x,e.y).distance(t.x,t.y)},t.pointByAngle=function(e,t){let a=90-Math.atan2(e,t)*(180/Math.PI);return a<=0&&(a=270+(90+a)),a-90},t.angleByPoint=function(e){let t=(90-e)/(180/Math.PI),a=new Laya.Point(Math.sin(t),Math.cos(t));return a.normalize(),a},t.dotRotatePoint=function(e,t,a,n,o){let r=e+(a-e)*Math.cos(o*Math.PI/180)-(n-t)*Math.sin(o*Math.PI/180),i=t+(a-e)*Math.sin(o*Math.PI/180)+(n-t)*Math.cos(o*Math.PI/180);return new Laya.Point(r,i)},t.angleAndLenByPoint=function(e,t){const a={x:0,y:0};return a.x=t*Math.cos(e*Math.PI/180),a.y=t*Math.sin(e*Math.PI/180),new Laya.Point(a.x,a.y)},t.getRoundPos=function(e,t,a){var n=a,o=(t=t,2*Math.PI/360*e),r=n.x+Math.sin(o)*t,i=n.y-Math.cos(o)*t;return new Laya.Point(r,i)},t.randomPointByCenter=function(t,a,n,o){o||(o=1);let r=[];for(let i=0;i<o;i++){let o=e._Number.randomCountBySection(0,a,1,!1),i=e._Number.randomCountBySection(0,n,1,!1),l=0==e._Number.randomOneHalf()?o[0]:-o[0],s=0==e._Number.randomOneHalf()?i[0]:-i[0],c=new Laya.Point(t.x+l,t.y+s);r.push(c)}return r},t.getPArrBetweenTwoP=function(e,t,a){let n=[],o=t.x-e.x,r=t.y-e.y;for(let t=0;t<a;t++)n.push(new Laya.Point(e.x+o/a*t,e.y+r/a*t));return n.length>=1&&n.unshift(),n.length>=1&&n.pop(),n},t.reverseVector=function(e,t,a){let n;return n=new Laya.Point(e.x-t.x,e.y-t.y),a&&n.normalize(),n}}(o=e._Point||(e._Point={})),function(e){function twoSubV3(e,t,a){let n=new Laya.Vector3;if(Laya.Vector3.subtract(e,t,n),a){let e=new Laya.Vector3;return Laya.Vector3.normalize(n,e),e}return n}e.twoNodeDistance=function(e,t){let a=e.transform.position,n=t.transform.position,o=new Laya.Vector3;return Laya.Vector3.subtract(a,n,o),Laya.Vector3.scalarLength(o)},e.twoPositionDistance=function(e,t){let a=twoSubV3(e,t);return Laya.Vector3.scalarLength(a)},e.twoSubV3=twoSubV3,e.maximumDistanceLimi=function(e,t,a){let n=new Laya.Vector3,o=t.transform.position;if(Laya.Vector3.subtract(o,e,n),Laya.Vector3.scalarLength(n)>=a){let o=new Laya.Vector3;Laya.Vector3.normalize(n,o);let r=e.x+o.x*a,i=e.y+o.y*a,l=e.z+o.z*a,s=new Laya.Vector3(r,i,l);return t.transform.position=s,s}},e.posToScreen=function(e,t){let a=new Laya.Vector4;t.viewport.project(e,t.projectionViewMatrix,a);let n=new Laya.Vector2;return n.x=a.x,n.y=a.y,n},e.reverseVector=function(e,t,a){let n=new Laya.Vector3(e.x-t.x,e.y-t.y,e.z-t.z);if(a){let e=new Laya.Vector3;return Laya.Vector3.normalize(n,e),e}return n},e.rayScanning=function(e,t,a,n){let o=new Laya.Ray(new Laya.Vector3(0,0,0),new Laya.Vector3(0,0,0)),r=new Array;if(e.viewportPointToRay(a,o),t.physicsSimulation.rayCastAll(o,r),n){let e=null;for(var i=0;i<r.length;i++){let t=r[i].collider.owner;for(let a=0;a<n.length;a++)t.name==n[a]&&(e=r[i])}return e}return r},e.animatorPlay=function(e,t,a,n){let o=e.getComponent(Laya.Animator);if(o)return n||(n=0),o.play(t,n,a),o;console.log(e.name,"没有动画组件")}}(r=e._3D||(e._3D={})),function(e){e.sk_indexControl=function(e,t){e.play(t,!0),e.player.currentTime=15e3/e.player.cacheFrameRate}}(i=e._Skeleton||(e._Skeleton={})),function(e){e.drawPieMask=function(e,t,a){e.cacheAs="bitmap";let n=new Laya.Sprite;return n.blendMode="destination-out",e.addChild(n),n.graphics.drawPie(e.width/2,e.height/2,e.width/2+10,t,a,"#000000")},e.reverseRoundMask=function(e,t,n,o,r){null!=r&&1!=r||a.removeAllChildren(e);let i=new Laya.Sprite;return i.name="reverseRoundMask",i.blendMode="destination-out",e.cacheAs="bitmap",e.addChild(i),i.graphics.drawCircle(0,0,o,"#000000"),i.pos(t,n),i},e.reverseRoundrectMask=function(e,t,n,o,r,i,l){null!=l&&1!=l||a.removeAllChildren(e);let s=new Laya.Sprite;s.name="reverseRoundrectMask",s.blendMode="destination-out",e.cacheAs="bitmap",e.addChild(s),s.graphics.drawPath(0,0,[["moveTo",5,0],["lineTo",o-i,0],["arcTo",o,0,o,i,i],["lineTo",o,r-i],["arcTo",o,r,o-i,r,i],["lineTo",r-i,r],["arcTo",0,r,0,r-i,i],["lineTo",0,i],["arcTo",0,0,i,0,i],["closePath"]],{fillStyle:"#000000"}),s.width=o,s.height=r,s.pivotX=o/2,s.pivotY=r/2,s.pos(t,n)}}(l=e._Draw||(e._Draw={})),function(e){function objCopy(e){var t={};for(const a in e)if(e.hasOwnProperty(a)){const n=e[a];if("object"==typeof n)if(Array.isArray(n)){let e=c.copy(n);t[a]=e}else objCopy(n);else t[a]=n}return objCopy}e.onPropertySort=function(e,t){return e.sort(function(e,a){var n=e[t],o=a[t];return isNaN(Number(n))||isNaN(Number(o))||(n=Number(n),o=Number(o)),n<o?-1:n>o?1:0}),e},e.differentPropertyTwo=function(e,t,a){for(var n=[],o=0;o<e.length;o++){for(var r=e[o],i=r[a],l=!1,s=0;s<t.length;s++)if(t[s][a]==i){l=!0;break}l||n.push(r)}return n},e.identicalPropertyObjArr=function(e,t,a){for(var n=[],o=0;o<e.length;o++){for(var r=e[o],i=(r[a],!1),l=0;l<t.length;l++)if(t[l][a]==name){i=!0;break}i&&n.push(r)}return n},e.objArrUnique=function(e,t){for(var a=0,n=e.length;a<n;a++){var o=a+1;for(n=e.length;o<n;o++)e[a][t]===e[o][t]&&(e.splice(o,1),o--,n--)}return e},e.getArrByValue=function(e,t){let a=[];for(let n=0;n<e.length;n++)e[n][t]&&a.push(e[n][t]);return a},e.arrCopy=function(e){var t=e instanceof Array?[]:{};for(var a in e)t[a]="object"==typeof e[a]?objCopy(e[a]):e[a];return t},e.objCopy=objCopy}(s=e._ObjArray||(e._ObjArray={})),function(e){function copy(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a]);return t}e.oneAddToarray=function(e,t){for(let a=0;a<t.length;a++){const n=t[a];e.push(n)}return e},e.randomGetOut=function(t,a){a||(a=1);let n=e.copy(t),o=[];if(a>n.length)return"数组长度小于取出的数！";for(let e=0;e<a;e++){let e=Math.round(Math.random()*(n.length-1)),t=n[e];n.splice(e,1),o.push(t)}return o},e.randomGetOne=function(e){let t=copy(e);return t[Math.round(Math.random()*(t.length-1))]},e.copy=copy,e.unique01=function(e){for(var t=0,a=e.length;t<a;t++){var n=t+1;for(a=e.length;n<a;n++)e[t]===e[n]&&(e.splice(n,1),n--,a--)}return e},e.unique02=function(e){for(var t=[(e=e.sort())[0]],a=1,n=e.length;a<n;a++)e[a]!==e[a-1]&&t.push(e[a]);return t},e.unique03=function(e){return Array.from(new Set(e))},e.oneExcludeOtherOne=function(t,a){let n=e.copy(t),o=e.copy(a);for(let e=0;e<n.length;e++)for(let t=0;t<o.length;t++)n[e]==o[t]&&(n.splice(e,1),e--);return n},e.moreExclude=function(e,t){let a=[];for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)a.push(e[t][n]);let n=copy(a),o=copy(n),r=[];for(let e=0;e<o.length;e++)r.push({name:o[e],num:0});for(let e=0;e<a.length;e++)for(let t=0;t<r.length;t++)a[e]==r[t].name&&r[t].num++;let i=[],l=[];for(let t=0;t<r.length;t++)r[t],r[t].num==e.length?i.push(r[t].name):l.push(r[t].name);return t?l:i}}(c=e._Array||(e._Array={})),e.jsonCompare=function(e,t,a){let n;try{Laya.LocalStorage.getJSON(t)}catch(a){return n=Laya.loader.getRes(e).RECORDS,Laya.LocalStorage.setJSON(t,JSON.stringify(n)),n}if(Laya.LocalStorage.getJSON(t)){n=JSON.parse(Laya.LocalStorage.getJSON(t)),console.log(t+"从本地缓存中获取到数据,将和文件夹的json文件进行对比");try{let o=Laya.loader.getRes(e).RECORDS;if(o.length>=n.length){let e=s.differentPropertyTwo(o,n,a);console.log("两个数据的差值为：",e),c.oneAddToarray(n,e)}else console.log(t+"数据表填写有误，长度不能小于之前的长度")}catch(e){console.log(t,"数据赋值失败！请检查数据表或者手动赋值！")}}else try{n=Laya.loader.getRes(e).RECORDS}catch(e){console.log(t+"数据赋值失败！请检查数据表或者手动赋值！")}return Laya.LocalStorage.setJSON(t,JSON.stringify(n)),n}}(S=e.Tools||(e.Tools={})),function(e){let t,n,r=[],i=[],l=[],s=[],c=[],h=[],_=[],d=[],m=[],y=[],g=[];e._sumProgress=0,e._loadOrder=[],e._loadOrderIndex=0,e._loadType=u._SceneName.PreLoad,function(e){e.scene3D="scene3D",e.prefab3D="prefab3D",e.mesh3D="mesh3D",e.material="material",e.texture="texture",e.texture2D="texture2D",e.pic2D="pic2D",e.scene2D="scene2D",e.prefab2D="prefab2D",e.json="json",e.skeleton="skeleton"}(t=e._ListName||(e._ListName={})),e._currentProgress={get value(){return this.len?this.len:0},set value(t){if(this.len=t,this.len>=e._sumProgress){if(0==e._sumProgress)return;console.log("当前进度条进度为:",e._currentProgress.value/e._sumProgress),console.log('所有资源加载完成！此时所有资源可通过例如 Laya.loader.getRes("url")获取'),o._notify(e._Event.complete)}else{let t=0;for(let a=0;a<=e._loadOrderIndex;a++)t+=e._loadOrder[a].length;this.len==t&&e._loadOrderIndex++,o._notify(e._Event.startLoding)}}},function(e){e.importList="_PreLoad_importList",e.complete="_PreLoad_complete",e.startLoding="_PreLoad_startLoding",e.progress="_PreLoad_progress"}(n=e._Event||(e._Event={})),e._remakeLode=function(){r=[],i=[],l=[],s=[],h=[],_=[],d=[],m=[],y=[],g=[],e._loadOrder=[],e._sumProgress=0,e._loadOrderIndex=0,e._currentProgress.value=0};e._PreLoadScene=class extends u._SceneBase{moduleOnAwake(){e._remakeLode()}lwgStartLoding(t){o._notify(e._Event.importList,t)}moduleEventRegister(){o._register(n.importList,this,a=>{for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))for(const n in a[e])if(Object.prototype.hasOwnProperty.call(a[e],n)){const o=a[e][n];switch(e){case t.json:y.push(o);break;case t.material:s.push(o);break;case t.mesh3D:l.push(o);break;case t.pic2D:_.push(o);break;case t.prefab2D:m.push(o);break;case t.prefab3D:i.push(o);break;case t.scene2D:d.push(o);break;case t.scene3D:r.push(o);break;case t.texture2D:h.push(o);break;case t.skeleton:g.push(o);break;case t.texture:c.push(o)}}e._loadOrder=[_,d,m,i,y,c,h,l,s,g,r];for(let t=0;t<e._loadOrder.length;t++)e._sumProgress+=e._loadOrder[t].length,e._loadOrder[t].length<=0&&(e._loadOrder.splice(t,1),t--);let n=this.lwgOpenAni();null==n&&(n=0),Laya.timer.once(n,this,()=>{o._notify(e._Event.startLoding)})}),o._register(n.startLoding,this,()=>{this.startLodingRule()}),o._register(n.complete,this,()=>{let t=this.lwgAllComplete();Laya.timer.once(t,this,()=>{if(this._Owner.name=e._loadType,u._sceneControl[e._loadType]=this._Owner,e._loadType!==u._SceneName.PreLoad)u._preLoadOpenSceneLater.openName&&u._openScene(u._preLoadOpenSceneLater.openName,u._preLoadOpenSceneLater.cloesName,()=>{u._preLoadOpenSceneLater.func,u._closeScene(e._loadType)},u._preLoadOpenSceneLater.zOrder);else{for(const e in u._moudel)if(Object.prototype.hasOwnProperty.call(u._moudel,e)){const t=u._moudel[e];t._init?t._init():console.log(t,"模块没有初始化函数！")}L._playMusic(),this._openScene(a.Guide,!0,()=>{e._loadType=u._SceneName.PreLoadCutIn})}})}),o._register(n.progress,this,()=>{e._currentProgress.value++,e._currentProgress.value<e._sumProgress&&(console.log("当前进度条进度为:",e._currentProgress.value/e._sumProgress),this.lwgStepComplete())})}moduleOnEnable(){e._loadOrderIndex=0}startLodingRule(){if(e._loadOrder.length<=0)return console.log("没有加载项"),void o._notify(e._Event.complete);let t=0;for(let a=0;a<e._loadOrderIndex;a++)t+=e._loadOrder[a].length;let a=e._currentProgress.value-t;switch(e._loadOrder[e._loadOrderIndex]){case _:Laya.loader.load(_[a],Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX2D资源"+_[a]+"加载失败！不会停止加载进程！","数组下标为：",a,"XXXXXXXXXXX"):console.log("2D图片"+_[a]+"加载完成！","数组下标为：",a),o._notify(n.progress)}));break;case d:Laya.loader.load(d[a],Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX数据表"+d[a]+"加载失败！不会停止加载进程！","数组下标为：",a,"XXXXXXXXXXX"):console.log("2D场景"+d[a]+"加载完成！","数组下标为：",a),o._notify(n.progress)}),null,Laya.Loader.JSON);break;case r:Laya.Scene3D.load(r[a].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX3D场景"+r[a].url+"加载失败！不会停止加载进程！","数组下标为：",a,"XXXXXXXXXXX"):(r[a].Scene=e,console.log("3D场景"+r[a].url+"加载完成！","数组下标为：",a)),o._notify(n.progress)}));break;case i:Laya.Sprite3D.load(i[a].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX3D预设体"+i[a].url+"加载失败！不会停止加载进程！","数组下标为：",a,"XXXXXXXXXXX"):(i[a].Prefab=e,console.log("3D预制体"+i[a].url+"加载完成！","数组下标为：",a)),o._notify(n.progress)}));break;case l:Laya.Mesh.load(l[a].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX3D网格"+l[a].url+"加载失败！不会停止加载进程！","数组下标为：",a,"XXXXXXXXXXX"):console.log("3D网格"+l[a].url+"加载完成！","数组下标为：",a),o._notify(n.progress)}));break;case c:Laya.loader.load(c[a].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX2D纹理"+c[a].url+"加载失败！不会停止加载进程！","数组下标为：",a,"XXXXXXXXXXX"):(c[a].texture=e,console.log("纹理"+c[a].url+"加载完成！","数组下标为：",a)),o._notify(n.progress)}));break;case h:Laya.Texture2D.load(h[a].url,Laya.Handler.create(this,function(e){null==e?console.log("XXXXXXXXXXX2D纹理"+h[a].url+"加载失败！不会停止加载进程！","数组下标为：",a,"XXXXXXXXXXX"):(h[a].texture2D=e,console.log("3D纹理"+h[a].url+"加载完成！","数组下标为：",a)),o._notify(n.progress)}));break;case s:Laya.Material.load(s[a].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX材质"+s[a].url+"加载失败！不会停止加载进程！","数组下标为：",a,"XXXXXXXXXXX"):console.log("材质"+s[a].url+"加载完成！","数组下标为：",a),o._notify(n.progress)}));break;case y:Laya.loader.load(y[a].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX数据表"+y[a]+"加载失败！不会停止加载进程！","数组下标为：",a,"XXXXXXXXXXX"):(y[a].data=e.RECORDS,console.log("数据表"+y[a].url+"加载完成！","数组下标为：",a)),o._notify(n.progress)}),null,Laya.Loader.JSON);break;case g:g[a].templet.on(Laya.Event.ERROR,this,()=>{console.log("XXXXXXXXXXX骨骼动画"+g[a]+"加载失败！不会停止加载进程！","数组下标为：",a,"XXXXXXXXXXX"),o._notify(n.progress)}),g[a].templet.on(Laya.Event.COMPLETE,this,()=>{console.log("骨骼动画",g[a].templet.url,"加载完成！","数组下标为：",a),o._notify(n.progress)}),g[a].templet.loadAni(g[a].url);break;case m:Laya.loader.load(m[a].url,Laya.Handler.create(this,e=>{if(null==e)console.log("XXXXXXXXXXX数据表"+m[a].url+"加载失败！不会停止加载进程！","数组下标为：",a,"XXXXXXXXXXX");else{let t=new Laya.Prefab;t.json=e,m[a].prefab=t,console.log("2D预制体"+m[a].url+"加载完成！","数组下标为：",a)}o._notify(n.progress)}))}}lwgStepComplete(){}lwgAllComplete(){return 0}}}(w=e.LwgPreLoad||(e.LwgPreLoad={})),function(e){let t;function _init(){switch(c._Ues.value){case c._Tpye.WeChat:_loadPkg_Wechat();break;case c._Tpye.OPPO||c._Tpye.VIVO:_loadPkg_VIVO()}}function _loadPkg_VIVO(){if(e._pkgStep!==e._pkgInfo.length){let t=e._pkgInfo[e._pkgStep].name;Laya.Browser.window.qg.loadSubpackage({name:t,success:t=>{e._pkgStep++,_loadPkg_VIVO()},fail:e=>{console.error(`load ${t} err: `,e)}})}}function _loadPkg_Wechat(){if(e._pkgStep!==e._pkgInfo.length){let t=e._pkgInfo[e._pkgStep],a=t.name,n=t.root;Laya.Browser.window.wx.loadSubpackage({name:a,success:t=>{console.log(`load ${a} suc`),Laya.MiniAdpter.subNativeFiles[a]=n,Laya.MiniAdpter.nativefiles.push(n),e._pkgStep++,console.log("加载次数",e._pkgStep),_loadPkg_Wechat()},fail:e=>{console.error(`load ${a} err: `,e)}})}}e._pkgStep=0,e._pkgInfo=[{name:"sp1",root:"res"},{name:"sp2",root:"3DScene"},{name:"sp3",root:"3DPrefab"}],function(e){e.start="_ResPrepare_start",e.nextStep="_ResPrepare_nextStep",e.compelet="_ResPrepare_compelet"}(t=e._Event||(e._Event={})),e._init=_init,e._loadPkg_VIVO=_loadPkg_VIVO,e._loadPkg_Wechat=_loadPkg_Wechat;e._LwgInitScene=class extends u._SceneBase{moduleOnStart(){_init(),this._openScene(a.PreLoad)}}}(b=e._LwgInit||(e._LwgInit={})),function(e){e._execution={get value(){return this._Execution_executionNum?this._Execution_executionNum:Laya.LocalStorage.getItem("_Execution_executionNum")?Number(Laya.LocalStorage.getItem("_Execution_executionNum")):15},set value(e){console.log(e),this._Execution_executionNum=e,Laya.LocalStorage.setItem("_Execution_executionNum",e.toString())}},e._addExDate={get value(){return this._Execution_addExDate?this._Execution_addExDate:Laya.LocalStorage.getItem("_Execution_addExDate")?Number(Laya.LocalStorage.getItem("_Execution_addExDate")):(new Date).getDay()},set value(e){this._Execution_addExDate=e,Laya.LocalStorage.setItem("_Execution_addExDate",e.toString())}},e._addExHours={get value(){return this._Execution_addExHours?this._Execution_addExHours:Laya.LocalStorage.getItem("_Execution_addExHours")?Number(Laya.LocalStorage.getItem("_Execution_addExHours")):(new Date).getHours()},set value(e){this._Execution_addExHours=e,Laya.LocalStorage.setItem("_Execution_addExHours",e.toString())}},e._addMinutes={get value(){return this._Execution_addMinutes?this._Execution_addMinutes:Laya.LocalStorage.getItem("_Execution_addMinutes")?Number(Laya.LocalStorage.getItem("_Execution_addMinutes")):(new Date).getMinutes()},set value(e){this._Execution_addMinutes=e,Laya.LocalStorage.setItem("_Execution_addMinutes",e.toString())}},e._createExecutionNode=function(t){let a;Laya.loader.load("prefab/ExecutionNum.json",Laya.Handler.create(this,function(n){let o=new Laya.Prefab;o.json=n,a=Laya.Pool.getItemByCreateFun("prefab",o.create,o),t.addChild(a),a.getChildByName("Num").value=e._execution.value.toString(),a.pos(297,90),a.zOrder=50,e._ExecutionNode=a,e._ExecutionNode.name="_ExecutionNode"}))},e._addExecution=function(t,a,n){let o;Laya.loader.load("prefab/execution.json",Laya.Handler.create(this,function(t){let a=new Laya.Prefab;a.json=t,o=Laya.Pool.getItemByCreateFun("prefab",a.create,a),Laya.stage.addChild(o),o.x=Laya.stage.width/2,o.y=Laya.stage.height/2,o.zOrder=50,e._ExecutionNode&&p.move_Simple(o,o.x,o.y,e._ExecutionNode.x,e._ExecutionNode.y,800,100,t=>{p.fadeOut(o,1,0,200,0,t=>{p.upDwon_Shake(e._ExecutionNode,10,80,0,null),n&&n()})})}))},e.createConsumeEx=function(t){let a=Laya.Pool.getItemByClass("label",Laya.Label);a.name="label",Laya.stage.addChild(a),a.text="-2",a.fontSize=40,a.bold=!0,a.color="#59245c",a.x=e._ExecutionNode.x+100,a.y=e._ExecutionNode.y-a.height/2+4,a.zOrder=100,p.fadeOut(a,0,1,200,150,t=>{p.leftRight_Shake(e._ExecutionNode,15,60,0,null),p.fadeOut(a,1,0,600,400,e=>{})})};e.ExecutionNode=class extends u._ObjectBase{constructor(){super(...arguments),this.time=0,this.countNum=59,this.timeSwitch=!0}lwgOnAwake(){this.Num=this._Owner.getChildByName("Num"),this.CountDown=this._Owner.getChildByName("CountDown"),this.CountDown_board=this._Owner.getChildByName("CountDown_board"),this.countNum=59,this.CountDown.text="00:"+this.countNum,this.CountDown_board.text=this.CountDown.text;let t=new Date;t.getDate()!==e._addExDate.value?e._execution.value=15:t.getHours()==e._addExHours.value?(console.log(t.getMinutes(),e._addMinutes.value),e._execution.value+=t.getMinutes()-e._addMinutes.value,e._execution.value>15&&(e._execution.value=15)):e._execution.value=15,this.Num.value=e._execution.value.toString(),e._addExDate.value=t.getDate(),e._addExHours.value=t.getHours(),e._addMinutes.value=t.getMinutes()}countDownAddEx(){if(this.time++,this.time%60==0){if(this.countNum--,this.countNum<0){this.countNum=59,e._execution.value+=1,this.Num.value=e._execution.value.toString();let t=new Date;e._addExHours.value=t.getHours(),e._addMinutes.value=t.getMinutes()}this.countNum>=10&&this.countNum<=59?(this.CountDown.text="00:"+this.countNum,this.CountDown_board.text=this.CountDown.text):this.countNum>=0&&this.countNum<10&&(this.CountDown.text="00:0"+this.countNum,this.CountDown_board.text=this.CountDown.text)}}lwgOnUpdate(){Number(this.Num.value)>=15?this.timeSwitch&&(e._execution.value=15,this.Num.value=e._execution.value.toString(),this.CountDown.text="00:00",this.CountDown_board.text=this.CountDown.text,this.countNum=60,this.timeSwitch=!1):(this.timeSwitch=!0,this.countDownAddEx())}}}(v=e.Execution||(e.Execution={}))}(e||(e={}));let t=e.Admin,a=(t._SceneBase,t._ObjectBase,t._SceneName),n=e.Platform,o=e.SceneAnimation,r=e.Adaptive,i=(e.StorageAdmin,e.DataAdmin,e.EventAdmin),l=(e.DateAdmin,e.TimerAdmin),s=(e.Execution,e.Gold,e.Setting,e.Audio,e.Click),c=(e.Color,e.Effects,e.Dialogue,e.Animation2D,e.Animation3D,e.Tools),u=e.LwgPreLoad,h=(e.LwgPreLoad._PreLoadScene,e._LwgInit),_=e._LwgInit._LwgInitScene;var d,m,y;!function(e){e._list={prefab2D:{LwgGold:{url:"Prefab/LwgGold.json",prefab:null},Weapon:{url:"Prefab/Weapon.json",prefab:null},Enemy:{url:"Prefab/Enemy.json",prefab:null},EnemyBullet:{url:"Prefab/EnemyBullet.json",prefab:null}},scene2D:{UIStart:"Scene/"+a.Start+".json",GameScene:"Scene/"+a.Game+".json"},json:{}}}(d||(d={})),function(e){e.PreLoad=class extends u._PreLoadScene{lwgOnStart(){i._notify(u._Event.importList,[d._list])}lwgOpenAni(){return 1}lwgStepComplete(){}lwgAllComplete(){return 1e3}}}(m||(m={})),function(e){class n{}let o,r,s,u;n._property={name:"name",index:"index",color:"color"},n._arr=[{index:1,name:"yellow",color:"yellow"},{index:2,name:"yellow",color:"yellow"},{index:3,name:"blue",color:"blue"},{index:4,name:"blue",color:"blue"},{index:5,name:"red",color:"red"},{index:6,name:"red",color:"red"},{index:7,name:"blue",color:"blue"},{index:8,name:"blue",color:"blue"},{index:9,name:"blue",color:"blue"},{index:10,name:"blue",color:"blue"},{index:11,name:"red",color:"red"},{index:12,name:"yellow",color:"yellow"}],e._Data=n,function(e){e.trigger="trigger",e.weapon="weapon",e.enemy="enemy"}(o=e._Label||(e._Label={})),e._fireControl={Aim:null,EnemyParent:null,rotateSwitch:!0,moveDownY:0,get moveRotateSpeed(){return this._rotateSpeed?this._rotateSpeed:0},set moveRotateSpeed(t){e._fireControl.rotateSwitch||(this._rotateSpeed=t,i._notify(r.WeaponSate,[s.mouseMove]))}},function(e){e.WeaponSate="_Game_WeaponSate",e.EnemyMove="_Game_EnemyMove",e.calculateBlood="_Game_calculateBlood",e.skillEnemy="_Game_skillEnemy",e.closeScene="_Game_closeScene",e.aimAddColor="_Game_aimAddColor",e.aimSubColor="_Game_aimSubColor"}(r=e._Event||(e._Event={})),function(e){e.rotate="_WeaponSateType_rotate",e.mouseMove="_WeaponSateType_mouseMove",e.launch="_WeaponSateType_launch",e.free="_WeaponSateType_free",e.Invalid="_WeaponSateType_Invalid "}(s=e._WeaponSateType||(e._WeaponSateType={})),function(e){e.activity="_EnemySate_activity",e.death="_EnemySate_death"}(u=e._EnemySate||(e._EnemySate={})),e._init=function(){};class h extends t._ObjectBase{lwgOnStart(){l._frameLoop(1,this,()=>{})}}e._Shell=h;e._Stone=class extends h{};class _ extends t._ObjectBase{constructor(){super(...arguments),this.speed=2}lwgOnStart(){let e=this._SceneImg("HeroContent").localToGlobal(new Laya.Point(this._SceneImg("Hero").x,this._SceneImg("Hero").y)),t=new Laya.Point(this._Owner.x-e.x,this._Owner.y-e.y);t.normalize(),l._frameLoop(1,this,()=>{this._Owner.x-=t.x*this.speed,this._Owner.y-=t.y*this.speed,c._Node.leaveStage(this._Owner,()=>{this._Owner.removeSelf()})}),l._frameLoop(1,this,()=>{c._Node.checkTwoDistance(this._Owner,this._SceneImg("Hero"),50,()=>{this._Owner.removeSelf(),this._evNotify(r.calculateBlood,[1])})})}}e._EnemyBullet=_;class m extends t._ObjectBase{constructor(){super(...arguments),this.time=0,this.state=""}lwgOnStart(){this.state=u.activity,l._frameRandomLoop(100,1e3,this,()=>{if(this.state==u.activity){let e=c._Node.createPrefab(d._list.prefab2D.EnemyBullet.prefab);e.addComponent(_);let t=this._Parent.localToGlobal(new Laya.Point(this._Owner.x,this._Owner.y));this._Scene.addChild(e),e.pos(t.x,t.y)}});let e=1==c._Number.randomOneHalf()?-.5:.5;l._frameLoop(1,this,()=>{let t=c._Point.getRoundPos(this._Owner.rotation+=e,this._SceneImg("MobileFrame").width/2+this._Owner.height/2,new Laya.Point(this._SceneImg("LandContent").width/2,this._SceneImg("LandContent").height/2));this._Owner.x=t.x,this._Owner.y=t.y})}}e._Enemy=m;class y extends t._ObjectBase{constructor(){super(...arguments),this.baseSpeed=60,this.accelerated=1}get state(){return this.Statevalue}set state(e){this.Statevalue=e}speed(){this.weaponGetTime||(this.weaponGetTime=0),this.weaponGetTime++,this.baseSpeed+=this.accelerated;let e=this.baseSpeed*this.weaponGetTime;return this.distance+e}lwgOnAwake(){this.distance=this._Parent.width/2,this.rotateRadius=this._Parent.width/2}lwgEventRegister(){var t=()=>{let t=this._SceneImg("Fulcrum"),a=e._fireControl.Aim.localToGlobal(new Laya.Point(t.x,t.y)),n=this._Parent.localToGlobal(new Laya.Point(this._Owner.x,this._Owner.y));a.distance(n.x,n.y)<50?(this._Owner.scale(1.2,1.2),this._evNotify(r.aimAddColor,[this._Owner])):(this._Owner.scale(1,1),this._evNotify(r.aimSubColor,[this._Owner]))},a=(e,t)=>{let a=c._Point.getRoundPos(e?this._Owner.rotation+=e:this._Owner.rotation,t,new Laya.Point(this._Parent.width/2,this._Parent.height/2));this._Owner.x=a.x,this._Owner.y=a.y},n=()=>{Laya.timer.clearAll(this),l._frameLoop(1,this,()=>{this._Owner.y+=40,this._Owner.rotation+=10,c._Node.leaveStage(this._Owner,()=>{this._Owner.removeSelf()})})},o=e=>{this._evNotify(r.skillEnemy,[1]),e.removeSelf(),this._Owner.removeSelf()};this._evReg(r.WeaponSate,r=>{this.state!=s.launch&&this.state!=s.free&&(Laya.timer.clearAll(this),r==s.rotate?l._frameLoop(1,this,()=>{a(e._fireControl.moveRotateSpeed>0?.1:-.1,this.rotateRadius),t()}):r==s.mouseMove?(a(e._fireControl.moveRotateSpeed,this.rotateRadius),t()):r==s.launch&&(1.2==this._Owner.scaleX?(this.state=s.free,l._frameLoop(1,this,()=>{this.state=s.launch,a(null,this.speed());let t=this._Parent.localToGlobal(new Laya.Point(this._Owner.x,this._Owner.y));if(this._SceneImg("FrontScenery").getChildByName("Stone"))for(let e=0;e<this._SceneImg("FrontScenery").numChildren;e++){const a=this._SceneImg("FrontScenery").getChildAt(e);if("Stone"==a.name){if(this._SceneImg("FrontScenery").localToGlobal(new Laya.Point(a.x,a.y)).distance(t.x,t.y)<50)return void n()}}for(let a=0;a<e._fireControl.EnemyParent.numChildren;a++){const r=e._fireControl.EnemyParent.getChildAt(a);let i=this._SceneImg("EnemyParent").localToGlobal(new Laya.Point(r.x,r.y));if(i.distance(t.x,t.y)<50){if(this._Owner._data.color==r.name.substr(5)){let e=r.getChildByName("Shell");if(e){let a=r.localToGlobal(new Laya.Point(e.x,e.y));a.distance(t.x,t.y)<30||a.y>i.y?n():o(r)}else o(r)}else n();return}}})):l._frameLoop(1,this,()=>{a(e._fireControl.moveRotateSpeed>0?.1:-.1,this.rotateRadius),t()})))})}}e._Weapon=y;e.Game=class extends t._SceneBase{constructor(){super(...arguments),this.aimControl={moveDownY:0}}lwgOnEnable(){for(let e=0;e<n._arr.length;e++){let t=c._Node.createPrefab(d._list.prefab2D.Weapon.prefab);this._ImgVar("WeaponParent").addChild(t);let a=t.getChildByName("Pic"),o=c._Point.getRoundPos(e/n._arr.length*360,500,new Laya.Point(this._ImgVar("WeaponParent").width/2,this._ImgVar("WeaponParent").height/2));t.x=o.x,t.y=o.y,t.rotation=e/n._arr.length*360,a.skin=`Game/UI/Game/Hero/Hero_01_weapon_${n._arr[e].name}.png`,t.addComponent(y),t.name=n._arr[e][n._property.color]+e,t._data=n._arr[e]}this._evNotify(r.WeaponSate,[s.rotate])}lwgOnStart(){l._frameLoop(1,this,()=>{this._ImgVar("LandContent").rotation+=.1}),e._fireControl.EnemyParent=this._ImgVar("EnemyParent"),e._fireControl.Aim=this._ImgVar("Aim");for(let e=0;e<this._ImgVar("EnemyParent").numChildren;e++){const t=this._ImgVar("EnemyParent").getChildAt(e);c._Node.changePivot(t,t.width/2,t.height/2),t.addComponent(m)}}lwgEventRegister(){this._evReg(r.aimAddColor,e=>{this._ImgVar("Bow").launch!==e&&(this._ImgVar("Bow").launch=e,this._ImgVar("Bow").skin=`Game/UI/Game/Hero/Hero_01_bow_${e._data[n._property.color]}.png`)}),this._evReg(r.aimSubColor,e=>{this._ImgVar("Bow").launch==e&&(this._ImgVar("Bow").skin="Game/UI/Game/Hero/Hero_01_bow_normalc.png",this._ImgVar("Bow").launch=null)});let e=20;this._evReg(r.calculateBlood,t=>{let n=this._ImgVar("Blood").getChildAt(0);n.width=n.width-5,e-=t,this.bloodNumSwitch||e<=0&&(this.bloodNumSwitch=!0,this._openScene(a.Defeated,!1))});let t=this._ImgVar("EnemyParent").numChildren;this._evReg(r.skillEnemy,()=>{t-=1,this.EnemyNumSwitch||t<=0&&(this.EnemyNumSwitch=!0,this._openScene(a.Victory,!1))}),this._evReg(r.closeScene,()=>{this._closeScene()})}lwgBtnRegister(){this._ImgVar("AimOperation").height=this._ImgVar("WeaponOperation").height=Laya.stage.height,this._btnFour(this._ImgVar("WeaponOperation"),t=>{e._fireControl.rotateSwitch=!1,e._fireControl.moveDownY=t.stageY},t=>{!e._fireControl.rotateSwitch&&Math.abs(e._fireControl.moveDownY-t.stageY)>10&&(e._fireControl.moveDownY-t.stageY>10?e._fireControl.moveRotateSpeed=-2:e._fireControl.moveRotateSpeed=2,e._fireControl.moveDownY=t.stageY,this._evNotify(r.WeaponSate,[s.mouseMove]))},t=>{e._fireControl.rotateSwitch=!0,e._fireControl.moveDownY=0,this._evNotify(r.WeaponSate,[s.launch])},t=>{e._fireControl.rotateSwitch=!0,e._fireControl.moveDownY=0}),this._btnFour(this._ImgVar("AimOperation"),e=>{this.aimControl.moveDownY=e.stageY},e=>{this.aimControl.moveDownY&&Math.abs(this.aimControl.moveDownY-e.stageY)>5&&(this.aimControl.moveDownY-e.stageY>0?this._ImgVar("Aim").rotation+=2.5:this._ImgVar("Aim").rotation-=2.5,this._ImgVar("Aim").rotation<-45&&(this._ImgVar("Aim").rotation=-45),45<this._ImgVar("Aim").rotation&&(this._ImgVar("Aim").rotation=45),this.aimControl.moveDownY=e.stageY)},e=>{this.aimControl.moveDownY=null},e=>{this.aimControl.moveDownY=null}),this._btnFour(this._ImgVar("Hero"),()=>{this.HeroMove=!0},e=>{this.HeroMove&&(this._ImgVar("HeroContent").x=e.stageX,this._ImgVar("HeroContent").y=e.stageY,this._ImgVar("AimOperation").width=this._ImgVar("HeroContent").x,this._ImgVar("WeaponOperation").width=Laya.stage.width-this._ImgVar("HeroContent").x,this._ImgVar("WeaponOperation").x=this._ImgVar("HeroContent").x)},()=>{this.HeroMove=!1},()=>{this.HeroMove=!1})}}}(y||(y={}));var g;y.Game;!function(e){e._data=class{},e._init=function(){};e.Defeated=class extends t._SceneBase{lwgBtnRegister(){this._btnUp(this._ImgVar("BtnBack"),()=>{this._openScene(a.Start),i._notify(y._Event.closeScene)})}}}(g||(g={}));var p;g.Defeated;!function(e){let a;e._complete={get bool(){return!!Laya.LocalStorage.getItem("_Guide_complete")&&0!=Number(Laya.LocalStorage.getItem("_Guide_complete"))},set bool(e){1==e&&(e=1),Laya.LocalStorage.setItem("_Guide_complete",e.toString())}},e._whichStep={get num(){return Laya.LocalStorage.getItem("_Guide_whichStep")?Number(Laya.LocalStorage.getItem("_Guide_whichStep")):1},set num(e){Laya.LocalStorage.setItem("_Guide_whichStep",e.toString())}},e._whichStepNum=1,function(e){e.onStep="_Guide_onStep",e.stepComplete="_Guide_stepComplete",e.appear="_Guide_appear",e.start="_Guide_start",e.complete="_Guide_complete"}(a=e._Event||(e._Event={})),e._init=function(){};e.Guide=class extends t._SceneBase{lwgOnStart(){this._openScene("Start")}lwgOnEnable(){}}}(p||(p={}));var f;p.Guide;!function(e){let t;!function(e){e.animation1="_PreLoadCutIn_animation1",e.preLoad="_PreLoadCutIn_preLoad",e.animation2="_PreLoadCutIn_animation2"}(t=e._Event||(e._Event={}));e.PreLoadCutIn=class extends u._PreLoadScene{lwgOnStart(){i._notify(t.animation1)}lwgEventRegister(){i._register(t.animation1,this,()=>{let e=0;l._frameNumLoop(1,30,this,()=>{e++,this._LabelVar("Schedule").text=`${e}`},()=>{i._notify(u._Event.importList,[{}])})})}lwgOpenAni(){return 100}lwgStepComplete(){}lwgAllComplete(){return 1e3}}}(f||(f={}));var L;f.PreLoadCutIn;!function(e){e._init=function(){console.log(e)};e.Start=class extends t._SceneBase{lwgOnAwake(){}lwgBtnRegister(){this._btnUp(this._ImgVar("BtnStart"),()=>{let e=a.Game+1;this._openScene(e,!0,()=>{t._sceneControl[e].getComponent(y.Game)||t._sceneControl[e].addComponent(y.Game)})})}};e.StartItem=class extends t._ObjectBase{}}(L||(L={}));var S;L.Start;!function(e){e._data=class{},e._init=function(){};e.Victory=class extends t._SceneBase{lwgBtnRegister(){this._btnUp(this._ImgVar("BtnGet"),()=>{this._openScene(a.Start),i._notify(y._Event.closeScene)})}}}(S||(S={}));S.Victory;class w extends _{lwgOnAwake(){h._pkgInfo=[],n._Ues.value=n._Tpye.Research,o._Use.value=o._Type.stickIn.random,s._Use.value=s._Type.largen,r._Use.value=[720,1280],t._moudel={_PreLoad:m,_PreLoadCutIn:f,_Guide:p,_Start:L,_Game:y,_Victory:S,_Defeated:g}}}class b{constructor(){}static init(){(0,Laya.ClassUtils.regClass)("script/Frame/LwgInit.ts",w)}}b.width=720,b.height=1280,b.scaleMode="fixedwidth",b.screenMode="vertical",b.alignV="top",b.alignH="left",b.startScene="Scene/Lwginit.scene",b.sceneRoot="",b.debug=!1,b.stat=!1,b.physicsDebug=!0,b.exportSceneToJson=!0,b.init();new class{constructor(){window.Laya3D?Laya3D.init(b.width,b.height):Laya.init(b.width,b.height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=b.scaleMode,Laya.stage.screenMode=b.screenMode,Laya.stage.alignV=b.alignV,Laya.stage.alignH=b.alignH,Laya.URL.exportSceneToJson=b.exportSceneToJson,(b.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),b.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),b.stat&&Laya.Stat.show(),Laya.alertGlobalError=!0,Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){b.startScene&&Laya.Scene.open(b.startScene)}}}();