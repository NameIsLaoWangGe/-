!function(){"use strict";var e;!function(e){let a,n,r,l,i,s,c,u,d,h,m,y,g,p,_,f,L,w,S,O,b,k,v,C,N,X,P,A,x,D,E;!function(a){function btnPauseUp(a){a.stopPropagation(),a.currentTarget.scale(1,1),e.Admin._openScene("UIPause",null,null,null)}a._createBtnPause=function(e){let t;Laya.loader.load("prefab/BtnPause.json",Laya.Handler.create(this,function(n){let r=new Laya.Prefab;r.json=n,t=Laya.Pool.getItemByCreateFun("prefab",r.create,r),e.addChild(t),t.pos(645,167),t.zOrder=0,a.BtnPauseNode=t,a.BtnPauseNode.name="BtnPauseNode",y._on(y._Type.largen,t,null,null,btnPauseUp,null)}))},a.btnPauseUp=btnPauseUp}(a=e.Pause||(e.Pause={})),function(e){e._createP201_01=function(e){let a;Laya.loader.load("prefab/P201.json",Laya.Handler.create(this,function(t){let n=new Laya.Prefab;n.json=t,a=Laya.Pool.getItemByCreateFun("P201",n.create,n),e.addChild(a),a.pos(80,290),a.zOrder=65}))}}(n=e.Elect||(e.Elect={})),function(e){let a,t,n,r,o;function getDialogContent_Random(e){let a=[],t=getUseWhere(e),n=Math.floor(Math.random()*t.length);for(const e in t[n])if(t[n].hasOwnProperty(e)){const r=t[n][e];"content"==e.substring(0,7)&&"-1"!==r&&a.push(r)}return a}function getUseWhere(a){let t=[];for(let n=0;n<e._dialogContent.Array.length;n++){const r=e._dialogContent.Array[n];r.useWhere==a&&t.push(r)}return t}!function(e){e[e["金币不够了！"]=0]="金币不够了！",e[e["没有可以购买的皮肤了！"]=1]="没有可以购买的皮肤了！",e[e["暂时没有广告，过会儿再试试吧！"]=2]="暂时没有广告，过会儿再试试吧！",e[e["暂无皮肤!"]=3]="暂无皮肤!",e[e["暂无分享!"]=4]="暂无分享!",e[e["暂无提示机会!"]=5]="暂无提示机会!",e[e["观看完整广告才能获取奖励哦！"]=6]="观看完整广告才能获取奖励哦！",e[e["通关上一关才能解锁本关！"]=7]="通关上一关才能解锁本关！",e[e["分享成功后才能获取奖励！"]=8]="分享成功后才能获取奖励！",e[e["分享成功!"]=9]="分享成功!",e[e["暂无视频，玩一局游戏之后分享！"]=10]="暂无视频，玩一局游戏之后分享！",e[e["消耗2点体力！"]=11]="消耗2点体力！",e[e["今日体力福利已领取！"]=12]="今日体力福利已领取！",e[e["分享成功，获得125金币！"]=13]="分享成功，获得125金币！",e[e["分享成功，获得50金币！"]=14]="分享成功，获得50金币！",e[e["限定皮肤已经获得，请前往皮肤界面查看。"]=15]="限定皮肤已经获得，请前往皮肤界面查看。",e[e["分享失败！"]=16]="分享失败！",e[e["兑换码错误！"]=17]="兑换码错误！",e[e["尚未获得该商品!"]=18]="尚未获得该商品!",e[e["恭喜获得新皮肤!"]=19]="恭喜获得新皮肤!",e[e["请前往皮肤限定界面获取!"]=20]="请前往皮肤限定界面获取!",e[e["通过相应的关卡数达到就可以得到了!"]=21]="通过相应的关卡数达到就可以得到了!",e[e["点击金币抽奖按钮购买!"]=22]="点击金币抽奖按钮购买!",e[e["没有领取次数了！"]=23]="没有领取次数了！",e[e["增加三次开启宝箱次数！"]=24]="增加三次开启宝箱次数！",e[e["观看广告可以获得三次开宝箱次数！"]=25]="观看广告可以获得三次开宝箱次数！",e[e["没有宝箱领可以领了！"]=26]="没有宝箱领可以领了！",e[e["请前往皮肤界面购买！"]=27]="请前往皮肤界面购买！",e[e["今天已经签到过了！"]=28]="今天已经签到过了！",e[e["没有抽奖次数了，请通过观看广告获取！"]=29]="没有抽奖次数了，请通过观看广告获取！",e[e["没有库存了！"]=30]="没有库存了！",e[e["牌数太少，无法使用道具！"]=31]="牌数太少，无法使用道具！",e[e["没有可以购买的卡牌了！"]=32]="没有可以购买的卡牌了！",e[e["敬请期待!"]=33]="敬请期待!"}(a=e.HintContent||(e.HintContent={})),function(e){e.blackBord="Frame/UI/ui_orthogon_black.png"}(t||(t={})),e.createHint_Middle=function(e){let n=Laya.Pool.getItemByClass("Hint_M",Laya.Sprite);n.name="Hint_M",Laya.stage.addChild(n),n.width=Laya.stage.width,n.height=100,n.pivotY=n.height/2,n.pivotX=Laya.stage.width/2,n.x=Laya.stage.width/2,n.y=Laya.stage.height/2,n.zOrder=100;let r=new Laya.Image;n.addChild(r),r.skin=t.blackBord,r.width=Laya.stage.width,r.pivotX=Laya.stage.width/2,r.height=100,r.pivotY=r.height/2,r.y=n.height/2,r.x=Laya.stage.width/2,r.alpha=.6;let o=new Laya.Label;n.addChild(o),o.width=Laya.stage.width,o.text=a[e],o.pivotX=Laya.stage.width/2,o.x=Laya.stage.width/2,o.height=100,o.pivotY=50,o.y=n.height/2,o.bold=!0,o.fontSize=35,o.color="#ffffff",o.align="center",o.valign="middle",o.alpha=0,p.scale_Alpha(n,0,1,0,1,1,1,200,0,e=>{p.fadeOut(o,0,1,150,0,e=>{p.fadeOut(o,1,0,200,800,e=>{p.scale_Alpha(n,1,1,1,1,0,0,200,0,e=>{n.removeSelf()})})})})},e._dialogContent={get Array(){return null!==Laya.loader.getRes("GameData/Dialogue/Dialogue.json").RECORDS?Laya.loader.getRes("GameData/Dialogue/Dialogue.json").RECORDS:[]}},e.getDialogContent=function(a,t){let n;for(let r=0;r<e._dialogContent.Array.length;r++){const o=e._dialogContent.Array[r];if(o.useWhere==a&&o.name==t){n=o;break}}let r=[];for(const e in n)if(n.hasOwnProperty(e)){const a=n[e];"content"!=e.substring(0,7)&&-1===a||r.push(a)}return r},e.getDialogContent_Random=getDialogContent_Random,e.getUseWhere=getUseWhere,function(e){e.scene1="scene1",e.scene2="scene2",e.scene3="scene3"}(n=e.UseWhere||(e.UseWhere={})),function(e){e.name="name",e.useWhere="useWhere",e.content="content",e.max="max"}(r=e.DialogProperty||(e.DialogProperty={})),function(e){e.voluntarily="voluntarily",e.manual="manual",e.clickContent="clickContent"}(o=e.PlayMode||(e.PlayMode={})),e.createVoluntarilyDialogue=function(a,t,n,r,o,l,i){null==r&&(r=0),Laya.timer.once(r,this,()=>{let r;Laya.loader.load("Prefab/Dialogue_Common.json",Laya.Handler.create(this,function(s){let c=new Laya.Prefab;c.json=s,r=Laya.Pool.getItemByCreateFun("Pre_Dialogue",c.create,c),l?l.addChild(r):Laya.stage.addChild(r),r.x=a,r.y=t;let u,d=r.getChildByName("Content");void 0!==i?d.text=i[0]:(u=getDialogContent_Random(n),d.text=u[0]),r.zOrder=100,null==o&&(o=1e3),p.scale_Alpha(r,0,0,0,1,1,1,150,1e3,()=>{for(let e=0;e<u.length;e++)Laya.timer.once(e*o,this,()=>{d.text=u[e],e==u.length-1&&Laya.timer.once(o,this,()=>{p.scale_Alpha(r,1,1,1,0,0,0,150,1e3,()=>{r.removeSelf()})})})}),e.DialogueNode=r}))})},e.createCommonDialog=function(e,a,t,n){let r;Laya.loader.load("Prefab/Dialogue_Common.json",Laya.Handler.create(this,function(o){let l=new Laya.Prefab;l.json=o,r=Laya.Pool.getItemByCreateFun("Dialogue_Common",l.create,l),e.addChild(r),r.pos(a,t),r.getChildByName("Dialogue_Common").text=n}))}}(r=e.Dialogue||(e.Dialogue={})),function(a){a._execution={get value(){return Laya.LocalStorage.getItem("_execution")?Number(Laya.LocalStorage.getItem("_execution")):15},set value(e){Laya.LocalStorage.setItem("_execution",e.toString())}},a._createExecutionNum=function(e){let t;Laya.loader.load("prefab/ExecutionNum.json",Laya.Handler.create(this,function(n){let r=new Laya.Prefab;r.json=n,t=Laya.Pool.getItemByCreateFun("prefab",r.create,r),e.addChild(t),t.getChildByName("Num"),t.pos(297,90),t.zOrder=50,a.ExecutionNumNode=t,a.ExecutionNumNode.name="ExecutionNumNode"}))},a._createAddExecution=function(t,n,r){let o;Laya.loader.load("prefab/execution.json",Laya.Handler.create(this,function(t){let n=new Laya.Prefab;n.json=t,o=Laya.Pool.getItemByCreateFun("prefab",n.create,n),Laya.stage.addChild(o),o.x=Laya.stage.width/2,o.y=Laya.stage.height/2,o.zOrder=50,a.ExecutionNumNode&&p.move_Simple(o,o.x,o.y,a.ExecutionNumNode.x,a.ExecutionNumNode.y,800,100,t=>{p.fadeOut(o,1,0,200,0,t=>{e.Animation2D.upDwon_Shake(a.ExecutionNumNode,10,80,0,null),r&&r()})},Laya.Ease.expoIn)}))},a.createConsumeEx=function(t){let n=Laya.Pool.getItemByClass("label",Laya.Label);n.name="label",Laya.stage.addChild(n),n.text="-2",n.fontSize=40,n.bold=!0,n.color="#59245c",n.x=a.ExecutionNumNode.x+100,n.y=a.ExecutionNumNode.y-n.height/2+4,n.zOrder=100,e.Animation2D.fadeOut(n,0,1,200,150,t=>{e.Animation2D.leftRight_Shake(a.ExecutionNumNode,15,60,0,null),e.Animation2D.fadeOut(n,1,0,600,400,e=>{})})}}(l=e.Execution||(e.Execution={})),function(a){let t;function createOneGold(e,a,n){let r=Laya.Pool.getItemByClass("addGold",Laya.Image);r.name="addGold";Math.floor(12*Math.random());return r.alpha=1,r.zOrder=60,r.width=e,r.height=a,r.pivotX=e/2,r.pivotY=a/2,r.skin=n||t[0],r}a._num={get value(){return Laya.LocalStorage.getItem("_goldNum")?Number(Laya.LocalStorage.getItem("_goldNum")):0},set value(e){Laya.LocalStorage.setItem("_goldNum",e.toString())}},a.createGoldNode=function(e,t,n){let r;n||(n=Laya.stage),a.GoldNode&&a.GoldNode.removeSelf(),Laya.loader.load("Prefab/LwgGold.json",Laya.Handler.create(this,function(o){let l=new Laya.Prefab;l.json=o,(r=Laya.Pool.getItemByCreateFun("gold",l.create,l)).getChildByName("Num").text=L.format_FormatNumber(a._num.value),n.addChild(r),r.pos(e,t),r.zOrder=100,a.GoldNode=r}))},a._addGold=function(e){a._num.value+=Number(e),a.GoldNode.getChildByName("Num").text=L.format_FormatNumber(a._num.value)},a.addGoldDisPlay=function(e){let t=a.GoldNode.getChildByName("Num");t.value=(Number(t.value)+Number(e)).toString()},a.addGoldNoDisPlay=function(e){a._num.value+=Number(e)},a.goldAppear=function(e,t,n){a.GoldNode&&(e?p.scale_Alpha(a.GoldNode,0,1,1,1,1,1,e,0,e=>{a.GoldNode.visible=!0}):a.GoldNode.visible=!0,t&&(a.GoldNode.x=t),n&&(a.GoldNode.y=n))},a.goldVinish=function(e){a.GoldNode&&(e?p.scale_Alpha(a.GoldNode,1,1,1,1,1,0,e,0,e=>{a.GoldNode.visible=!1}):a.GoldNode.visible=!1)},function(e){e[e["Frame/Effects/icon_gold.png"]=0]="Frame/Effects/icon_gold.png"}(t||(t={})),a.createOneGold=createOneGold,a.getGoldAni_Single=function(e,a,t,n,r,o,l,i,s){for(let c=0;c<a;c++)Laya.timer.once(30*c,this,()=>{let u=createOneGold(t,n,r);e.addChild(u),p.move_Scale(u,1,o.x,o.y,l.x,l.y,1,350,0,null,()=>{f.playSound(f.voiceUrl.huodejinbi),c===a-1?Laya.timer.once(200,this,()=>{s&&s()}):i&&i(),u.removeSelf()})})},a._getGoldAni_Heap=function(e,n,r,o,l,i,s,c,u){for(let d=0;d<n;d++){let h=createOneGold(r||100,o||100,l||t[0]);(e=e||Laya.stage).addChild(h),i=i||new Laya.Point(Laya.stage.width/2,Laya.stage.height/2),s=s||new Laya.Point(a.GoldNode.x,a.GoldNode.y);let m=1==Math.floor(2*Math.random())?i.x+100*Math.random():i.x-100*Math.random(),y=1==Math.floor(2*Math.random())?i.y+100*Math.random():i.y-100*Math.random();p.move_Scale(h,.5,i.x,i.y,m,y,1,300,100*Math.random()+100,Laya.Ease.expoIn,()=>{p.move_Scale(h,1,h.x,h.y,s.x,s.y,1,400,200*Math.random()+100,Laya.Ease.cubicOut,()=>{f.playSound(f.voiceUrl.huodejinbi),d===n-1?Laya.timer.once(200,this,()=>{u&&u()}):c&&c(),h.removeSelf()})})}};class n extends Laya.Script{onAwake(){this.initProperty()}onEnable(){this.Owner=this.owner,this.selfScene=this.Owner.scene;let e=this.__proto__.constructor.name;this.Owner[e]=this,this.timer=0,this.lwgInit(),this.propertyAssign()}lwgInit(){}initProperty(){}propertyAssign(){this.startAlpha&&(this.Owner.alpha=this.startAlpha),this.startScale&&this.Owner.scale(this.startScale,this.startScale),this.startRotat&&(this.Owner.rotation=this.startRotat)}commonSpeedXYByAngle(e,a){this.Owner.x+=L.point_SpeedXYByAngle(e,a+this.accelerated).x,this.Owner.y+=L.point_SpeedXYByAngle(e,a+this.accelerated).y}moveRules(){}onUpdate(){this.moveRules()}onDisable(){Laya.Pool.recover(this.Owner.name,this.Owner),this.destroy(),Laya.Tween.clearAll(this),Laya.timer.clearAll(this)}}a.GoldAniBase=n;a.AddGold=class extends n{lwgInit(){this.Owner.width=115,this.Owner.height=111,this.Owner.pivotX=this.Owner.width/2,this.Owner.pivotY=this.Owner.height/2}initProperty(){}moveRules(){this.moveSwitch&&(this.timer++,this.timer>0&&(e.Animation2D.move_Scale(this.Owner,1,this.Owner.x,this.Owner.y,this.targetX,this.targetY,.35,250,0,e=>{this.Owner.removeSelf(),null!==this.func&&this.func()}),this.moveSwitch=!1))}}}(i=e.Gold||(e.Gold={})),function(e){e.dispatcher=new Laya.EventDispatcher,e._register=function(a,t,n){t||console.error("事件的执行域必须存在!"),e.dispatcher.on(a.toString(),t,n)},e._registerOnce=function(a,t,n){t||console.error("事件的执行域必须存在!"),e.dispatcher.once(a.toString(),t,n)},e._notify=function(a,t){e.dispatcher.event(a.toString(),t)},e._off=function(a,t,n){e.dispatcher.off(a.toString(),t,n)},e._offAll=function(a){e.dispatcher.offAll(a.toString())},e._offCaller=function(a){e.dispatcher.offAllCaller(a)}}(s=e.EventAdmin||(e.EventAdmin={})),function(e){e._date={get year(){return(new Date).getFullYear()},get month(){return(new Date).getMonth()},get date(){return(new Date).getDate()},get day(){return(new Date).getDay()},get hours(){return(new Date).getHours()},get minutes(){return(new Date).getMinutes()},get seconds(){return(new Date).getSeconds()},get milliseconds(){return(new Date).getMilliseconds()},get toLocaleDateString(){return(new Date).toLocaleDateString()},get toLocaleTimeString(){return(new Date).toLocaleTimeString()}},e._loginDate={get value(){let e,a=[],t=new Date,n=[t.getFullYear(),t.getMonth()+1,t.getDate(),t.getDay()];try{e=Laya.LocalStorage.getJSON("DateAdmin_loginDate");let a=[];a=JSON.parse(e);let t=!1;for(let e=0;e<a.length;e++)a[e].toString()==n.toString()&&(t=!0);t||a.push(n)}catch(e){0==a.length&&a.push(n)}return Laya.LocalStorage.setJSON("DateAdmin_loginDate",JSON.stringify(a)),a}},e._loginNumber={get value(){return Laya.LocalStorage.getItem("DateAdmin_loginNumber")?Number(Laya.LocalStorage.getItem("DateAdmin_loginNumber")):1},set value(e){Laya.LocalStorage.setItem("DateAdmin_loginNumber",e.toString())}},e._last={get date(){return Laya.LocalStorage.getItem("DateAdmin_last")?Number(Laya.LocalStorage.getItem("DateAdmin_last")):e._date.date},setLastDate(){Laya.LocalStorage.setItem("DateAdmin_last",e._date.date.toString())}}}(c=e.DateAdmin||(e.DateAdmin={})),function(e){e._frameLoop=function(e,a,t,n,r,o){n&&t(),Laya.timer.frameLoop(e,a,()=>{t()},r,o)},e._frameRandomLoop=function(e,a,t,n,r,o,l){r&&n();var i=()=>{let r=L.randomOneInt(e,a);Laya.timer.frameOnce(r,t,()=>{n(),i()},o,l)};i()},e._frameNumLoop=function(e,a,t,n,r,o,l){r&&n();let i=0;var s=()=>{++i>a?Laya.timer.clear(t,s):n()};Laya.timer.frameLoop(e,t,s,o,l)},e._frameOnce=function(e,a,t,n,r,o){n&&n(),Laya.timer.frameOnce(e,a,()=>{t()},r,o)},e._loop=function(e,a,t,n,r,o){n&&t(),Laya.timer.loop(e,a,()=>{t()},r,o)},e._randomLoop=function(e,a,t,n,r,o,l){r&&n();var i=()=>{let r=L.randomOneInt(e,a);Laya.timer.once(r,t,()=>{n(),i()},o,l)};i()},e._numLoop=function(e,a,t,n,r,o,l){r&&n();let i=0;var s=()=>{++i>a?Laya.timer.clear(t,s):n()};Laya.timer.loop(e,t,s,o,l)},e._once=function(e,a,t,n,r){t&&t(),Laya.timer.once(e,{},()=>{a()},n,r)}}(u=e.TimerAdmin||(e.TimerAdmin={})),function(e){e._platform={tpye:{Bytedance:"Bytedance",WeChat:"WeChat",OPPO:"OPPO",OPPOTest:"OPPOTest",VIVO:"VIVO",General:"General",Web:"Web",WebTest:"WebTest"},get name(){return this._platform_name?this._platform_name:null},set name(a){this._platform_name=a,a==e._platform.tpye.WebTest&&(Laya.LocalStorage.clear(),o._num.value=5e3)}},e._game={switch:!0,get level(){return Laya.LocalStorage.getItem("_gameLevel")?Number(Laya.LocalStorage.getItem("_gameLevel")):1},set level(e){let a=e-this.level;a>0&&(this.maxLevel+=a),e>this.loopLevel&&-1!=this.loopLevel?Laya.LocalStorage.setItem("_gameLevel",1..toString()):Laya.LocalStorage.setItem("_gameLevel",e.toString())},get maxLevel(){return Laya.LocalStorage.getItem("_game_maxLevel")?Number(Laya.LocalStorage.getItem("_game_maxLevel")):this.level},set maxLevel(e){Laya.LocalStorage.setItem("_game_maxLevel",e.toString())},get loopLevel(){return this._gameloopLevel?this._gameloopLevel:-1},set loopLevel(e){this._gameloopLevel=e},LevelNode:new Laya.Sprite,_createLevel(a,t,n){let r;Laya.loader.load("prefab/LevelNode.json",Laya.Handler.create(this,function(o){let l=new Laya.Prefab;l.json=o,r=Laya.Pool.getItemByCreateFun("prefab",l.create,l),a.addChild(r),r.pos(t,n),r.zOrder=0;r.getChildByName("level");e._game.LevelNode=r}))},pause:{get switch(){return e._game.switch},set switch(a){this.bool=a,a?(e._game.switch=!1,Laya.timer.pause()):(e._game.switch=!0,Laya.timer.resume())}}};function _unlockPreventClick(e){let a=e.getChildByName("__lockClick__");a&&a.removeSelf()}let a;function _openScene(a,t,n,r){e._clickLock.switch=!0,Laya.Scene.load("Scene/"+a+".json",Laya.Handler.create(this,function(o){e._moudel["_"+a]?e._moudel["_"+a][a]&&(o.getComponent(e._moudel["_"+a][a])||o.addComponent(e._moudel["_"+a][a])):console.log("当前场景没有同名脚本！"),o.width=Laya.stage.width,o.height=Laya.stage.height;var l=()=>{L.Node.checkChildren(Laya.stage,a)?console.log(a,"场景重复出现！请检查代码"):(r?Laya.stage.addChildAt(o,r):Laya.stage.addChild(o),n&&n())};o.name=a,e._sceneControl[a]=o;let i=o.getChildByName("Background");i&&(i.width=Laya.stage.width,i.height=Laya.stage.height),e._sceneControl[t]?_closeScene(t,l):l()}))}function _closeScene(a,t){if(!e._sceneControl[a])return void console.log("场景",a,"关闭失败！可能是名称不对！");var n=()=>{e._clickLock.switch=!1,e._sceneControl[a].close(),t&&t()};if(!e._sceneAnimation.vanishSwitch)return void n();let r=e._sceneControl[a][e._sceneControl[a].name];if(r&&r){e._clickLock.switch=!0,r.lwgBeforeVanishAni();let t=r.lwgVanishAni();null!==t?Laya.timer.once(t,this,()=>{n(),e._clickLock.switch=!1}):function(a,t){let n,r;switch(a[a.name].lwgBeforeVanishAni(),e._sceneAnimation.presentAni){case e._sceneAnimation.type.fadeOut:n=150,r=50,a.Background&&p.fadeOut(a,1,0,75),p.fadeOut(a,1,0,150,50,()=>{t()});break;case e._sceneAnimation.type.stickIn.left:t()}}(e._sceneControl[a],n)}}function _commonOpenAni(a){let t,n,r;switch(e._sceneAnimation.presentAni){case e._sceneAnimation.type.fadeOut:t=400,n=300,a.Background&&p.fadeOut(a,0,1,200,300),p.fadeOut(a,0,1,400,0),r=400;break;case e._sceneAnimation.type.stickIn.upLeftDownLeft:_sceneAnimationTypeStickIn(a,e._sceneAnimation.type.stickIn.upLeftDownLeft);break;case e._sceneAnimation.type.stickIn.upRightDownLeft:_sceneAnimationTypeStickIn(a,e._sceneAnimation.type.stickIn.upRightDownLeft)}return Laya.timer.once(r,this,()=>{e._clickLock.switch=!1,a[a.name]&&(a[a.name].lwgOpenAniAfter(),a[a.name].lwgBtnClick())}),r}function _sceneAnimationTypeStickIn(a,t){let n=0;a.getChildByName("Background")&&p.fadeOut(a.getChildByName("Background"),0,1,700);let r=L.Node.zOrderByY(a,!1);for(let a=0;a<r.length;a++){const n=r[a];if("Background"!==n.name){let r=n.pivotX,o=n.pivotY;switch(t){case e._sceneAnimation.type.stickIn.upLeftDownLeft:n.rotation=n.y>Laya.stage.height/2?180:-180,L.Node.changePovit(n,0,0);break;case e._sceneAnimation.type.stickIn.upRightDownLeft:n.rotation=n.y>Laya.stage.height/2?-180:180,L.Node.changePovit(n,180==n.rotation?n.width:0,0)}let l=n.x,i=n.y;n.rotation=n.y>Laya.stage.height/2?-180:180,L.Node.changePovit(n,180==n.rotation?n.width:0,0),n.x=n.pivotX>n.width/2?800+n.width:-800-n.width,n.y=n.rotation>0?n.y+200:n.y-200,p.simple_Rotate(n,n.rotation,0,700,100*a),p.move_Simple(n,n.x,n.y,l,i,700,100*a,()=>{L.Node.changePovit(n,r,o)})}}return n=100*a.numChildren+700+200}e._Game=class{},e._clickLock={get switch(){return!!Laya.stage.getChildByName("__stageClickLock__")},set switch(e){if(e){if(!Laya.stage.getChildByName("__stageClickLock__")){console.log("锁住点击！");let e=new Laya.Sprite;e.name="__stageClickLock__",Laya.stage.addChild(e),e.zOrder=3e3,e.width=Laya.stage.width,e.height=Laya.stage.height,e.pos(0,0),y._on(y._Type.noEffect,e,this,null,null,e=>{console.log("舞台点击被锁住了！请用admin._clickLock=false解锁"),e.stopPropagation()})}}else Laya.stage.getChildByName("__stageClickLock__")&&Laya.stage.getChildByName("__stageClickLock__").removeSelf()}},e._secneLockClick=function(e){_unlockPreventClick(e);let a=new Laya.Sprite;e.addChild(a),a.zOrder=1e3,a.name="__lockClick__",a.width=Laya.stage.width,a.height=Laya.stage.height,a.pos(0,0),y._on(y._Type.noEffect,a,this,null,null,e=>{console.log("场景点击被锁住了！请用admin._unlockPreventClick（）解锁"),e.stopPropagation()})},e._unlockPreventClick=_unlockPreventClick,e._sceneControl={},e._sceneScript={},e._moudel={},function(e){e.PreLoad="PreLoad",e.PreLoadStep="PreLoadStep",e.Guide="Guide",e.Start="Start",e.Shop="Shop",e.Task="Task",e.Set="Set",e.Skin="Skin",e.Puase="Puase",e.Share="Share",e.Game3D="Game3D",e.Victory="Victory",e.Defeated="Defeated",e.PassHint="PassHint",e.SkinTry="SkinTry",e.Redeem="Redeem",e.Turntable="Turntable",e.CaidanPifu="CaidanPifu",e.Operation="Operation",e.VictoryBox="VictoryBox",e.CheckIn="CheckIn",e.Resurgence="Resurgence",e.Ads="Ads",e.LwgInit="LwgInit",e.Game="Game",e.SmallHint="SmallHint",e.DrawCard="DrawCard",e.PropTry="PropTry",e.Card="Card",e.ExecutionHint="ExecutionHint",e.SkinQualified="SkinQualified",e.Eastereggister="Eastereggister",e.SelectLevel="SelectLevel",e.Settle="Settle",e.Special="Special"}(a=e._SceneName||(e._SceneName={})),e._preLoadOpenScene=function(t,n,r,o){_openScene(a.PreLoadStep),e._preLoadOpenSceneLater.openSceneName=t,e._preLoadOpenSceneLater.cloesSceneName=n,e._preLoadOpenSceneLater.func=r,e._preLoadOpenSceneLater.zOrder=o},e._preLoadOpenSceneLater={openSceneName:null,cloesSceneName:null,func:null,zOrder:null},e._openScene=_openScene,e._closeScene=_closeScene,e._sceneAnimation={type:{fadeOut:"fadeOut",stickIn:{left:"left",right:"right",upLeftDownLeft:"upLeftDownRight",upLeftDownRight:"upLeftDownRight",upRightDownLeft:"upRightDownLeft"},leftMove:"leftMove",rightMove:"rightMove",centerRotate:"centerRotate",drawUp:"drawUp"},vanishSwitch:!1,openSwitch:!0,presentAni:"fadeOut"},e._gameState={type:{Start:"Start",Play:"Play",Pause:"pause",Victory:"victory",Defeated:"defeated"},state:"Start",setState(t){switch(t){case a.Start:e._gameState.state=e._gameState.type.Start;break;case a.Game:e._gameState.state=e._gameState.type.Play;break;case a.Defeated:e._gameState.state=e._gameState.type.Defeated;break;case a.Victory:e._gameState.state=e._gameState.type.Victory}}};e._SceneBase=class extends Laya.Script{constructor(){super(),this.calssName=a.PreLoad,this.aniTime=100,this.aniDelayde=100}get Owner(){return this.owner}SpriteVar(e){return this.Owner[e]?this.Owner[e]:void console.log("场景内不存在全局节点：",e)}AniVar(e){return this.Owner[e]?this.Owner[e]:void console.log("场景内不存在动画：",e)}btnVar(e){return this.Owner[e]?this.Owner[e]:void console.log("场景内不存在全局按钮：",e)}ImgVar(e){return this.Owner[e]?this.Owner[e]:void console.log("场景内不存在全局节点：",e)}ListVar(e){if(this.Owner[e])return this.Owner[e];console.log("场景内不存在全局节点：",e)}TapVar(e){if(this.Owner[e])return this.Owner[e];console.log("场景内不存在全局节点：",e)}onAwake(){null==this.Owner.name?console.log("场景名称失效，脚本赋值失败"):(this.calssName=this.Owner.name,this.Owner[this.calssName]=this),e._gameState.setState(this.calssName),this.moduleOnAwake(),this.lwgOnAwake(),this.lwgAdaptive()}lwgOnAwake(){}moduleOnAwake(){}onEnable(){this.moduleEventRegister(),this.lwgEventRegister(),this.moduleOnEnable(),this.lwgOnEnable(),this.btnAndlwgOpenAni()}moduleOnEnable(){}lwgEventRegister(){}moduleEventRegister(){}lwgOnEnable(){}onStart(){this.moduleOnStart(),this.lwgOnStart()}btnRig(e,a,t,n,r,o,l){y._on(e,a,t,n,r,o,l)}lwgOpenScene(a,t,n,r){let o;null!=t&&1!=t||(o=this.Owner.name),e._openScene(a,o,n,r)}lwgCloseScene(a,t){e._closeScene(a||this.Owner.name,t)}lwgOnStart(){}moduleOnStart(){}btnAndlwgOpenAni(){let a=this.lwgOpenAni();null!==a?Laya.timer.once(a,this,()=>{e._clickLock.switch=!1,this.lwgOpenAniAfter(),this.lwgBtnClick()}):a=_commonOpenAni(this.Owner)}lwgOpenAni(){return null}lwgOpenAniAfter(){}lwgBtnClick(){}lwgAdaptive(){}onUpdate(){this.lwgOnUpdate()}lwgOnUpdate(){}lwgBeforeVanishAni(){}lwgVanishAni(){return null}onDisable(){p.fadeOut(this.Owner,1,0,2e3,1),this.lwgOnDisable(),Laya.timer.clearAll(this),Laya.Tween.clearAll(this),s._offCaller(this)}lwgOnDisable(){}};e._Person=class extends Laya.Script{constructor(){super()}get Owner(){return this.owner}get OwnerScene(){return this.owner.scene}get OwnerRig(){return this.Owner._OwnerRig||(this.Owner._OwnerRig=this.Owner.getComponent(Laya.RigidBody)),this.Owner._OwnerRig}onAwake(){this.lwgOnAwake()}lwgOnAwake(){}onEnable(){let e=this.__proto__.constructor.name;this.Owner[e]=this,this.lwgOnEnable()}lwgOnEnable(){console.log("父类的初始化！")}lwgOpenScene(a,t,n,r){let o;null!=t&&1!=t||(o=this.OwnerScene.name),e._openScene(a,o,n,r)}lwgCloseScene(a,t){e._closeScene(a||this.Owner.name,t)}};e._Object=class extends Laya.Script{constructor(){super()}get Owner(){return this.owner}get OwnerScene(){return this.owner.scene}get OwnerRig(){return this.Owner._OwnerRig||(this.Owner._OwnerRig=this.Owner.getComponent(Laya.RigidBody)),this.Owner._OwnerRig}onAwake(){let e=this.__proto__.constructor.name;this.Owner[e]=this,this.lwgOnAwake()}lwgOpenScene(a,t,n,r){let o;null!=t&&1!=t||(o=this.OwnerScene.name),e._openScene(a,o,n,r)}lwgCloseScene(a,t){e._closeScene(a||this.Owner.name,t)}lwgOnAwake(){}onEnable(){this.lwgBtnClick(),this.lwgEventRegister(),this.lwgOnEnable()}lwgOnEnable(){}lwgBtnClick(){}lwgEventRegister(){}onStart(){this.lwgOnStart()}lwgOnStart(){}onUpdate(){this.lwgOnUpdate()}lwgOnUpdate(){}onDisable(){this.lwgOnDisable(),Laya.timer.clearAll(this),s._offCaller(this)}lwgOnDisable(){}}}(d=e.Admin||(e.Admin={})),function(e){e.RGBtoHexString=function(e,a,t){return"#"+("00000"+(e<<16|a<<8|t).toString(16)).slice(-6)},e._colour=function(e,a,t){let n=new Laya.ColorFilter;return e.blendMode="null",a?n.color(a[0],a[1],a[2],a[3]):n.color(L.randomOneNumber(255,100,!0),L.randomOneNumber(255,100,!0),L.randomOneNumber(255,100,!0),1),e.filters=[n],t&&Laya.timer.once(t,this,()=>{for(let a=0;a<e.filters.length;a++)if(e.filters[a]==n){e.filters=[];break}}),n},e._changeOnce=function(e,a,t,n){if(!e)return;let r=new Laya.ColorFilter;r.color(0,0,0,0);let o=a[0]/t,l=a[1]/t,i=a[2]/t,s=0;a[3]&&(s=a[3]/t);let c={add:!0},d=0,h=0,m=0,y=0;u._frameLoop(1,c,()=>{d<a[0]&&c.add?(h+=l,m+=i,0!==s&&(y+=s),(d+=o)>=a[0]&&(c.add=!1)):(h-=l,m-=i,0!==s&&(y-=s),(d-=o)<=0&&(n&&n(),Laya.timer.clearAll(c))),r.color(d,h,m,y),e.filters=[r]})},e._changeConstant=function(e,a,t,n){let r,o=[];e.filters?(r=e.filters[0],o=[e.filters[0]._alpha[0],e.filters[0]._alpha[1],e.filters[0]._alpha[2],e.filters[0]._alpha[3]?e.filters[0]._alpha[3]:1]):((r=new Laya.ColorFilter).color(a[0],a[1],a[2],a[3]?a[3]:1),o=[a[0],a[1],a[2],a[3]?a[3]:1],e.filters=[r]);let l=[L.randomCountNumer(a[0],t[0])[0],L.randomCountNumer(a[1],t[1])[0],L.randomCountNumer(a[2],t[2])[0],L.randomCountNumer(a[3]?a[3]:1,t[3]?t[3]:1)[0]],i=(l[0]-o[0])/n,s=(l[1]-o[1])/n,c=(l[2]-o[2])/n,d=0;l[3]&&(d=(l[3]-o[3])/n),e.changeCaller&&Laya.timer.clearAll(e.changeCaller);let h={};e.changeCaller=h;let m=0;u._frameLoop(1,h,()=>{++m<=n?(o[0]+=i,o[1]+=s,o[2]+=c):Laya.timer.clearAll(h),r.color(o[0],o[1],o[2],o[3]),e.filters=[r]})}}(h=e.Color||(e.Color={})),function(e){let a,t,n,r,o;!function(e){e["爱心1"]="Frame/Effects/aixin1.png",e["爱心2"]="Frame/Effects/aixin2.png",e["爱心3"]="Frame/Effects/aixin3.png",e["花1"]="Frame/Effects/hua1.png",e["花2"]="Frame/Effects/hua2.png",e["花3"]="Frame/Effects/hua3.png",e["花4"]="Frame/Effects/hua4.png",e["星星1"]="Frame/Effects/star1.png",e["星星2"]="Frame/Effects/star2.png",e["星星3"]="Frame/Effects/star3.png",e["星星4"]="Frame/Effects/star4.png",e["星星5"]="Frame/Effects/star5.png",e["星星6"]="Frame/Effects/star6.png",e["星星7"]="Frame/Effects/star7.png",e["雪花1"]="Frame/Effects/xuehua1.png",e["叶子1"]="Frame/Effects/yezi1.png",e["圆形发光1"]="Frame/Effects/yuanfaguang.png",e["圆形1"]="Frame/Effects/yuan1.png",e["光圈1"]="Frame/Effects/guangquan1.png",e["光圈2"]="Frame/Effects/guangquan2.png"}(a=e._SkinUrl||(e._SkinUrl={})),function(e){class t extends Laya.Image{constructor(e,t,n,r,o,l,i,s){if(super(),!e.parent)return;e.addChild(this),t?this.pos(t.x,t.y):this.pos(0,0),this.width=n||100,this.height=r||100,this.pivotX=this.width/2,this.pivotY=this.height/2,this.rotation=o?L.randomOneNumber(o[0],o[1]):L.randomOneNumber(360),this.skin=l?L.arrayRandomGetOne(l):a.花3,this.zOrder=s||0,this.alpha=0;let c=[];c[0]=i?L.randomOneNumber(i[0][0],i[1][0]):L.randomOneNumber(0,255),c[1]=i?L.randomOneNumber(i[0][1],i[1][1]):L.randomOneNumber(0,255),c[2]=i?L.randomOneNumber(i[0][2],i[1][2]):L.randomOneNumber(0,255),c[3]=i?L.randomOneNumber(i[0][3],i[1][3]):L.randomOneNumber(0,255),h._colour(this,c)}}e._ApertureImage=t,e._continuous=function(e,a,n,r,o,l,i,s,c,d,h){let m=new t(e,a,n,r,o,l,i,s),y=d?L.randomOneNumber(d[0],d[1]):.025,g=h?L.randomOneNumber(h[0],h[1]):5e-4,p=c?L.randomOneNumber(c[0],c[1]):2,_={alpha:!0,scale:!1,vanish:!1};m.moveCaller=_;let f=0;u._frameLoop(1,_,()=>{_.alpha?(m.alpha+=.05,f=0,m.alpha>=1&&(_.alpha=!1,_.scale=!0)):_.scale?(f+=g,m.scaleX>p&&(_.scale=!1,_.vanish=!0)):_.vanish&&(f-=g)<0&&(m.alpha-=.015,m.alpha<=0&&(m.removeSelf(),Laya.timer.clearAll(_))),m.scaleX=m.scaleY+=y+f})}}(t=e._Aperture||(e._Aperture={})),function(e){class t extends Laya.Image{constructor(e,t,n,r,o,l,i,s,c){super(),e.addChild(this);let u=n?L.randomOneNumber(n[0]):L.randomOneNumber(200),d=n?L.randomOneNumber(n[1]):L.randomOneNumber(50);u=0==L.randomOneHalf()?u:-u,d=0==L.randomOneHalf()?d:-d,this.x=t?t.x+u:u,this.y=t?t.y+d:d,this.width=r?L.randomOneNumber(r[0],r[1]):L.randomOneNumber(20,50),this.height=o?L.randomOneNumber(o[0],o[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2,this.skin=i?L.arrayRandomGetOne(i):a.圆形1,this.rotation=l?L.randomOneNumber(l[0],l[1]):0,this.alpha=0,this.zOrder=c||0;let m=[];m[0]=s?L.randomOneNumber(s[0][0],s[1][0]):L.randomOneNumber(0,255),m[1]=s?L.randomOneNumber(s[0][1],s[1][1]):L.randomOneNumber(0,255),m[2]=s?L.randomOneNumber(s[0][2],s[1][2]):L.randomOneNumber(0,255),m[3]=s?L.randomOneNumber(s[0][3],s[1][3]):L.randomOneNumber(0,255),h._colour(this,m)}}e._ParticleImgBase=t,e._snow=function(e,a,n,r,o,l,i,s,c,d,h,m,y){let g=new t(e,a,n,r,o,l,i,s,c),p=h?L.randomOneNumber(h[0],h[1]):L.randomOneNumber(0,1);p=0==L.randomOneHalf()?p:-p;let _=m?L.randomOneNumber(m[0],m[1]):L.randomOneNumber(1,2.5),f=y?L.randomOneNumber(y[0],y[1]):0,w={alpha:!0,move:!1,vinish:!1};g.moveCaller=w;let S=0,O=d?L.randomOneNumber(d[0],d[1]):L.randomOneNumber(100,300);return u._frameLoop(1,w,()=>{g.x+=f,g.rotation+=p,g.alpha<1&&w.alpha&&(g.alpha+=.05,S=g.y++,g.alpha>=1&&(w.alpha=!1,w.move=!0)),S<O&&w.move&&(S=g.y+=_)>=O&&(w.move=!1,w.vinish=!0),w.vinish&&(g.alpha-=.03,g.y+=_,(g.alpha<=0||_<=0)&&(g.removeSelf(),Laya.timer.clearAll(w)))}),g},e._fallingVertical=function(e,a,n,r,o,l,i,s,c,d,h,m){let y=new t(e,a,n,r,o,l,i,s,c),g=h?L.randomOneNumber(h[0],h[1]):L.randomOneNumber(4,8),p=m?L.randomOneNumber(m[0],m[1]):L.randomOneNumber(.25,.45),_=0,f={alpha:!0,move:!1,vinish:!1};y.moveCaller=f;let w=0,S=d?L.randomOneNumber(d[0],d[1]):L.randomOneNumber(100,300);return u._frameLoop(1,f,()=>{y.alpha<1&&f.alpha&&(y.alpha+=.05,w=y.y++,y.alpha>=1&&(f.alpha=!1,f.move=!0)),w<S&&f.move&&(_+=p,(w=y.y+=g+_)>=S&&(f.move=!1,f.vinish=!0)),f.vinish&&(_-=p/2,y.alpha-=.03,y.y+=g+_,(y.alpha<=0||g+_<=0)&&(y.removeSelf(),Laya.timer.clearAll(f)))}),y},e._slowlyUp=function(e,a,n,r,o,l,i,s,c,d,h,m){let y=new t(e,a,n,r,o,l,i,s,c),g=h?L.randomOneNumber(h[0],h[1]):L.randomOneNumber(1.5,2),p=m?L.randomOneNumber(m[0],m[1]):L.randomOneNumber(.001,.005),_=0,f={alpha:!0,move:!1,vinish:!1};y.moveCaller=f;let w=y.y,S=0,O=d?L.randomOneNumber(d[0],d[1]):L.randomOneNumber(-250,-600);return u._frameLoop(1,f,()=>{y.alpha<1&&f.alpha&&(y.alpha+=.03,y.alpha>=1&&(f.alpha=!1,f.move=!0)),S>O&&f.move||(f.move=!1,f.vinish=!0),f.vinish&&(y.alpha-=.02,y.scaleX-=.005,y.scaleY-=.005,y.alpha<=0&&(y.removeSelf(),Laya.timer.clearAll(f))),_+=p,y.y-=g+_,S=w-y.y}),y},e._spray=function(e,a,n,r,o,l,i,s,c,d,h,m,y,g){let p=new t(e,a,[0,0],r,o,l,i,s,c),_=a||new Laya.Point(0,0),f=y?L.randomOneNumber(y[0],y[1]):L.randomOneNumber(3,10),w=g?L.randomOneNumber(g[0],g[1]):L.randomOneNumber(.25,.45),S=0,O={alpha:!0,move:!1,vinish:!1};p.moveCaller=O;let b=0,k=h?L.randomOneNumber(h[0],h[1]):L.randomOneNumber(100,200),v=d?L.randomOneNumber(d[0],d[1]):L.randomOneNumber(0,360),C=m?L.randomOneNumber(m[0],m[1]):L.randomOneNumber(0,20);return u._frameLoop(1,O,()=>{if(p.rotation+=C,p.alpha<1&&O.alpha)p.alpha+=.5,p.alpha>=1&&(O.alpha=!1,O.move=!0);else{b<k&&O.move||(O.move=!1,O.vinish=!0),O.vinish&&(p.alpha-=.05,p.alpha<=.3&&(p.removeSelf(),Laya.timer.clearAll(O))),b+=f+(S+=w);let e=L.point_GetRoundPos(v,b,_);p.pos(e.x,e.y)}}),p},e._outsideBox=function(e,a,n,r,o,l,i,s,c,d,h,m,y,g){let p=new t(e,a,[0,0],r,o,l,i,s,c),_=0;n=n||[100,100],d=d||60,"x"==(0==L.randomOneHalf()?"x":"y")?(0==L.randomOneHalf()?(p.x+=n[0],_=0==L.randomOneHalf()?L.randomOneNumber(0,90-d):L.randomOneNumber(0,-90+d)):(p.x-=n[0],_=L.randomOneNumber(90+d,270-d)),p.y+=L.randomOneNumber(-n[1],n[1])):(0==L.randomOneHalf()?(p.y-=n[1],_=L.randomOneNumber(180+d,360-d)):(p.y+=n[1],_=L.randomOneNumber(0+d,180-d)),p.x+=L.randomOneNumber(-n[0],n[0]));let f=L.d2_angle_Vector(_),w=h?L.randomOneNumber(h[0],h[1]):L.randomOneNumber(20,50),S=y?L.randomOneNumber(y[0],y[1]):L.randomOneNumber(.5,1),O=g?L.randomOneNumber(g[0],g[1]):L.randomOneNumber(.25,.45),b=0,k=m?L.randomOneNumber(m[0],m[1]):L.randomOneNumber(0,20),v=new Laya.Point(p.x,p.y),C={alpha:!0,move:!1,vinish:!1};return p.moveCaller=C,u._frameLoop(1,C,()=>{p.rotation+=k,C.alpha?(p.alpha+=.5,p.alpha>=1&&(C.alpha=!1,C.move=!0)):C.move?v.distance(p.x,p.y)>=w&&(C.move=!1,C.vinish=!0):C.vinish&&(p.alpha-=.05,p.alpha<=.3&&(p.removeSelf(),Laya.timer.clearAll(C))),C.alpha||(b+=O,p.x+=f.x*(S+b),p.y+=f.y*(S+b))}),p},e._moveToTargetToMove=function(e,a,n,r,o,l,i,s,c,d,h,m,y,g){let p=new t(e,a,[0,0],n,r,o,i,s,c),_=a||new Laya.Point(0,0),f=y?L.randomOneNumber(y[0],y[1]):L.randomOneNumber(5,6),w=g?L.randomOneNumber(g[0],g[1]):L.randomOneNumber(.25,.45),S=0,O={alpha:!0,move1:!1,stop:!1,move2:!1,vinish:!1};p.moveCaller=O;let b=0,k=d?L.randomOneNumber(d[0],d[1]):L.randomOneNumber(100,200),v=h?L.randomOneNumber(h[0],h[1]):L.randomOneNumber(100,200),C=l?L.randomOneNumber(l[0],l[1]):L.randomOneNumber(0,360);return p.rotation=C-90,m?L.randomOneNumber(m[0],m[1]):L.randomOneNumber(0,20),u._frameLoop(1,O,()=>{O.alpha?(b+=f+(S+=w),p.alpha+=.5,p.alpha>=1&&(O.alpha=!1,O.move1=!0)):O.move1?(b+=f+(S+=w))>=k&&(O.move1=!1,O.stop=!0):O.stop?(b+=.1,(S-=.3)<=0&&(O.stop=!1,O.move2=!0)):O.move2?(b+=f+(S+=w/2))>=k+v&&(O.move2=!1,O.vinish=!0):O.vinish&&(b+=.5,p.alpha-=.05,p.alpha<=0&&(p.removeSelf(),Laya.timer.clearAll(O)));let e=L.point_GetRoundPos(C,b,_);p.pos(e.x,e.y)}),p},e._AnnularInhalation=function(e,t,n,r,o,l,i,s,c,d){let h=new Laya.Image;e.addChild(h),o=o||[25,50],h.width=L.randomCountNumer(o[0],o[1])[0],h.height=l?L.randomCountNumer(l[0],l[1])[0]:h.width,h.pivotX=h.width/2,h.pivotY=h.height/2,h.skin=i?L.arrayRandomGetOut(i)[0]:a[L.randomCountNumer(0,12)[0]];let m=L.randomCountNumer(n[0],n[1])[0];h.alpha=0;let y=s?L.randomCountNumer(s[0],s[1])[0]:L.randomCountNumer(5,10)[0],g=r?L.randomCountNumer(r[0],r[1])[0]:L.randomCountNumer(0,360)[0],p={},_=0;return c=c||.35,u._frameLoop(1,p,()=>{h.alpha<1?(h.alpha+=.05,m-=y/2+(_+=c/5)):m-=y+(_+=c);let e=L.point_GetRoundPos(g,m,t);h.pos(e.x,e.y),(e.distance(t.x,t.y)<=20||e.distance(t.x,t.y)>=1e3)&&(h.removeSelf(),Laya.timer.clearAll(p))}),h}}(n=e._Particle||(e._Particle={})),function(e){class t extends Laya.Image{constructor(e,t,n,r,o,l,i){if(super(),!e.parent)return;e.addChild(this),this.skin=r?L.arrayRandomGetOne(r):a.星星1,this.width=l?L.randomOneNumber(l[0],l[1]):80,this.height=i?L.randomOneNumber(i[0],i[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2;let s=n?L.point_RandomPointByCenter(t,n[0],n[1],1):L.point_RandomPointByCenter(t,100,100,1);this.pos(s[0].x,s[0].y);let c=[];c[0]=o?L.randomOneNumber(o[0][0],o[1][0]):L.randomOneNumber(0,255),c[1]=o?L.randomOneNumber(o[0][1],o[1][1]):L.randomOneNumber(0,255),c[2]=o?L.randomOneNumber(o[0][2],o[1][2]):L.randomOneNumber(0,255),c[3]=o?L.randomOneNumber(o[0][3],o[1][3]):L.randomOneNumber(0,255),h._colour(this,c),this.alpha=0}}e._GlitterImage=t,e._blinkStar=function(e,a,n,r,o,l,i,s,c,u){let d=new t(e,a,n,r,o,l,i);d.scaleX=0,d.scaleY=0;let h=s?L.randomOneNumber(s[0],s[1]):L.randomOneNumber(.8,1.2),m=c?L.randomOneNumber(c[0],c[1]):L.randomOneNumber(.01,.02),y=u?L.randomOneInt(u[0],u[1]):L.randomOneInt(0,5);y=0==L.randomOneHalf()?-y:y;let g={appear:!0,scale:!1,vanish:!1};return d.moveCaller=g,Laya.timer.frameLoop(1,g,()=>{g.appear?(d.alpha+=.1,d.rotation+=y,d.scaleX=d.scaleY+=m,d.alpha>=1&&(g.appear=!1,g.scale=!0)):g.scale?(d.rotation+=y,d.scaleX=d.scaleY+=m,d.scaleX>h&&(g.scale=!1,g.vanish=!0)):g.vanish&&(d.rotation-=y,d.alpha-=.015,d.scaleX-=.01,d.scaleY-=.01,d.scaleX<=0&&(d.removeSelf(),Laya.timer.clearAll(g)))}),d},e._simpleInfinite=function(e,t,n,r,o,l,i,s){let c=new Laya.Image;e.addChild(c),c.width=r,c.height=o,c.pos(t,n),c.skin=i||a.光圈1,c.alpha=0,c.zOrder=l||0;let u=!0,d={};return Laya.timer.frameLoop(1,d,()=>{u?(c.alpha+=s?2*s:.02,c.alpha>=1&&(u=!1,d.end=!0)):(c.alpha-=s||.01,c.alpha<=0&&(d.end?(Laya.timer.clearAll(d),c.removeSelf()):u=!0))}),c}}(r=e._Glitter||(e._Glitter={})),function(e){class t extends Laya.Image{constructor(e,t,n,r,o,l){super(),e.addChild(this),this.skin=t?L.arrayRandomGetOne(t):a.圆形发光1,this.width=r?L.randomOneNumber(r[0],r[1]):80,this.height=o?L.randomOneNumber(o[0],o[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2;let i=[];i[0]=n?L.randomOneNumber(n[0][0],n[1][0]):L.randomOneNumber(0,255),i[1]=n?L.randomOneNumber(n[0][1],n[1][1]):L.randomOneNumber(0,255),i[2]=n?L.randomOneNumber(n[0][2],n[1][2]):L.randomOneNumber(0,255),i[3]=n?L.randomOneNumber(n[0][3],n[1][3]):L.randomOneNumber(0,255),h._colour(this,i),this.zOrder=l||0,this.alpha=0,this.scaleX=0,this.scaleY=0}}e._circulationImage=t,e._corner=function(e,a,n,r,o,l,i,s,c){if(a.length<=1)return;let d=new t(e,n,r,o,l,i);new t(e,n,r,o,l,i).filters=d.filters,d.pos(a[0][0],a[0][1]),d.alpha=1;let h={num:0,alpha:!0,move:!1};d.moveCaller=h;let m=0;d.scale(1,1),u._frameLoop(1,h,()=>{let a=new t(e,n,r,o,l,i);a.filters=d.filters,a.x=d.x,a.y=d.y,a.rotation=d.rotation,a.alpha=1,a.zOrder=-1,a.scaleX=d.scaleX,a.scaleY=d.scaleY,p.fadeOut(a,1,0,200,0,()=>{a.removeSelf()}),null==d.parent&&Laya.timer.clearAll(h),h.num++,n&&(h.num>n.length?h.num=0:d.skin=n[h.num])});var y=()=>{let e=[a[m][0],a[m][1]],t=new Laya.Point(d.x,d.y).distance(e[0],e[1]);s&&(d.rotation=L.d2_Vector_Angle(d.x-e[0],d.y-e[1])+180);let n=100*c+t/5;m==a.length+1&&(e=[a[0][0],a[0][1]]),p.move_Simple(d,d.x,d.y,e[0],e[1],n,0,()=>{++m==a.length&&(m=0),y()})};return y(),d}}(o=e._circulation||(e._circulation={}))}(m=e.Effects||(e.Effects={})),function(e){let a;e._createButton=function(){new Laya.Sprite,new Laya.Image,new Laya.Label},function(e){e.noEffect="noEffect",e.largen="largen",e.balloon="balloon",e.beetle="beetle"}(a=e._Type||(e._Type={})),e._on=function(e,t,n,r,o,l,i){let s;switch(e){case a.noEffect:s=new T;break;case a.largen:s=new I;break;case a.balloon:s=new B;break;case a.balloon:s=new H;break;default:s=new I}t.on(Laya.Event.MOUSE_DOWN,n,r),t.on(Laya.Event.MOUSE_MOVE,n,o),t.on(Laya.Event.MOUSE_UP,n,l),t.on(Laya.Event.MOUSE_OUT,n,i),t.on(Laya.Event.MOUSE_DOWN,n,s.down),t.on(Laya.Event.MOUSE_MOVE,n,s.move),t.on(Laya.Event.MOUSE_UP,n,s.up),t.on(Laya.Event.MOUSE_OUT,n,s.out)},e._off=function(e,t,n,r,o,l,i){let s;switch(e){case a.noEffect:s=new T;break;case a.largen:s=new I;break;case a.balloon:s=new B;break;case a.balloon:s=new H;break;default:s=new I}t._off(Laya.Event.MOUSE_DOWN,n,r),t._off(Laya.Event.MOUSE_MOVE,n,o),t._off(Laya.Event.MOUSE_UP,n,l),t._off(Laya.Event.MOUSE_OUT,n,i),t._off(Laya.Event.MOUSE_DOWN,n,s.down),t._off(Laya.Event.MOUSE_MOVE,n,s.move),t._off(Laya.Event.MOUSE_UP,n,s.up),t._off(Laya.Event.MOUSE_OUT,n,s.out)}}(y=e.Click||(e.Click={}));class T{constructor(){}down(e){}move(e){}up(e){}out(e){}}e.Btn_NoEffect=T;class I{constructor(){}down(e){e.currentTarget.scale(1.1,1.1),f.playSound(y._audioUrl)}move(e){}up(e){e.currentTarget.scale(1,1)}out(e){e.currentTarget.scale(1,1)}}e.Btn_LargenEffect=I;class B{constructor(){}down(e){e.currentTarget.scale(y._balloonScale+.06,y._balloonScale+.06),f.playSound(y._audioUrl)}up(e){e.currentTarget.scale(y._balloonScale,y._balloonScale)}move(e){e.currentTarget.scale(y._balloonScale,y._balloonScale)}out(e){e.currentTarget.scale(y._balloonScale,y._balloonScale)}}e.Btn_Balloon=B;class H{constructor(){}down(e){e.currentTarget.scale(y._beetleScale+.06,y._beetleScale+.06),f.playSound(y._audioUrl)}up(e){e.currentTarget.scale(y._beetleScale,y._beetleScale)}move(e){e.currentTarget.scale(y._beetleScale,y._beetleScale)}out(e){e.currentTarget.scale(y._beetleScale,y._beetleScale)}}e.Btn_Beetle=H,function(e){function moveTo(a,t,n,r,o,l,i=0,s=!0,c,u){let d=a.transform.position.clone();if(0==n||null==n)return a.transform.position=t.clone(),void(l&&l.apply(r));(u<=0||null==u)&&(u=e.frameRate);let h=function(){a.transform&&(a.transform.position=d),c&&c()};Laya.timer.once(i,a,function(){Laya.timer.frameLoop(u,a,h)});let m=Laya.Tween.to(d,{x:t.x,y:t.y,z:t.z},n,o,Laya.Handler.create(a,function(){a.transform&&(a.transform.position=t.clone(),Laya.timer.clear(a,h)),l&&l.apply(r)}),i,s);e.tweenMap[a.id]||(e.tweenMap[a.id]=[]),e.tweenMap[a.id].push(m)}function rotateTo(a,t,n,r,o,l,i,s,c,u){let d=a.transform.localRotationEuler.clone();if(0==n||null==n)return a.transform.localRotationEuler=t.clone(),void(l&&l.apply(r));(u<=0||null==u)&&(u=e.frameRate);let h=function(){a.transform&&(a.transform.localRotationEuler=d),c&&c()};Laya.timer.once(i,a,function(){Laya.timer.frameLoop(u,a,h)});let m=Laya.Tween.to(d,{x:t.x,y:t.y,z:t.z},n,o,Laya.Handler.create(a,function(){a.transform&&(a.transform.localRotationEuler=t.clone(),Laya.timer.clear(a,h)),l&&l.apply(r)}),i,s);e.tweenMap[a.id]||(e.tweenMap[a.id]=[]),e.tweenMap[a.id].push(m)}e.tweenMap={},e.frameRate=1,e.moveTo=moveTo,e.rotateTo=rotateTo,e.scaleTo=function(a,t,n,r,o,l,i,s,c,u){let d=a.transform.localScale.clone();if(0==n||null==n)return a.transform.localScale=t.clone(),void(l&&l.apply(r));(u<=0||null==u)&&(u=e.frameRate);let h=function(){a.transform.localScale=d.clone(),c&&c()};Laya.timer.once(i,this,function(){Laya.timer.frameLoop(u,a,h)});let m=Laya.Tween.to(d,{x:t.x,y:t.y,z:t.z},n,o,Laya.Handler.create(a,function(){a.transform.localScale=t.clone(),Laya.timer.clear(a,h),l&&l.apply(r)}),i,s);e.tweenMap[a.id]||(e.tweenMap[a.id]=[]),e.tweenMap[a.id].push(m)},e.ClearTween=function(a){let t=e.tweenMap[a.id];if(t&&t.length)for(;t.length>0;)t.pop().clear();Laya.timer.clearAll(a)},e.rock=function(e,a,t,n,r,o,l){o||(o=0);let i=new Laya.Vector3(e.transform.localRotationEulerX+a.x,e.transform.localRotationEulerY+a.y,e.transform.localRotationEulerZ+a.z);rotateTo(e,i,t/2,n,l,()=>{let o=new Laya.Vector3(e.transform.localRotationEulerX-2*a.x,e.transform.localRotationEulerY-2*a.y,e.transform.localRotationEulerZ-2*a.z);rotateTo(e,o,t,n,l,()=>{let o=new Laya.Vector3(e.transform.localRotationEulerX+a.x,e.transform.localRotationEulerY+a.y,e.transform.localRotationEulerZ+a.z);rotateTo(e,o,t/2,n,l,()=>{r&&r()})})},o)},e.moveRotateTo=function(e,a,t,n,r,o,l,i,s,c){moveTo(e,a.transform.position,t,n,r,null,l,i,s,c),rotateTo(e,a.transform.localRotationEuler,t,n,r,o,l,i,null,c)}}(g=e.Animation3D||(e.Animation3D={})),function(e){function bombs_Appear(e,a,t,n,r,o,l,i,s){e.scale(0,0),e.alpha=a,Laya.Tween.to(e,{scaleX:n,scaleY:n,alpha:1,rotation:r},o,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t,scaleY:t,rotation:0},l,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t+.2*(n-t),scaleY:t+.2*(n-t),rotation:0},l,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:t,scaleY:t,rotation:0},l,null,Laya.Handler.create(this,function(){s&&s()}),0)}),0)}),0)}),i||0)}function bombs_Vanish(e,a,t,n,r,o,l){Laya.Tween.to(e,{scaleX:a,scaleY:a,alpha:t,rotation:n},r,Laya.Ease.cubicOut,Laya.Handler.create(this,function(){l&&l()}),o||0)}e.leftRight_Shake=function(e,a,t,n,r,o){n||(n=0),o||(d._clickLock.switch=!0),Laya.Tween.to(e,{x:e.x-a},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x+2*a},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x-a},t,null,Laya.Handler.create(this,function(){r&&r(),o||(d._clickLock.switch=!1)}))}))}),n)},e.simple_Rotate=function(e,a,t,n,r,o){e.rotation=a,r||(r=0),Laya.Tween.to(e,{rotation:t},n,null,Laya.Handler.create(this,function(){o&&o()}),r)},e.upDown_Overturn=function(e,a,t){Laya.Tween.to(e,{scaleY:0},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:0},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},a,null,Laya.Handler.create(this,function(){null===t&&void 0===t||t()}),0)}),0)}),0)}),0)},e.leftRight_Overturn=function(e,a,t){Laya.Tween.to(e,{scaleX:0},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:0},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},a,null,Laya.Handler.create(this,function(){}),0),null!==t&&t()}),0)}),0)}),0)},e.upDwon_Shake=function(e,a,t,n,r){Laya.Tween.to(e,{y:e.y+a},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y-2*a},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y+a},t,null,Laya.Handler.create(this,function(){null!==r&&r()}))}))}),n)},e.fadeOut=function(e,a,t,n,r,o,l){e.alpha=a,l&&(d._clickLock.switch=!0),Laya.Tween.to(e,{alpha:t},n,null,Laya.Handler.create(this,function(){o&&o(),l&&(d._clickLock.switch=!1)}),r||0)},e.fadeOut_KickBack=function(e,a,t,n,r,o){e.alpha=a,Laya.Tween.to(e,{alpha:t},n,null,Laya.Handler.create(this,function(){null!==o&&o()}),r)},e.move_FadeOut=function(e,a,t,n,r,o,l,i){e.alpha=0,e.x=a,e.y=t,Laya.Tween.to(e,{alpha:1,x:n,y:r},o,null,Laya.Handler.create(this,function(){null!==i&&i()}),l)},e.move_Fade_Out=function(e,a,t,n,r,o,l,i){e.alpha=1,e.x=a,e.y=t,Laya.Tween.to(e,{alpha:0,x:n,y:r},o,null,Laya.Handler.create(this,function(){null!==i&&i()}),l)},e.move_FadeOut_Scale_01=function(e,a,t,n,r,o,l,i){e.alpha=0,e.targetX=0,e.targetY=0,e.x=a,e.y=t,Laya.Tween.to(e,{alpha:1,x:n,y:r,scaleX:1,scaleY:1},o,null,Laya.Handler.create(this,function(){null!==i&&i()}),l)},e.move_Scale=function(e,a,t,n,r,o,l,i,s,c,u){e.scaleX=a,e.scaleY=a,e.x=t,e.y=n,Laya.Tween.to(e,{x:r,y:o,scaleX:l,scaleY:l},i,c?null:c,Laya.Handler.create(this,function(){u&&u()}),s||0)},e.rotate_Scale=function(e,a,t,n,r,o,l,i,s,c){e.scaleX=t,e.scaleY=n,e.rotation=a,Laya.Tween.to(e,{rotation:r,scaleX:o,scaleY:l},i,null,Laya.Handler.create(this,()=>{c&&c(),e.rotation=0}),s||0)},e.drop_Simple=function(e,a,t,n,r,o,l){e.y=a,Laya.Tween.to(e,{y:t,rotation:n},r,Laya.Ease.circOut,Laya.Handler.create(this,function(){null!==l&&l()}),o)},e.drop_KickBack=function(e,a,t,n,r,o,l,i){e.alpha=a,e.y=t,l||(l=0),Laya.Tween.to(e,{alpha:1,y:n+r},o,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:n-r/2},o/2,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:n},o/4,null,Laya.Handler.create(this,function(){i&&i()}),0)}),0)}),l)},e.drop_Excursion=function(e,a,t,n,r,o,l){Laya.Tween.to(e,{x:e.x+t,y:e.y+1*a/6},r,Laya.Ease.expoIn,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:e.x+t+50,y:a,rotation:n},r,null,Laya.Handler.create(this,function(){null!==l&&l()}),0)}),o)},e.goUp_Simple=function(e,a,t,n,r,o,l){e.y=a,e.rotation=t,Laya.Tween.to(e,{y:n,rotation:0},r,Laya.Ease.cubicOut,Laya.Handler.create(this,function(){null!==l&&l()}),o)},e.cardRotateX_TowFace=function(e,a,t,n,r){Laya.Tween.to(e,{scaleX:0},a,null,Laya.Handler.create(this,function(){L.Node.childrenVisible2D(e,!1),t&&t(),Laya.Tween.to(e,{scaleX:1},.9*a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:0},.8*a,null,Laya.Handler.create(this,function(){L.Node.childrenVisible2D(e,!0),Laya.Tween.to(e,{scaleX:1},.7*a,null,Laya.Handler.create(this,function(){r&&r()}),0)}),0)}),0)}),n)},e.cardRotateX_OneFace=function(e,a,t,n,r){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,function(){null!==a&&a(),Laya.Tween.to(e,{scaleX:1},t,null,Laya.Handler.create(this,function(){null!==r&&r()}),0)}),n)},e.cardRotateY_TowFace=function(e,a,t,n,r){Laya.Tween.to(e,{scaleY:0},a,null,Laya.Handler.create(this,function(){L.Node.childrenVisible2D(e,!1),t&&t(),Laya.Tween.to(e,{scaleY:1},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:0},a,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleY:1},1*a/2,null,Laya.Handler.create(this,function(){L.Node.childrenVisible2D(e,!0),r&&r()}),0)}),0)}),0)}),n)},e.cardRotateY_OneFace=function(e,a,t,n,r){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,function(){a&&a(),Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,function(){r&&r()}),0)}),n||0)},e.move_changeRotate=function(e,a,t,n,r,o,l){let i=a*n+e.x*(1-n),s=t*n+e.y*(1-n);Laya.Tween.to(e,{x:i,y:s,rotation:45},o,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{x:a,y:t,rotation:0},o,null,Laya.Handler.create(this,function(){null!==l&&l()}),0)}),0)},e.bomb_LeftRight=function(e,a,t,n,r){Laya.Tween.to(e,{scaleX:a},t,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:.85},.5*t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:.9*a},.55*t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:.95},.6*t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1},.65*t,null,Laya.Handler.create(this,function(){n&&n()}),0)}),0)}),0)}),0)}),r)},e.bombs_Appear=bombs_Appear,e.bombs_AppearAllChild=function(e,a,t,n,r,o,l,i,s,c){let u=0;i||(i=100);for(let c=0;c<e.numChildren;c++){let d=e.getChildAt(c);d.alpha=0,Laya.timer.once(u,this,()=>{d.alpha=1,e.numChildren,bombs_Appear(d,a,t,n,r,o,l,null,s)}),u+=i}},e.bombs_VanishAllChild=function(e,a,t,n,r,o,l){let i=0;o||(o=100);for(let s=0;s<e.numChildren;s++)e.getChildAt(s),Laya.timer.once(i,this,()=>{e.numChildren,bombs_Vanish(e,a,t,n,r,0,l)}),i+=o},e.bombs_Vanish=bombs_Vanish,e.swell_shrink=function(e,a,t,n,r,o){r||(r=0),Laya.Tween.to(e,{scaleX:t,scaleY:t,alpha:1},n,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a,scaleY:a,rotation:0},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a+.5*(t-a),scaleY:a+.5*(t-a),rotation:0},.5*n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:a,scaleY:a,rotation:0},n,null,Laya.Handler.create(this,function(){o&&o()}),0)}),0)}),0)}),r)},e.move_Simple=function(e,a,t,n,r,o,l,i,s){e.x=a,e.y=t,Laya.Tween.to(e,{x:n,y:r},o,s||null,Laya.Handler.create(this,function(){i&&i()}),l||0)},e.move_Deform_X=function(e,a,t,n,r,o,l,i,s){e.alpha=0,e.x=a,e.rotation=t,Laya.Tween.to(e,{x:n,scaleX:1+r,scaleY:1+o,rotation:t/3,alpha:1},l,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1,rotation:0},l,null,Laya.Handler.create(this,function(){null!==s&&s()}),0)}),i)},e.move_Deform_Y=function(e,a,t,n,r,o,l,i,s){e.alpha=0,a&&(e.y=a),e.rotation=t,Laya.Tween.to(e,{y:n,scaleX:1+r,scaleY:1+o,rotation:t/3,alpha:1},l,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1,rotation:0},l,null,Laya.Handler.create(this,function(){null!==s&&s()}),0)}),i)},e.blink_FadeOut_v=function(e,a,t,n,r,o){e.alpha=a,Laya.Tween.to(e,{alpha:t},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){null!==o&&o()}),0)}),r)},e.blink_FadeOut=function(e,a,t,n,r,o){e.alpha=a,r||(r=0),Laya.Tween.to(e,{alpha:a},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:t},n,null,Laya.Handler.create(this,function(){o&&o()}),0)}),r)},e.shookHead_Simple=function(e,a,t,n,r){let o=e.rotation;Laya.Tween.to(e,{rotation:o+a},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:o-2*a},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:o+a},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:o},t,null,Laya.Handler.create(this,function(){r&&r()}),0)}),0)}),0)}),n||0)},e.HintAni_01=function(e,a,t,n,r,o,l){e.alpha=0,Laya.Tween.to(e,{alpha:1,y:e.y-a},t,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{y:e.y-15},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{alpha:0,y:e.y+a+r},o,null,Laya.Handler.create(this,function(){null!==l&&l()}),0)}),0)}),0)},e.scale_Alpha=function(e,a,t,n,r,o,l,i,s,c,u){s||(s=0),s||(u=null),e.alpha=a,e.scaleX=t,e.scaleY=n,Laya.Tween.to(e,{scaleX:r,scaleY:o,alpha:l},i,u,Laya.Handler.create(this,function(){c&&c()}),s)},e.rotate_Magnify_KickBack=function(e,a,t,n,r,o,l,i){e.alpha=0,e.scaleX=0,e.scaleY=0,Laya.Tween.to(e,{alpha:1,rotation:360+a,scaleX:1+t,scaleY:1+t},n,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360-a/2,scaleX:1+t/2,scaleY:1+t/2},r,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360+a/3,scaleX:1+t/5,scaleY:1+t/5},r,null,Laya.Handler.create(this,function(){Laya.Tween.to(e,{rotation:360,scaleX:1,scaleY:1},r,null,Laya.Handler.create(this,function(){e.rotation=0,null!==i&&i()}),0)}),l)}),0)}),o)}}(p=e.Animation2D||(e.Animation2D={})),function(e){e._sound={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting_sound")},set switch(e){let a;a=e?1:0,Laya.LocalStorage.setItem("Setting_sound",a.toString())}},e._bgMusic={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting_bgMusic")},set switch(e){let a;e?(a=1,Laya.LocalStorage.setItem("Setting_bgMusic",a.toString()),f.playMusic()):(a=0,Laya.LocalStorage.setItem("Setting_bgMusic",a.toString()),f.stopMusic())}},e._shake={get switch(){return"0"!=Laya.LocalStorage.getItem("Setting_shake")},set switch(e){let a;a=e?1:0,Laya.LocalStorage.setItem("Setting_shake",a.toString())}},e.createSetBtn=function(a,t,n,r,o,l,i){let s=new Laya.Image;return s.width=n||100,s.height=n||100,s.skin=o||"Frame/UI/icon_set.png",l?l.addChild(s):Laya.stage.addChild(s),s.pivotX=s.width/2,s.pivotY=s.height/2,s.x=a,s.y=t,s.zOrder=i||100,y._on(y._Type.largen,s,null,null,function(e){e.stopPropagation(),d._openScene(d._SceneName.Set)},null),e.BtnSetNode=s,e.BtnSetNode.name="BtnSetNode",s},e.setBtnAppear=function(a,t,n){e.BtnSetNode&&(a?p.scale_Alpha(e.BtnSetNode,0,1,1,1,1,1,a,0,a=>{e.BtnSetNode.visible=!0}):e.BtnSetNode.visible=!0,t&&(e.BtnSetNode.x=t),n&&(e.BtnSetNode.y=n))},e.setBtnVinish=function(a){e.BtnSetNode&&(a?p.scale_Alpha(e.BtnSetNode,1,1,1,1,1,0,a,0,a=>{e.BtnSetNode.visible=!1}):e.BtnSetNode.visible=!1)}}(_=e.Setting||(e.Setting={})),function(e){let a;!function(e){e.btn="Frame/Voice/btn.wav",e.bgm="Frame/Voice/bgm.mp3",e.victory="Frame/Voice/guoguan.wav",e.defeated="Frame/Voice/wancheng.wav",e.huodejinbi="Frame/Voice/huodejinbi.wav"}(a=e.voiceUrl||(e.voiceUrl={})),e.playSound=function(e,t,n){e||(e=a.btn),t||(t=1),_._sound.switch&&Laya.SoundManager.playSound(e,t,Laya.Handler.create(this,function(){n&&n()}))},e.playDefeatedSound=function(e,t,n){e||(e=a.defeated),t||(t=1),_._sound.switch&&Laya.SoundManager.playSound(e,t,Laya.Handler.create(this,function(){n&&n()}))},e.playVictorySound=function(e,t,n){e||(e=a.victory),t||(t=1),_._sound.switch&&Laya.SoundManager.playSound(e,t,Laya.Handler.create(this,function(){n&&n()}))},e.playMusic=function(e,t,n){e||(e=a.bgm),t||(t=0),n||(n=0),_._bgMusic.switch&&Laya.SoundManager.playMusic(e,t,Laya.Handler.create(this,function(){}),n)},e.stopMusic=function(){Laya.SoundManager.stopMusic()}}(f=e.PalyAudio||(e.PalyAudio={})),function(e){let a,t;function d3_twoSubV3(e,a,t){let n=new Laya.Vector3;if(Laya.Vector3.subtract(e,a,n),t){let e=new Laya.Vector3;return Laya.Vector3.normalize(n,e),e}return n}function obj_Copy(e){var a={};for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];if("object"==typeof n)if(Array.isArray(n)){let e=array_Copy(n);a[t]=e}else obj_Copy(n);else a[t]=n}return a}function array_Copy(e){for(var a=[],t=0;t<e.length;t++)a.push(e[t]);return a}e.color_RGBtoHexString=function(e,a,t){return"#"+("00000"+(e<<16|a<<8|t).toString(16)).slice(-6)},e.format_FormatNumber=function(e,a=0){let t;return t=e>=1e27?(e/1e27).toFixed(a)+"ae":e>=1e24?(e/1e24).toFixed(a)+"ad":e>=1e21?(e/1e21).toFixed(a)+"ac":e>=1e18?(e/1e18).toFixed(a)+"ab":e>=1e15?(e/1e15).toFixed(a)+"aa":e>=1e12?(e/1e12).toFixed(a)+"t":e>=1e9?(e/1e9).toFixed(a)+"b":e>=1e6?(e/1e6).toFixed(a)+"m":e>=1e3?(e/1e3).toFixed(a)+"k":Math.round(e).toString()},e.format_StrAddNum=function(e,a){return(Number(e)+a).toString()},e.format_NumAddStr=function(e,a){return Number(a)+e},function(a){a.zOrderByY=function(a,t,n){let r=[];if(0==a.numChildren)return r;for(let e=0;e<a.numChildren;e++){const t=a.getChildAt(e);r.push(t)}if(e.objArrPropertySort(r,"y"),t)for(let e=0;e<r.length;e++)r[e].zOrder=e;if(n){let e=[];for(let a=r.length-1;a>=0;a--){const t=r[a];console.log(t),t.zOrder=r.length-a,e.push(t)}return e}return r},a.changePovit=function(e,a,t){let n=e.pivotX,r=e.pivotY;e.width&&(e.pivot(a,t),e.x+=e.pivotX-n,e.y+=e.pivotY-r)},a.getChildArrByProperty=function(e,a,t){let n=[];for(let r=0;r<e.numChildren;r++){const o=e.getChildAt(r);o[a]==t&&n.push(o)}return n},a.randomChildren=function(a,t){let n=[],r=[];for(let e=0;e<a.numChildren;e++)r.push(e);let o=e.arrayRandomGetOut(r,t);for(let e=0;e<o.length;e++)n.push(a.getChildAt(o[e]));return n},a.removeAllChildren=function(e){e.numChildren>0&&e.removeChildren(0,e.numChildren-1)},a.removeOneChildren=function(e,a){for(let t=0;t<e.numChildren;t++){const n=e.getChildAt(t);n.name==a&&n.removeSelf()}},a.checkChildren=function(e,a){let t=!1;for(let n=0;n<e.numChildren;n++)e.getChildAt(n).name==a&&(t=!0);return t},a.showExcludedChild2D=function(e,a,t){for(let n=0;n<e.numChildren;n++){let r=e.getChildAt(n);for(let e=0;e<a.length;e++)r.name==a[e]?r.visible=!(!t&&null!=t):r.visible=!t&&null!=t}},a.showExcludedChild3D=function(e,a,t){for(let n=0;n<e.numChildren;n++){let r=e.getChildAt(n);for(let e=0;e<a.length;e++)r.name==a[e]?r.active=!(!t&&null!=t):r.active=!t&&null!=t}},a.prefabCreate=function(e,a){return Laya.Pool.getItemByCreateFun(a||e.json.props.name,e.create,e)},a.childrenVisible2D=function(e,a){for(let t=0;t<e.numChildren;t++){const n=e.getChildAt(t);n.visible=!!a}},a.childrenVisible3D=function(e,a){for(let t=0;t<e.numChildren;t++){const n=e.getChildAt(t);n.active=!!a}},a.findChild3D=function findChild3D(e,a){var t;if(null!=(t=e.getChildByName(a)))return t;for(var n=null,r=0;r<e.numChildren;r++)if(null!=(n=findChild3D(e.getChildAt(r),a)))return n;return null},a.findChild2D=function findChild2D(e,a){var t;if(null!=(t=e.getChildByName(a)))return t;for(var n=null,r=0;r<e.numChildren;r++)if(null!=(n=findChild2D(e.getChildAt(r),a)))return n;return null},a.findChildByName2D=function(e,a){return[]}}(a=e.Node||(e.Node={})),e.randomOneHalf=function(){let e;return e=Math.floor(2*Math.random())},e.randomOneInt=function(e,a){return a?Math.floor(Math.random()*(a-e))+e:Math.floor(Math.random()*e)},e.randomCountNumer=function(a,t,n,r){let o=[];if(n||(n=1),t){for(;n>o.length;){let n;n=r||null==r?Math.floor(Math.random()*(t-a))+a:Math.random()*(t-a)+a,o.push(n),e.arrayUnique_01(o)}return o}for(;n>o.length;){let t;t=r||null==r?Math.floor(Math.random()*a):Math.random()*a,o.push(t),e.arrayUnique_01(o)}return o},e.randomOneNumber=function(e,a,t){let n;if(e>a&&(n=e,e=a,a=n),a){let n;return n=t?Math.floor(Math.random()*(a-e))+e:Math.random()*(a-e)+e}{let a;return a=t?Math.floor(Math.random()*e):Math.random()*e}},e.d2_twoObjectsLen=function(e,a){return new Laya.Point(e.x,e.y).distance(a.x,a.y)},e.d2_Vector_Angle=function(e,a){let t=90-Math.atan2(e,a)*(180/Math.PI);return t<=0&&(t=270+(90+t)),t-90},e.d2_angle_Vector=function(e){let a=(90-e)/(180/Math.PI),t=new Laya.Point(Math.sin(a),Math.cos(a));return t.normalize(),t},e.d3_twoObjectsLen=function(e,a){let t=e.transform.position,n=a.transform.position,r=new Laya.Vector3;return Laya.Vector3.subtract(t,n,r),Laya.Vector3.scalarLength(r)},e.d3_twoPositionLen=function(e,a){let t=d3_twoSubV3(e,a);return Laya.Vector3.scalarLength(t)},e.d3_twoSubV3=d3_twoSubV3,e.d3_maximumDistanceLimi=function(e,a,t){let n=new Laya.Vector3,r=a.transform.position;if(Laya.Vector3.subtract(r,e,n),Laya.Vector3.scalarLength(n)>=t){let r=new Laya.Vector3;Laya.Vector3.normalize(n,r);let o=e.x+r.x*t,l=e.y+r.y*t,i=e.z+r.z*t,s=new Laya.Vector3(o,l,i);return a.transform.position=s,s}},e.d3_rayScanning=function(e,a,t,n){let r=new Laya.Ray(new Laya.Vector3(0,0,0),new Laya.Vector3(0,0,0)),o=new Array;if(e.viewportPointToRay(t,r),a.physicsSimulation.rayCastAll(r,o),0!=o.length&&n){let e=null;for(var l=0;l<o.length;l++)o[l].collider.owner.name===n&&(e=o[l]);return e}return o},e.d3_TransitionScreenPointfor=function(e,a){let t=new Laya.Vector4;a.viewport.project(e,a.projectionViewMatrix,t);let n=new Laya.Vector2;return n.x=t.x,n.y=t.y,n},e.d3_animatorPlay=function(e,a,t,n){let r=e.getComponent(Laya.Animator);if(r)return n||(n=0),r.play(a,n,t),r;console.log(e.name,"没有动画组件")},e.dAll_reverseVector=function(e,a,t,n){let r;if("2d"===e)return r=new Laya.Point(a.x-t.x,a.y-t.y),n&&r.normalize(),r;if("3d"===e){if(r=new Laya.Vector3(a.x-t.x,a.y-t.y,a.z-t.z),n){let e=new Laya.Vector3;return Laya.Vector3.normalize(r,e),e}return r}},e.sk_indexControl=function(e,a){e.play(a,!0),e.player.currentTime=15e3/e.player.cacheFrameRate},function(e){e.drawPieMask=function(e,a,t){e.cacheAs="bitmap";let n=new Laya.Sprite;return n.blendMode="destination-out",e.addChild(n),n.graphics.drawPie(e.width/2,e.height/2,e.width/2+10,a,t,"#000000")},e.reverseRoundMask=function(e,t,n,r,o){null!=o&&1!=o||a.removeAllChildren(e);let l=new Laya.Sprite;return l.name="reverseRoundMask",l.blendMode="destination-out",e.cacheAs="bitmap",e.addChild(l),l.graphics.drawCircle(0,0,r,"#000000"),l.pos(t,n),l},e.reverseRoundrectMask=function(e,t,n,r,o,l,i){null!=i&&1!=i||a.removeAllChildren(e);let s=new Laya.Sprite;s.name="reverseRoundrectMask",s.blendMode="destination-out",e.cacheAs="bitmap",e.addChild(s),s.graphics.drawPath(0,0,[["moveTo",5,0],["lineTo",r-l,0],["arcTo",r,0,r,l,l],["lineTo",r,o-l],["arcTo",r,o,r-l,o,l],["lineTo",o-l,o],["arcTo",0,o,0,o-l,l],["lineTo",0,l],["arcTo",0,0,l,0,l],["closePath"]],{fillStyle:"#000000"}),s.width=r,s.height=o,s.pivotX=r/2,s.pivotY=o/2,s.pos(t,n)}}(t=e.Draw||(e.Draw={})),e.objArrPropertySort=function(e,a){return e.sort(function(e,t){var n=e[a],r=t[a];return isNaN(Number(n))||isNaN(Number(r))||(n=Number(n),r=Number(r)),n<r?-1:n>r?1:0}),e},e.objArr2DifferentPropertyObjArr1=function(e,a,t){for(var n=[],r=0;r<e.length;r++){for(var o=e[r],l=o[t],i=!1,s=0;s<a.length;s++)if(a[s][t]==l){i=!0;break}i||n.push(o)}return n},e.objArr1IdenticalPropertyObjArr2=function(e,a,t){for(var n=[],r=0;r<e.length;r++){for(var o=e[r],l=(o[t],!1),i=0;i<a.length;i++)if(a[i][t]==name){l=!0;break}l&&n.push(o)}return n},e.objArrUnique=function(e,a){for(var t=0,n=e.length;t<n;t++){var r=t+1;for(n=e.length;r<n;r++)e[t][a]===e[r][a]&&(e.splice(r,1),r--,n--)}return e},e.objArrGetValue=function(e,a){let t=[];for(let n=0;n<e.length;n++)e[n][a]&&t.push(e[n][a]);return t},e.objArray_Copy=function(e){var a=e instanceof Array?[]:{};for(var t in e)a[t]="object"==typeof e[t]?obj_Copy(e[t]):e[t];return a},e.obj_Copy=obj_Copy,e.arrayAddToarray=function(e,a){for(let t=0;t<a.length;t++){const n=a[t];e.push(n)}return e},e.arrayRandomGetOut=function(a,t){t||(t=1);let n=e.array_Copy(a),r=[];if(t>n.length)return"数组长度小于取出的数！";for(let e=0;e<t;e++){let e=Math.round(Math.random()*(n.length-1)),a=n[e];n.splice(e,1),r.push(a)}return r},e.arrayRandomGetOne=function(a){let t=e.array_Copy(a);return t[Math.round(Math.random()*(t.length-1))]},e.array_Copy=array_Copy,e.arrayUnique_01=function(e){for(var a=0,t=e.length;a<t;a++){var n=a+1;for(t=e.length;n<t;n++)e[a]===e[n]&&(e.splice(n,1),n--,t--)}return e},e.arrayUnique_02=function(e){for(var a=[(e=e.sort())[0]],t=1,n=e.length;t<n;t++)e[t]!==e[t-1]&&a.push(e[t]);return a},e.arrayUnique_03=function(e){return Array.from(new Set(e))},e.array1ExcludeArray2=function(e,a){let t=array_Copy(e),n=array_Copy(a);for(let e=0;e<t.length;e++)for(let a=0;a<n.length;a++)t[e]==n[a]&&(t.splice(e,1),e--);return t},e.array_ExcludeArrays=function(a,t){let n=[];for(let e=0;e<a.length;e++)for(let t=0;t<a[e].length;t++)n.push(a[e][t]);let r=e.array_Copy(n),o=e.arrayUnique_01(r),l=[];for(let e=0;e<o.length;e++)l.push({name:o[e],num:0});for(let e=0;e<n.length;e++)for(let a=0;a<l.length;a++)n[e]==l[a].name&&l[a].num++;let i=[],s=[];for(let e=0;e<l.length;e++)l[e],l[e].num==a.length?i.push(l[e].name):s.push(l[e].name);return t?s:i},e.point_DotRotatePoint=function(e,a,t,n,r){let o=e+(t-e)*Math.cos(r*Math.PI/180)-(n-a)*Math.sin(r*Math.PI/180),l=a+(t-e)*Math.sin(r*Math.PI/180)+(n-a)*Math.cos(r*Math.PI/180);return new Laya.Point(o,l)},e.point_SpeedXYByAngle=function(e,a){const t={x:0,y:0};return t.x=a*Math.cos(e*Math.PI/180),t.y=a*Math.sin(e*Math.PI/180),new Laya.Point(t.x,t.y)},e.point_GetRoundPos=function(e,a,t){var n=t,r=(a=a,2*Math.PI/360*e),o=n.x+Math.sin(r)*a,l=n.y-Math.cos(r)*a;return new Laya.Point(o,l)},e.point_RandomPointByCenter=function(a,t,n,r){r||(r=1);let o=[];for(let l=0;l<r;l++){let r=e.randomCountNumer(0,t,1,!1),l=e.randomCountNumer(0,n,1,!1),i=0==e.randomOneHalf()?r[0]:-r[0],s=0==e.randomOneHalf()?l[0]:-l[0],c=new Laya.Point(a.x+i,a.y+s);o.push(c)}return o},e.angle_GetRad=function(e){return e/180*Math.PI},e.jsonCompare=function(a,t,n){let r;try{Laya.LocalStorage.getJSON(t)}catch(e){r=Laya.loader.getRes(a).RECORDS;let n={};return n[t]=r,Laya.LocalStorage.setJSON(t,JSON.stringify(n)),r}if(Laya.LocalStorage.getJSON(t)){r=JSON.parse(Laya.LocalStorage.getJSON(t))[t],console.log(t+"从本地缓存中获取到数据,将和文件夹的json文件进行对比");try{let o=Laya.loader.getRes(a).RECORDS;if(o.length>=r.length){let a=e.objArr2DifferentPropertyObjArr1(o,r,n);console.log("两个数据的差值为：",a),e.arrayAddToarray(r,a)}else console.log(t+"数据表填写有误，长度不能小于之前的长度")}catch(e){console.log(t,"数据赋值失败！请检查数据表或者手动赋值！")}}else try{r=Laya.loader.getRes(a).RECORDS}catch(e){console.log(t+"数据赋值失败！请检查数据表或者手动赋值！")}let o={};return o[t]=r,Laya.LocalStorage.setJSON(t,JSON.stringify(o)),r}}(L=e.Tools||(e.Tools={})),function(e){function getProperty(e,a,t){let n=null,r=getClassArr(e);for(let e=0;e<r.length;e++){const o=r[e];if(o.name===a){n=o[t];break}}return null!==n?n:(console.log(a+"找不到属性:"+t,n),null)}function setProperty(a,t,n,r){let o=getClassArr(a);for(let e=0;e<o.length;e++){const a=o[e];if(a.name===t){a[n]=r;break}}let l={};l[a]=o,Laya.LocalStorage.setJSON(a,JSON.stringify(l)),e._ShopList&&e._ShopList.refresh()}function get_Current(a){let t=null;switch(a){case n.Skin:t=e._currentSkin.name;break;case n.Props:t=e._currentProp.name;break;case n.Other:t=e._currentOther.name}return t}function getClassArr(a){let t=[];switch(a){case n.Skin:t=e.allSkin;break;case n.Props:t=e.allProps;break;case n.Other:t=e.allOther}return t}let a,t,n,r;e.goodsClassArr=[],e.classWarehouse=[],e._tryName=[],e.allSkin=[],e._currentSkin={get name(){return Laya.LocalStorage.getItem("Shop_currentSkin")?Laya.LocalStorage.getItem("Shop_currentSkin"):null},set name(e){Laya.LocalStorage.setItem("Shop_currentSkin",e)}},e.allProps=[],e._currentProp={get name(){return Laya.LocalStorage.getItem("Shop_currentProp")?Laya.LocalStorage.getItem("Shop_currentProp"):null},set name(e){Laya.LocalStorage.setItem("Shop_currentProp",e)}},e.allOther=[],e._currentOther={get name(){return Laya.LocalStorage.getItem("Shop_crrentOther")?Laya.LocalStorage.getItem("Shop_crrentOther"):null},set name(e){Laya.LocalStorage.setItem("Shop_crrentOther",e)}},e.useSkinType=[],e.setUseSkinType=function(){let a=[];try{Laya.LocalStorage.getJSON("Shop_useSkinType")&&(a=JSON.parse(Laya.LocalStorage.getJSON("Shop_useSkinType")),e.useSkinType=null!==a?a.Shop_useSkinType:[],e.useSkinType.push(e._currentOther.name,e._currentProp.name,e._currentSkin.name),e.useSkinType=L.arrayUnique_03(e.useSkinType))}catch(e){}let t={Shop_useSkinType:e.useSkinType};return Laya.LocalStorage.setJSON("Shop_useSkinType",JSON.stringify(t)),e.useSkinType.length},e.getProperty=getProperty,e.setProperty=setProperty,e.getHaveArr=function(e){let t=getClassArr(e),n=[];for(let e=0;e<t.length;e++){const r=t[e];r[a.have]&&n.push(r)}return n},e.getwayGoldArr=function(e,n,r){let o=getClassArr(e),l=[];for(let e=0;e<o.length;e++){const r=o[e];n&&void 0!==n?r[a.have]&&r[a.getway]===t.gold&&l.push(r):n||void 0===n?null==n&&r[a.getway]===t.gold&&l.push(r):r[a.have]||r[a.getway]!==t.gold||l.push(r)}if(r&&void 0!==r)for(let t=0;t<l.length;t++)if(l[t][a.name]===get_Current(e)){l.splice(t,1);break}return l},e.getwayIneedwinArr=function(e,n){let r=getClassArr(e),o=[];for(let e=0;e<r.length;e++){const l=r[e];n&&void 0!==n?l[a.have]&&l[a.getway]===t.ineedwin&&o.push(l):n||void 0===n?null==n&&l[a.getway]===t.ineedwin&&o.push(l):l[a.have]||l[a.getway]!==t.ineedwin||o.push(l)}return o},e.get_Current=get_Current,e.getClassArr=getClassArr,e.buyGoods=function(t,n,r){r||(r=1);let o=getProperty(t,n,a.resCondition),l=getProperty(t,n,a.condition),i=getProperty(t,n,a.have);return!0!==i&&null!==i?l<=o+r?(setProperty(t,n,a.resCondition,l),setProperty(t,n,a.have,!0),e._ShopList&&e._ShopList.refresh(),!0):(setProperty(t,n,a.resCondition,o+r),e._ShopList&&e._ShopList.refresh(),!1):-1},e.initShop=function(){e.allSkin=L.jsonCompare("GameData/Shop/Skin.json",n.Skin,a.name),e.allProps=L.jsonCompare("GameData/Shop/Props.json",n.Props,a.name),e.allOther=L.jsonCompare("GameData/Shop/Other.json",n.Other,a.name)},function(e){e.name="name",e.getway="getway",e.condition="condition",e.resCondition="resCondition",e.arrange="arrange",e.getOder="getOder",e.have="have"}(a=e.GoodsProperty||(e.GoodsProperty={})),function(e){e.free="free",e.ads="ads",e.adsXD="adsXD",e.ineedwin="ineedwin",e.gold="gold",e.diamond="diamond",e.easte_registerg="easte_registerg",e.other="other"}(t=e.Getway||(e.Getway={})),function(e){e.Skin="Shop_Skin",e.Props="Shop_Props",e.Other="Shop_Other"}(n=e.GoodsClass||(e.GoodsClass={})),function(e){e.select="select"}(r=e.EventType||(e.EventType={}));e.ShopScene=class extends d._SceneBase{moduleOnAwake(){e._ShopTap=this.Owner.MyTap,e._ShopList=this.Owner.MyList,e.allSkin||(e.allSkin=L.jsonCompare("GameData/Shop/Skin.json",n.Skin,a.name)),e.allProps||(e.allProps=L.jsonCompare("GameData/Shop/Props.json",n.Props,a.name)),e.allOther||(e.allOther=L.jsonCompare("GameData/Shop/Other.json",n.Other,a.name)),e.goodsClassArr=[e.allSkin,e.allProps,e.allOther],e.classWarehouse=[n.Skin,n.Props,n.Skin]}moduleOnEnable(){this.myList_Create(),this.myTap_Create()}myTap_Create(){e._ShopTap.selectHandler=new Laya.Handler(this,this.myTap_Select)}myTap_Select(e){}myList_Create(){e._ShopList.selectEnable=!0,e._ShopList.selectHandler=new Laya.Handler(this,this.myList_Scelet),e._ShopList.renderHandler=new Laya.Handler(this,this.myList_Update),this.myList_refresh()}myList_Scelet(e){}myList_Update(e,a){}myList_refresh(){e._ShopList&&e.goodsClassArr.length>0&&(e._ShopList.array=e.goodsClassArr[0],e._ShopList.refresh())}}}(w=e.Shop||(e.Shop={})),function(e){let a,t;e._BoxArray=[],e._canOpenNum=3,e._alreadyOpenNum=0,e._adsMaxOpenNum=6,e._openVictoryBoxNum=0,e.getProperty=function(a,t){let n=null;for(let r=0;r<e._BoxArray.length;r++){const o=e._BoxArray[r];if(o.name===a){n=o[t];break}}return null!==n?n:(console.log(a+"找不到属性:"+t,n),null)},e.setProperty=function(a,t,n){for(let r=0;r<e._BoxArray.length;r++){const o=e._BoxArray[r];if(o.name===a){o[t]=n;break}}e._BoxList&&e._BoxList.refresh()},function(e){e.name="name",e.rewardType="rewardType",e.rewardNum="rewardNum",e.openState="openState",e.ads="ads",e.select="select"}(a=e.BoxProperty||(e.BoxProperty={})),function(e){e.openBox="openBox"}(t=e.EventType||(e.EventType={}));e.VictoryBoxScene=class extends d._SceneBase{moduleOnAwake(){e._BoxList=this.Owner.MyList,e._BoxArray=L.objArray_Copy(Laya.loader.getRes("GameData/VictoryBox/VictoryBox.json").RECORDS),e._selectBox=null,e._canOpenNum=3,e._openVictoryBoxNum++,e._adsMaxOpenNum=6,e._alreadyOpenNum=0}moduleOnEnable(){this.boxList_Create()}boxList_Create(){e._BoxList.selectEnable=!0,e._BoxList.selectHandler=new Laya.Handler(this,this.boxList_Scelet),e._BoxList.renderHandler=new Laya.Handler(this,this.boxList_Update),this.boxList_refresh()}boxList_Scelet(e){}boxList_Update(e,a){}boxList_refresh(){e._BoxList&&(e._BoxList.array=e._BoxArray,e._BoxList.refresh())}}}(S=e.VictoryBox||(e.VictoryBox={})),function(e){function getProperty(a,t){let n=null;for(let r=0;r<e._checkArray.length;r++){const o=e._checkArray[r];if(o.name===a){n=o[t];break}}return null!==n?n:(console.log(a+"找不到属性:"+t,n),null)}function setProperty(a,t,n,r){for(let a=0;a<e._checkArray.length;a++){const o=e._checkArray[a];if(o.name===t){o[n]=r;break}}let o={};o[a]=e._checkArray,Laya.LocalStorage.setJSON(a,JSON.stringify(o)),e._checkList&&e._checkList.refresh()}let a,t,n;e._fromWhich=d._SceneName.PreLoad,e._lastCheckDate={get date(){return Laya.LocalStorage.getItem("Check_lastCheckDate")?Number(Laya.LocalStorage.getItem("Check_lastCheckDate")):-1},set date(e){Laya.LocalStorage.setItem("Check_lastCheckDate",e.toString())}},e._checkInNum={get number(){return Laya.LocalStorage.getItem("Check_checkInNum")?Number(Laya.LocalStorage.getItem("Check_checkInNum")):0},set number(e){Laya.LocalStorage.setItem("Check_checkInNum",e.toString())}},e._todayCheckIn={get bool(){return e._lastCheckDate.date==c._date.date}},e.getProperty=getProperty,e.setProperty=setProperty,e.openCheckIn=function(){e._todayCheckIn.bool?(b._adsNum.value<7&&d._openScene(d._SceneName.SkinQualified),console.log("签到过了，今日不可以再签到")):(console.log("没有签到过，弹出签到页面！"),d._openScene(d._SceneName.CheckIn))},e.todayCheckIn_7Days=function(){return e._lastCheckDate.date=c._date.date,e._checkInNum.number++,setProperty(a.chek_7Days,"day"+e._checkInNum.number,t.checkInState,!0),getProperty("day"+e._checkInNum.number,t.rewardNum)},e.init=function(){7!==e._checkInNum.number||e._todayCheckIn.bool||(e._checkInNum.number=0,Laya.LocalStorage.removeItem(a.chek_7Days))},function(e){e.chek_7Days="Chek_7Days",e.chek_15Days="Chek_15Days",e.chek_30Days="Chek_30Days"}(a=e.CheckClass||(e.CheckClass={})),function(e){e.name="name",e.rewardType="rewardType",e.rewardNum="rewardNum",e.checkInState="checkInState",e.arrange="arrange"}(t=e.CheckProPerty||(e.CheckProPerty={})),function(e){e.removeCheckBtn="removeCheckBtn"}(n=e.EventType||(e.EventType={}));e.CheckInScene=class extends d._SceneBase{moduleOnAwake(){e._checkList=this.Owner.CheckList,e._checkArray=L.jsonCompare("GameData/CheckIn/CheckIn.json",a.chek_7Days,t.name)}moduleOnEnable(){this.checkList_Create()}moduleEventRegister(){}checkList_Create(){e._checkList.selectEnable=!0,e._checkList.selectHandler=new Laya.Handler(this,this.checkList_Scelet),e._checkList.renderHandler=new Laya.Handler(this,this.checkList_Update),this.checkList_refresh()}checkList_Scelet(e){}checkList_Update(e,a){}checkList_refresh(){e._checkList&&(e._checkList.array=e._checkArray,e._checkList.refresh())}}}(O=e.CheckIn||(e.CheckIn={})),function(e){let a;e._adsNum={get value(){return Laya.LocalStorage.getItem("SkinQualified_adsNum")?Number(Laya.LocalStorage.getItem("SkinQualified_adsNum")):0},set value(e){Laya.LocalStorage.setItem("SkinQualified_adsNum",e.toString())}},e.openUISkinQualified=function(a){e._adsNum.value>=e._needAdsNum||(d._openScene(d._SceneName.SkinQualified),e._fromScene=a)},function(e){e.acquisition="acquisition"}(a=e.EventType||(e.EventType={}));e.SkinQualifiedScene=class extends d._SceneBase{moduleOnEnable(){e._needAdsNum=3}}}(b=e.SkinQualified||(e.SkinQualified={})),function(e){let a,t,n;e._skinClassArr=[],e._headSkinArr=[],e._currentHead={get name(){return Laya.LocalStorage.getItem("Skin_currentHead")?Laya.LocalStorage.getItem("Skin_currentHead"):null},set name(e){Laya.LocalStorage.setItem("Skin_currentHead",e)}},e._eyeSkinArr=[],e._currentEye={get name(){return Laya.LocalStorage.getItem("Skin_currentEye")?Laya.LocalStorage.getItem("Skin_currentEye"):null},set name(e){Laya.LocalStorage.setItem("Skin_currentEye",e)}},function(e){e.head="head",e.eye="eye",e.body="body",e.upperBody="upperBody",e.lowerBody="lowerBody"}(a=e.SkinClass||(e.SkinClass={})),function(e){e.name="name",e.getway="getway",e.condition="condition",e.resCondition="resCondition",e.arrange="arrange",e.getOder="getOder",e.classify="classify",e.have="have"}(t=e.SkinProperty||(e.SkinProperty={})),function(e){e.purchase="purchase",e.select="select"}(n=e.EventType||(e.EventType={}));e.SkinScene=class extends d._SceneBase{moduleOnAwake(){e._SkinTap=this.Owner.SkinTap,e._SkinList=this.Owner.SkinList,e._skinClassArr=[e._eyeSkinArr,e._headSkinArr]}moduleOnEnable(){this.skinList_Create(),this.skinTap_Create()}skinTap_Create(){e._SkinTap.selectHandler=new Laya.Handler(this,this.skinTap_Select)}skinTap_Select(e){}skinList_Create(){e._SkinList.selectEnable=!0,e._SkinList.selectHandler=new Laya.Handler(this,this.skinList_Scelet),e._SkinList.renderHandler=new Laya.Handler(this,this.skinList_Update),this.skinList_refresh()}skinList_Scelet(e){}skinList_Update(e,a){}skinList_refresh(){e._SkinList&&e._skinClassArr.length>1&&(e._SkinList.array=e._skinClassArr[0],e._SkinList.refresh())}}}(k=e.Skin||(e.Skin={})),function(e){function getProperty(e,a,t){let n=null,r=getClassArr(e);for(let e=0;e<r.length;e++){const o=r[e];if(o.name===a){n=o[t];break}}return null!==n?n:(console.log(a+"找不到属性:"+t,n),null)}function setProperty(e,a,t,n){let r=getClassArr(e);for(let e=0;e<r.length;e++){const o=r[e];if(o.name===a){o[t]=n;break}}let o={};o[e]=r,Laya.LocalStorage.setJSON(e,JSON.stringify(o))}function getClassArr(a){let t=[];switch(a){case n.Easte_registerg_01:t=e._easte_registerg_1Arr}return t}let a,t,n,r,o;e._easte_registerg_1Arr=[],e._easte_registerg_1={get value(){return!!Laya.LocalStorage.getItem("_easte_registerg_01")},set value(e){Laya.LocalStorage.setItem("_easte_registerg_01",e.toString())}},e.initEaste_registerg=function(){e._easte_registerg_1Arr=L.jsonCompare("GameData/Easte_registerg/Easte_registerg.json",n.Easte_registerg_01,t.name),Laya.loader.getRes("GameData/Easte_registerg/Easte_registerg.json").RECORDS},e.getProperty=getProperty,e.setProperty=setProperty,e.getClassArr=getClassArr,e.doDetection=function(e,a,n){n||(n=0);let r=getProperty(e,a,t.resCondition),o=getProperty(e,a,t.condition);return!!getProperty(e,a,t.complete)||(o<=r+n?(setProperty(e,a,t.resCondition,o),setProperty(e,a,t.complete,!0),console.log(getProperty(e,a,t.complete)),!0):(setProperty(e,a,t.resCondition,r+n),!1))},e.detectAllTasks=function(e){let a=1,n=getClassArr(e);for(const r in n)if(n.hasOwnProperty(r)){const o=n[r];let l=getProperty(e,o.name,t.resCondition);getProperty(e,o.name,t.condition)>l&&(a=0)}return 1==a?console.log(e,"完成了！"):console.log(e,"没有完成！"),a},function(e){e.gold="gold",e.diamond="diamond",e.assembly="assembly"}(a=e.rewardType||(e.rewardType={})),function(e){e.name="name",e.explain="explain",e.condition="condition",e.resCondition="resCondition",e.complete="complete"}(t=e.Property||(e.Property={})),function(e){e.Easte_registerg_01="Easte_registerg_01"}(n=e.Classify||(e.Classify={})),function(e){e.assembly_1="assembly_1",e.assembly_2="assembly_2",e.assembly_3="assembly_3",e.assembly_4="assembly_4",e.assembly_5="assembly_5"}(r=e.Name||(e.Name={})),function(e){e.trigger="trigger",e.easte_registergAds="easte_registergAds"}(o=e.EventType||(e.EventType={}));e.Easte_registergScene=class extends d._SceneBase{moduleOnAwake(){}moduleOnEnable(){}moduleEventRegister(){}}}(v=e.Easte_registerg||(e.Easte_registerg={})),function(e){e.VictoryScene=class extends d._SceneBase{moduleOnAwake(){}moduleEventRegister(){}moduleOnEnable(){}}}(C=e.Victory||(e.Victory={})),function(e){e.DefeatedScene=class extends d._SceneBase{moduleOnAwake(){}moduleEventRegister(){}moduleOnEnable(){}}}(N=e.Defeated||(e.Defeated={})),function(e){e._freeAds={get num(){return Laya.LocalStorage.getItem("DrawCard_freeAdsNum")?Number(Laya.LocalStorage.getItem("DrawCard_freeAdsNum")):0},set num(e){Laya.LocalStorage.setItem("DrawCard_freeAdsNum",e.toString())}},e._residueDraw={get num(){return Laya.LocalStorage.getItem("DrawCard_residueDraw")?Number(Laya.LocalStorage.getItem("DrawCard_residueDraw")):2},set num(e){Laya.LocalStorage.setItem("DrawCard_residueDraw",e.toString())}},e._drawCount={get num(){return Laya.LocalStorage.getItem("DrawCard_drawCount")?Number(Laya.LocalStorage.getItem("DrawCard_drawCount")):0},set num(e){Laya.LocalStorage.setItem("DrawCard_drawCount",e.toString())}};e.DrawCardScene=class extends d._SceneBase{moduleOnAwake(){}moduleEventRegister(){}moduleOnEnable(){}}}(X=e.DrawCard||(e.DrawCard={})),function(e){e._fromWhich=d._SceneName.Victory;e.ShareScene=class extends d._SceneBase{moduleOnAwake(){}moduleEventRegister(){}moduleOnEnable(){}}}(P=e.Share||(e.Share={})),function(e){e.PropTryScene=class extends d._SceneBase{moduleOnAwake(){}moduleEventRegister(){}moduleOnEnable(){}}}(A=e.PropTry||(e.PropTry={})),function(e){e._prop1={get num(){return Laya.LocalStorage.getItem("Backpack_prop1")?Number(Laya.LocalStorage.getItem("Backpack_prop1")):1},set num(e){Laya.LocalStorage.setItem("Backpack_prop1",e.toString())}},e._prop2={get num(){return Laya.LocalStorage.getItem("Backpack_prop2")?Number(Laya.LocalStorage.getItem("Backpack_prop2")):1},set num(e){Laya.LocalStorage.setItem("Backpack_prop2",e.toString())}},e._trophy={get num(){return Laya.LocalStorage.getItem("Backpack_trophy")?Number(Laya.LocalStorage.getItem("Backpack_trophy")):0},set num(e){Laya.LocalStorage.setItem("Backpack_trophy",e.toString())}},e._haveCardArray={get arr(){try{let e=Laya.LocalStorage.getJSON("Backpack_haveCardArray");return e?JSON.parse(e):[]}catch(e){return[]}},set arr(e){Laya.LocalStorage.setJSON("Backpack_haveCardArray",JSON.stringify(e))},add(a){let t=e._haveCardArray.arr;for(let e=0;e<a.length;e++)t.push(a[e]);let n=L.arrayUnique_01(t);return Laya.LocalStorage.setJSON("Backpack_haveCardArray",JSON.stringify(n)),n},sub(a){let t=e._haveCardArray.arr;for(let e=0;e<t.length;e++)for(let n=0;n<a.length;n++)t[e]==a[n]&&(t.splice(e,1),e--);return Laya.LocalStorage.setJSON("Backpack_haveCardArray",JSON.stringify(t)),t}},e._backpackArray=[];e.BackpackScene=class extends d._SceneBase{moduleOnAwake(){}moduleEventRegister(){}moduleOnEnable(){}}}(x=e.Backpack||(e.Backpack={})),function(e){let a,t,n=[],r=[],o=[],l=[],i=[],c=[],u=[],h=[],m=[],y=[],g=[];e._sumProgress=0,e._loadOrder=[],e._loadOrderIndex=0,e._whereToLoad=d._SceneName.PreLoad,function(e){e.scene3D="scene3D",e.prefab3D="prefab3D",e.mesh3D="mesh3D",e.material="material",e.texture="texture",e.texture2D="texture2D",e.pic2D="pic2D",e.scene2D="scene2D",e.prefab2D="prefab2D",e.json="json",e.skeleton="skeleton"}(a=e._ListName||(e._ListName={})),e._currentProgress={get value(){return this.len?this.len:0},set value(a){if(this.len=a,this.len>=e._sumProgress){if(0==e._sumProgress)return;console.log("当前进度条进度为:",e._currentProgress.value/e._sumProgress),console.log("进度条停止！"),console.log('所有资源加载完成！此时所有资源可通过例如 Laya.loader.getRes("url")获取'),s._notify(e._Event.complete)}else{let a=0;for(let t=0;t<=e._loadOrderIndex;t++)a+=e._loadOrder[t].length;this.len==a&&e._loadOrderIndex++,s._notify(e._Event.startLoding)}}},function(e){e.importList="_PreLoad_importList",e.complete="_PreLoad_complete",e.startLoding="_PreLoad_startLoding",e.progress="_PreLoad_progress"}(t=e._Event||(e._Event={})),e._remakeLode=function(){n=[],r=[],o=[],l=[],c=[],u=[],h=[],m=[],y=[],g=[],e._loadOrder=[],e._sumProgress=0,e._loadOrderIndex=0,e._currentProgress.value=0};e._PreLoadScene=class extends d._SceneBase{moduleOnAwake(){e._remakeLode()}lwgStartLoding(a){s._notify(e._Event.importList,a)}moduleEventRegister(){s._register(t.importList,this,t=>{for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))for(const s in t[e])if(Object.prototype.hasOwnProperty.call(t[e],s)){const d=t[e][s];switch(e){case a.json:y.push(d);break;case a.material:l.push(d);break;case a.mesh3D:o.push(d);break;case a.pic2D:u.push(d);break;case a.prefab2D:m.push(d);break;case a.prefab3D:r.push(d);break;case a.scene2D:h.push(d);break;case a.scene3D:n.push(d);break;case a.texture2D:c.push(d);break;case a.skeleton:g.push(d);break;case a.texture:i.push(d)}}e._loadOrder=[u,h,m,n,r,y,c,o,l,g];for(let a=0;a<e._loadOrder.length;a++)e._sumProgress+=e._loadOrder[a].length,e._loadOrder[a].length<=0&&(e._loadOrder.splice(a,1),a--);let d=this.lwgOpenAni();null==d&&(d=0),Laya.timer.once(d,this,()=>{s._notify(e._Event.startLoding)})}),s._register(t.startLoding,this,()=>{this.startLodingRule()}),s._register(t.complete,this,()=>{let a=this.lwgAllComplete();Laya.timer.once(a,this,()=>{if(this.Owner.name=e._whereToLoad,d._sceneControl[e._whereToLoad]=this.Owner,e._whereToLoad!==d._SceneName.PreLoad)d._preLoadOpenSceneLater.openSceneName&&d._openScene(d._preLoadOpenSceneLater.openSceneName,d._preLoadOpenSceneLater.cloesSceneName,()=>{d._preLoadOpenSceneLater.func,d._closeScene(e._whereToLoad)},d._preLoadOpenSceneLater.zOrder);else{for(const e in d._moudel)if(Object.prototype.hasOwnProperty.call(d._moudel,e)){const a=d._moudel[e];a._init?a._init():console.log(a,"模块没有初始化函数！")}f.playMusic(),d._closeScene(e._whereToLoad,()=>{e._whereToLoad=d._SceneName.PreLoadStep})}})}),s._register(t.progress,this,()=>{e._currentProgress.value++,e._currentProgress.value<e._sumProgress&&(console.log("当前进度条进度为:",e._currentProgress.value/e._sumProgress),this.lwgStepComplete())})}moduleOnEnable(){e._loadOrderIndex=0}startLodingRule(){if(e._loadOrder.length<=0)return console.log("没有加载项"),void s._notify(e._Event.complete);let a=0;for(let t=0;t<e._loadOrderIndex;t++)a+=e._loadOrder[t].length;let d=e._currentProgress.value-a;switch(e._loadOrder[e._loadOrderIndex]){case u:Laya.loader.load(u[d],Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX2D资源"+u[d]+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):console.log("2D图片"+u[d]+"加载完成！","数组下标为：",d),s._notify(t.progress)}));break;case h:Laya.loader.load(h[d],Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX数据表"+h[d]+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):console.log("2D场景"+h[d]+"加载完成！","数组下标为：",d),s._notify(t.progress)}),null,Laya.Loader.JSON);break;case n:Laya.Scene3D.load(n[d].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX3D场景"+n[d].url+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):(n[d].scene=e,console.log("3D场景"+n[d].url+"加载完成！","数组下标为：",d)),s._notify(t.progress)}));break;case r:Laya.Sprite3D.load(r[d].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX3D预设体"+r[d].url+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):(r[d].prefab=e,console.log("3D预制体"+r[d].url+"加载完成！","数组下标为：",d)),s._notify(t.progress)}));break;case o:Laya.Mesh.load(o[d].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX3D网格"+o[d].url+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):console.log("3D网格"+o[d].url+"加载完成！","数组下标为：",d),s._notify(t.progress)}));break;case i:Laya.Texture2D.load(i[d].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX2D纹理"+i[d].url+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):(i[d].texture2D=e,console.log("2D纹理"+i[d].url+"加载完成！","数组下标为：",d)),s._notify(t.progress)}));break;case c:Laya.Texture2D.load(c[d].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX2D纹理"+c[d].url+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):(c[d].texture2D=e,console.log("2D纹理"+c[d].url+"加载完成！","数组下标为：",d)),s._notify(t.progress)}));break;case l:Laya.Material.load(l[d].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX材质"+l[d].url+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):console.log("材质"+l[d].url+"加载完成！","数组下标为：",d),s._notify(t.progress)}));break;case y:Laya.loader.load(y[d].url,Laya.Handler.create(this,e=>{null==e?console.log("XXXXXXXXXXX数据表"+y[d]+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"):(y[d].data=e.RECORDS,console.log("数据表"+y[d].url+"加载完成！","数组下标为：",d)),s._notify(t.progress)}),null,Laya.Loader.JSON);break;case g:g[d].templet.on(Laya.Event.ERROR,this,()=>{console.log("XXXXXXXXXXX骨骼动画"+g[d]+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX"),s._notify(t.progress)}),g[d].templet.on(Laya.Event.COMPLETE,this,()=>{console.log("骨骼动画",g[d].templet.url,"加载完成！","数组下标为：",d),s._notify(t.progress)}),g[d].templet.loadAni(g[d].url);break;case m:Laya.loader.load(m[d].url,Laya.Handler.create(this,e=>{if(null==e)console.log("XXXXXXXXXXX数据表"+m[d].url+"加载失败！不会停止加载进程！","数组下标为：",d,"XXXXXXXXXXX");else{let a=new Laya.Prefab;a.json=e,m[d].prefab=a,console.log("2D预制体"+m[d].url+"加载完成！","数组下标为：",d)}s._notify(t.progress)}))}}lwgStepComplete(){}lwgAllComplete(){return 0}}}(D=e.LwgPreLoad||(e.LwgPreLoad={})),function(e){let a;function _init(){switch(d._platform.name){case d._platform.tpye.WeChat:_loadPkg_Wechat();break;case d._platform.tpye.OPPO||d._platform.tpye.VIVO:_loadPkg_VIVO()}}function _loadPkg_VIVO(){if(e._pkgStep!==e._pkgInfo.length){let a=e._pkgInfo[e._pkgStep].name;Laya.Browser.window.qg.loadSubpackage({name:a,success:a=>{e._pkgStep++,_loadPkg_VIVO()},fail:e=>{console.error(`load ${a} err: `,e)}})}}function _loadPkg_Wechat(){if(e._pkgStep!==e._pkgInfo.length){let a=e._pkgInfo[e._pkgStep],t=a.name,n=a.root;Laya.Browser.window.wx.loadSubpackage({name:t,success:a=>{console.log(`load ${t} suc`),Laya.MiniAdpter.subNativeFiles[t]=n,Laya.MiniAdpter.nativefiles.push(n),e._pkgStep++,console.log("加载次数",e._pkgStep),_loadPkg_Wechat()},fail:e=>{console.error(`load ${t} err: `,e)}})}}e._pkgStep=0,e._pkgInfo=[{name:"sp1",root:"res"},{name:"sp2",root:"3DScene"},{name:"sp3",root:"3DPrefab"}],function(e){e.start="_ResPrepare_start",e.nextStep="_ResPrepare_nextStep",e.compelet="_ResPrepare_compelet"}(a=e._Event||(e._Event={})),e._init=_init,e._loadPkg_VIVO=_loadPkg_VIVO,e._loadPkg_Wechat=_loadPkg_Wechat;e._LwgInitScene=class extends d._SceneBase{moduleOnStart(){_init(),this.lwgOpenScene(t.PreLoad,null,()=>{})}}}(E=e._LwgInit||(e._LwgInit={}))}(e||(e={}));let a=e.Admin,t=(a._SceneBase,a._SceneName),n=e.EventAdmin,r=(e.DateAdmin,e.TimerAdmin),o=(e.Pause,e.Execution,e.Gold),l=e.Setting,i=(e.PalyAudio,e.Click),s=(e.Color,e.Effects,e.Dialogue,e.Animation2D),c=(e.Animation3D,e.Tools),u=(e.Elect,e.LwgPreLoad),d=(e.LwgPreLoad._PreLoadScene,e._LwgInit),h=e._LwgInit._LwgInitScene;e.Shop,e.Shop.ShopScene,e.VictoryBox,e.VictoryBox.VictoryBoxScene,e.CheckIn,e.CheckIn.CheckInScene,e.SkinQualified,e.SkinQualified.SkinQualifiedScene,e.Skin,e.Skin.SkinScene,e.Easte_registerg,e.Victory,e.Victory.VictoryScene,e.Defeated,e.Defeated.DefeatedScene,e.DrawCard,e.DrawCard.DrawCardScene,e.Share,e.Share.ShareScene,e.PropTry,e.PropTry.PropTryScene,e.Backpack,e.Backpack.BackpackScene;var m;!function(e){e._Data=class{},e._init=function(){};e.Enemy=class extends a._Person{};e.Game=class extends a._SceneBase{lwgOnStart(){r._frameLoop(1,this,()=>{this.ImgVar("LandContent").rotation+=.1});for(let e=0;e<this.ImgVar("WeaponParent").numChildren;e++){const a=this.ImgVar("WeaponParent").getChildAt(e);r._frameLoop(1,this,()=>{let e=c.point_GetRoundPos(a.rotation+=.1,this.ImgVar("WeaponParent").width/2-50,new Laya.Point(this.ImgVar("WeaponParent").width/2,this.ImgVar("WeaponParent").height/2));a.x=e.x,a.y=e.y})}for(let e=0;e<this.ImgVar("EnemyParent").numChildren;e++){const a=this.ImgVar("EnemyParent").getChildAt(e);let t=1==c.randomOneHalf()?-.5:.5;r._frameLoop(1,this,()=>{let e=c.point_GetRoundPos(a.rotation+=t,this.ImgVar("MobileFrame").width/2,new Laya.Point(this.ImgVar("LandContent").width/2,this.ImgVar("LandContent").height/2));a.x=e.x,a.y=e.y})}}lwgBtnClick(){}}}(m||(m={}));var y;m.Game;!function(e){let o;e._complete={get bool(){return!!Laya.LocalStorage.getItem("_Guide_complete")&&0!=Number(Laya.LocalStorage.getItem("_Guide_complete"))},set bool(e){1==e&&(e=1),Laya.LocalStorage.setItem("_Guide_complete",e.toString())}},e._whichStep={get num(){return Laya.LocalStorage.getItem("_Guide_whichStep")?Number(Laya.LocalStorage.getItem("_Guide_whichStep")):1},set num(e){Laya.LocalStorage.setItem("_Guide_whichStep",e.toString())}},e._whichStepNum=1,function(e){e.onStep="_Guide_onStep",e.stepComplete="_Guide_stepComplete",e.appear="_Guide_appear",e.start="_Guide_start",e.complete="_Guide_complete"}(o=e._Event||(e._Event={})),e._init=function(){console.log("开始进行新手引导！"),a._openScene(t.Start,null,()=>{console.log("新手引导完成！")})};e._GuideBase=class extends a._SceneBase{moduleOnAwake(){}moduleOnEnable(){}moduleEventRegister(){}};e.Guide=class extends e._GuideBase{lwgOnEnable(){this.Owner.Background.alpha=0,this.Owner.Hand.alpha=0,n._notify(e._Event.onStep),this.Owner.Draw.on(Laya.Event.LABEL,this,e=>{if("start"===e){if(!this.Owner.Hand.getChildByName("DrawCanvas")){let e=new Laya.Sprite;e.name="DrawCanvas",this.Owner.Hand.addChild(e),this.Owner.Handpic.pos(0,0),this.Owner.Handpic.pivotX=0,this.Owner.Handpic.pivotY=0,this.drawLinePos=new Laya.Point(this.Owner.Handpic.x,this.Owner.Handpic.y)}}else if("end"===e){let e=this.Owner.Hand.getChildByName("DrawCanvas");this.Owner.Hand.getChildByName("DrawCanvas")&&(this.drawLinePos,e.removeSelf())}}),r._frameLoop(1,this,()=>{let e=this.Owner.Hand.getChildByName("DrawCanvas");e&&this.drawLinePos&&(e.graphics.drawLine(this.drawLinePos.x,this.drawLinePos.y,this.Owner.Handpic.x,this.Owner.Handpic.y,"#000000",8),e.graphics.drawCircle(this.Owner.Handpic.x,this.Owner.Handpic.y,4,"#000000"),this.drawLinePos=new Laya.Point(this.Owner.Handpic.x,this.Owner.Handpic.y))})}lwgEventRegister(){var t=()=>{this.Owner.Draw.play(0,!0),n._notify(e._Event.appear),this.Owner.Hand.pos(198,523),c.Draw.reverseRoundMask(this.Owner.Background,360,598,350,!0)},r=()=>{n._notify(e._Event.appear),this.Owner.Hand.pos(360,1161),this.Owner.Click.play(0,!0),c.Draw.reverseRoundrectMask(this.Owner.Background,360,1161,320,150,40,!0)},o=()=>{n._notify(e._Event.appear),this.Owner.Hand.pos(75,102),this.Owner.Click.play(0,!0),c.Draw.reverseRoundMask(this.Owner.Background,72,105,60)},l=()=>{n._notify(e._Event.appear),this.Owner.Hand.pos(630,790),this.Owner.Click.play(0,!0),c.Draw.reverseRoundrectMask(this.Owner.Background,653,758,130,150,20,!0)},i=()=>{n._notify(e._Event.appear),this.Owner.Hand.pos(360,.779*Laya.stage.height),this.Owner.Click.play(0,!0),c.Draw.reverseRoundrectMask(this.Owner.Background,360,.779*Laya.stage.height,450,180,20,!0)};n._register(e._Event.onStep,this,()=>{Laya.timer.once(500,this,()=>{switch(console.log("新手引导到了第：",e._whichStepNum+"步了"),e._whichStepNum){case 1:t();break;case 2:r();break;case 3:t();break;case 4:r();break;case 5:o();break;case 6:l();break;case 7:o();break;case 8:i()}})}),n._register(e._Event.appear,this,e=>{s.fadeOut(this.Owner.Hand,0,1,150),s.fadeOut(this.Owner.Background,0,.5,300)}),n._register(e._Event.stepComplete,this,()=>{e._whichStepNum++;let a=this.Owner.Hand.getChildByName("DrawCanvas");this.Owner.Hand.getChildByName("DrawCanvas")&&(this.drawLinePos,a.removeSelf()),s.fadeOut(this.Owner.Hand,1,0,150),s.fadeOut(this.Owner.Background,.5,0,300,0,()=>{this.Owner.Draw.stop(),this.Owner.Click.stop()})}),n._register(e._Event.complete,this,()=>{s.fadeOut(this.Owner.Hand,1,0,150),s.fadeOut(this.Owner.Background,.5,0,300,0,()=>{e._complete.bool=!0,a._closeScene(this.Owner.name)})})}}}(y||(y={}));var g,p,_,f;y.Guide;!function(e){e._list={prefab2D:{LwgGold:{url:"Prefab/LwgGold.json",prefab:new Laya.Prefab},Weapon:{url:"Prefab/Weapon.json",prefab:new Laya.Prefab},Enemy:{url:"Prefab/Enemy.json",prefab:new Laya.Prefab}},scene2D:{UIStart:"Scene/"+t.Start+".json",GameScene:"Scene/"+t.Game+".json"},json:{}}}(g||(g={})),function(e){e.PreLoad=class extends u._PreLoadScene{lwgOnStart(){n._notify(u._Event.importList,g._list)}lwgOpenAni(){return 1}lwgStepComplete(){}lwgAllComplete(){return 1e3}}}(p||(p={})),function(e){e._game={}}(_||(_={})),function(e){e.PreLoadStep=class extends u._PreLoadScene{lwgOnStart(){switch(a._preLoadOpenSceneLater.openSceneName){case t.Game:n._notify(u._Event.importList,[_._game])}}}}(f||(f={}));var L;f.PreLoadStep;!function(e){e._init=function(){};class n extends a._SceneBase{moduleOnAwake(){}}e._StartScene=n;e.Start=class extends n{lwgOnAwake(){}lwgBtnClick(){i._on(i._Type.largen,this.btnVar("BtnStart"),this,null,null,()=>{let e=t.Game+a._game.level;this.lwgOpenScene(t.Game+a._game.level,!0,()=>{a._sceneControl[e].getComponent(m.Game)||a._sceneControl[e].addComponent(m.Game)})})}};e.StartItem=class extends a._Object{}}(L||(L={}));var w;L.Start;!function(e){e._data=class{},e._init=function(){};e.VictoryBase=class extends a._SceneBase{};e.Victory=class extends e.VictoryBase{}}(w||(w={}));w.Victory;class S extends h{lwgOnAwake(){d._pkgInfo=[],a._platform.name=a._platform.tpye.General,a._sceneAnimation.presentAni=a._sceneAnimation.type.stickIn.upRightDownLeft,l._bgMusic.switch=!1,a._moudel={_PreLoad:p,_PreLoadStep:f,_Guide:y,_Start:L,_Game:m,_Victory:w}}}class O{constructor(){}static init(){(0,Laya.ClassUtils.regClass)("script/Frame/LwgInit.ts",S)}}O.width=720,O.height=1280,O.scaleMode="fixedwidth",O.screenMode="vertical",O.alignV="top",O.alignH="left",O.startScene="Scene/Lwginit.scene",O.sceneRoot="",O.debug=!1,O.stat=!1,O.physicsDebug=!1,O.exportSceneToJson=!0,O.init();new class{constructor(){window.Laya3D?Laya3D.init(O.width,O.height):Laya.init(O.width,O.height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=O.scaleMode,Laya.stage.screenMode=O.screenMode,Laya.stage.alignV=O.alignV,Laya.stage.alignH=O.alignH,Laya.URL.exportSceneToJson=O.exportSceneToJson,(O.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),O.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),O.stat&&Laya.Stat.show(),Laya.alertGlobalError=!0,Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){O.startScene&&Laya.Scene.open(O.startScene)}}}();